webpackJsonp([0],[
/* 0 */,
/* 1 */,
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ALL_BODIES = exports.AU = undefined;\n\nvar _three = __webpack_require__(1);\n\n/**\n * Kepler elements taken from http://ssd.jpl.nasa.gov/txt/aprx_pos_planets.pdf\n * Planetary constants taken from http://www.braeunig.us/space/constant.htm\n *\n * All distances are scaled down by the AU to reduce the size of the numbers\n * throughout the simulation.\n */\n\nvar AU = exports.AU = 149.59787e9;\n\nvar body_data = {\n  \"sun\": {\n    constants: {\n      u: 1.32712438e20 / Math.pow(AU, 3),\n      radius: 696e6 / AU\n    }\n  },\n  \"mercury\": {\n    primary: \"sun\",\n    constants: {\n      u: 0.02203e15 / Math.pow(AU, 3),\n      radius: 2.4397e6 / AU,\n      rotation_period: 58.646, // days\n      axial_tilt: 0.034 },\n    kepler_elements: {\n      a: [0.38709843, 0.0],\n      e: [0.20563661, 0.00002123],\n      I: [7.00559432, -0.00590158],\n      L: [252.25166724, 149472.67486623],\n      w: [77.45771895, 0.15940013],\n      omega: [48.33961819, -0.12214182]\n    }\n  },\n  \"venus\": {\n    primary: \"sun\",\n    constants: {\n      u: 0.3249e15 / Math.pow(AU, 3),\n      radius: 6.0518e6 / AU,\n      rotation_period: -243.025, // days (negative == retrograde)\n      axial_tilt: 177.36 },\n    kepler_elements: {\n      a: [0.72332102, -0.00000026],\n      e: [0.00676399, -0.00005107],\n      I: [3.39777545, 0.00043494],\n      L: [181.97970850, 58517.81560260],\n      w: [131.76755713, 0.05679648],\n      omega: [76.67261496, -0.27274174]\n    }\n  },\n\n  \"moon\": {\n    primary: \"earth\",\n    constants: {\n      u: 4.902794e12 / Math.pow(AU, 3),\n      radius: 1738e3 / AU,\n      rotation_period: 27.321661,\n      axial_tilt: 6.687\n    },\n    kepler_elements: {\n      a: [0.00257, 0],\n      e: [0.0549, 0],\n      I: [5.145, 0],\n      // mean longitude,\n      L: [0, 500000],\n      // longitude of perihelion\n      w: [0, 0],\n      // longitude of the ascending node\n      omega: [0, 0]\n    }\n  },\n  \"earth\": {\n    primary: \"sun\",\n    constants: {\n      u: 0.3986e15 / Math.pow(AU, 3),\n      radius: 6.3781e6 / AU,\n      rotation_period: 0.99726968,\n      axial_tilt: 23.4392811\n    },\n    kepler_elements: {\n      a: [1.00000018, -0.00000003],\n      e: [0.01673163, -0.00003661],\n      I: [-0.00054346, -0.01337178],\n      L: [100.46691572, 35999.37306329],\n      w: [102.93005885, 0.31795260],\n      omega: [-5.11260389, -0.24123856]\n    }\n  },\n  \"firefly\": {\n    primary: \"earth\",\n    constants: {\n      radius: 100 / AU\n    },\n    kepler_elements: {\n      //a: [0.2, 0],\n      a: [(400e3 + 6.3781e6) / AU, 0],\n      e: [0.2, 0],\n      I: [10, 0],\n      L: [0, 0],\n      w: [0, 0],\n      omega: [0, 0]\n    }\n  },\n  \"mars\": {\n    primary: \"sun\",\n    constants: {\n      u: 0.04283e15 / Math.pow(AU, 3),\n      radius: 3.397e6 / AU,\n      rotation_period: 1.025957, // days\n      axial_tilt: 25.19 },\n    kepler_elements: {\n      a: [1.52371243, 0.00000097],\n      e: [0.09336511, 0.00009149],\n      I: [1.85181869, -0.00724757],\n      L: [-4.56813164, 19140.29934243],\n      w: [-23.91744784, 0.45223625],\n      omega: [49.71320984, -0.26852431]\n    }\n  },\n  \"jupiter\": {\n    primary: \"sun\",\n    constants: {\n      u: 126.686e15 / Math.pow(AU, 3),\n      radius: 7.1492e7 / AU,\n      rotation_period: 0.413542, // days\n      axial_tilt: 3.13 },\n    kepler_elements: {\n      a: [5.20248019, -0.00002864],\n      e: [0.04853590, 0.00018026],\n      I: [1.29861416, -0.00322699],\n      L: [34.33479152, 3034.90371757],\n      w: [14.27495244, 0.18199196],\n      omega: [100.29282654, 0.13024619],\n      perturbations: {\n        b: -0.00012452,\n        c: 0.6064060,\n        s: -0.35635438,\n        f: 38.35125000\n      }\n    }\n  },\n  \"saturn\": {\n    primary: \"sun\",\n    constants: {\n      u: 37.391e15 / Math.pow(AU, 3),\n      radius: 6.0268e7 / AU,\n      rotation_period: 0.439583, // days\n      axial_tilt: 26.73 },\n    kepler_elements: {\n      a: [9.54149883, -0.00003065],\n      e: [0.05550825, -0.00032044],\n      I: [2.49424102, 0.00451969],\n      L: [50.07571329, 1222.11494724],\n      w: [92.86136063, 0.54179478],\n      omega: [113.63998702, -0.25015002],\n      perturbations: {\n        b: 0.00025899,\n        c: -0.13434469,\n        s: 0.87320147,\n        f: 38.35125000\n      }\n    }\n  },\n  \"uranus\": {\n    primary: \"sun\",\n    constants: {\n      u: 5.794e15 / Math.pow(AU, 3),\n      radius: 2.5559e7 / AU,\n      rotation_period: 0.71833, // days (negative == retrograde)\n      axial_tilt: 97.77 },\n    kepler_elements: {\n      a: [19.18797948, -0.00020455],\n      e: [0.04685740, -0.00001550],\n      I: [0.77298127, -0.00180155],\n      L: [314.20276625, 428.49512595],\n      w: [172.43404441, 0.09266985],\n      omega: [73.96250215, 0.05739699],\n      perturbations: {\n        b: 0.00058331,\n        c: -0.97731848,\n        s: 0.17689245,\n        f: 7.67025000\n      }\n    }\n  },\n  \"neptune\": {\n    primary: \"sun\",\n    constants: {\n      u: 6.835e15 / Math.pow(AU, 3),\n      radius: 2.4764e7 / AU,\n      rotation_period: 0.6713, // days (negative == retrograde)\n      axial_tilt: 28.32 // relative to orbit\n    },\n    kepler_elements: {\n      a: [30.06952752, 0.00006447],\n      e: [0.00895439, 0.00000818],\n      I: [1.77005520, 0.00022400],\n      L: [304.22289287, 218.46515314],\n      w: [46.68158724, 0.01009938],\n      omega: [131.78635853, -0.00606302],\n      perturbations: {\n        b: -0.00041348,\n        c: 0.68346318,\n        s: -0.10162547,\n        f: 7.67025000\n      }\n    }\n  },\n  \"pluto\": {\n    primary: \"sun\",\n    constants: {\n      u: 0.00083e15 / Math.pow(AU, 3),\n      radius: 1.195e6 / AU,\n      rotation_period: 6.387230, // days\n      axial_tilt: 122.53 },\n    kepler_elements: {\n      a: [39.48686035, 0.00449751],\n      e: [0.24885238, 0.00006016],\n      I: [17.14104260, 0.00000501],\n      L: [238.96535011, 145.18042903],\n      w: [224.09702598, -0.00968827],\n      omega: [110.30167986, -0.00809981],\n      perturbations: {\n        b: -0.01262724,\n        c: 0,\n        s: 0,\n        f: 0\n      }\n    }\n  }\n};\n\n// Initialize map\nvar bodyMap = new Map(Object.keys(body_data).map(function (name) {\n  var body = body_data[name];\n  body.name = name;\n  body.derived = {};\n\n  if (name === 'sun') {\n    body.derived = {\n      position: new _three.Vector3(0, 0, 0),\n      velocity: new _three.Vector3(0, 0, 0),\n      apoapsis: new _three.Vector3(0, 0, 0),\n      periapsis: new _three.Vector3(0, 0, 0),\n      center: new _three.Vector3(0, 0, 0)\n    };\n  }\n\n  return [name, body];\n}));\n\n// Set back-references on body graph\nArray.from(bodyMap.values()).forEach(function (body) {\n\n  // Set primary\n  if (body.primary) {\n    body.primary = bodyMap.get(body.primary);\n\n    // Add self to primary's secondaries property\n    if (!body.primary.secondaries) body.primary.secondaries = [];\n\n    body.primary.secondaries.push(body);\n  }\n});\n\n// Flatten the dependency graph to ensure that primary bodies are always\n// evaluated before their secondaries (satellites)\n\nfunction flatten(body) {\n  if (!body) {\n    return [];\n  }\n\n  return (body.secondaries || []).reduce(function (bodies, b) {\n    return bodies.concat(flatten(b));\n  }, [body]);\n}\n\nvar ALL_BODIES = exports.ALL_BODIES = flatten(bodyMap.get('sun'));//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL0JvZGllcy5qcz85NWE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnO1xuXG4vKipcbiAqIEtlcGxlciBlbGVtZW50cyB0YWtlbiBmcm9tIGh0dHA6Ly9zc2QuanBsLm5hc2EuZ292L3R4dC9hcHJ4X3Bvc19wbGFuZXRzLnBkZlxuICogUGxhbmV0YXJ5IGNvbnN0YW50cyB0YWtlbiBmcm9tIGh0dHA6Ly93d3cuYnJhZXVuaWcudXMvc3BhY2UvY29uc3RhbnQuaHRtXG4gKlxuICogQWxsIGRpc3RhbmNlcyBhcmUgc2NhbGVkIGRvd24gYnkgdGhlIEFVIHRvIHJlZHVjZSB0aGUgc2l6ZSBvZiB0aGUgbnVtYmVyc1xuICogdGhyb3VnaG91dCB0aGUgc2ltdWxhdGlvbi5cbiAqL1xuXG5leHBvcnQgY29uc3QgQVUgPSAxNDkuNTk3ODdlOTtcblxuY29uc3QgYm9keV9kYXRhID0ge1xuICBcInN1blwiOiB7XG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiAxLjMyNzEyNDM4ZTIwIC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiA2OTZlNiAvIEFVLFxuICAgIH1cbiAgfSxcbiAgXCJtZXJjdXJ5XCI6IHtcbiAgICBwcmltYXJ5OiBcInN1blwiLFxuICAgIGNvbnN0YW50czoge1xuICAgICAgdTogMC4wMjIwM2UxNSAvIE1hdGgucG93KEFVLCAzKSxcbiAgICAgIHJhZGl1czogMi40Mzk3ZTYgLyBBVSxcbiAgICAgIHJvdGF0aW9uX3BlcmlvZDogNTguNjQ2LCAvLyBkYXlzXG4gICAgICBheGlhbF90aWx0OiAwLjAzNCwgLy8gcmVsYXRpdmUgdG8gb3JiaXRcbiAgICB9LFxuICAgIGtlcGxlcl9lbGVtZW50czoge1xuICAgICAgYTogWzAuMzg3MDk4NDMsIDAuMF0sXG4gICAgICBlOiBbMC4yMDU2MzY2MSwgMC4wMDAwMjEyM10sXG4gICAgICBJOiBbNy4wMDU1OTQzMiwgLTAuMDA1OTAxNThdLFxuICAgICAgTDogWzI1Mi4yNTE2NjcyNCwgMTQ5NDcyLjY3NDg2NjIzXSxcbiAgICAgIHc6IFs3Ny40NTc3MTg5NSwgMC4xNTk0MDAxM10sXG4gICAgICBvbWVnYTogWzQ4LjMzOTYxODE5LCAtMC4xMjIxNDE4Ml0sXG4gICAgfVxuICB9LFxuICBcInZlbnVzXCI6IHtcbiAgICBwcmltYXJ5OiBcInN1blwiLFxuICAgIGNvbnN0YW50czoge1xuICAgICAgdTogMC4zMjQ5ZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiA2LjA1MThlNiAvIEFVLFxuICAgICAgcm90YXRpb25fcGVyaW9kOiAtMjQzLjAyNSwgLy8gZGF5cyAobmVnYXRpdmUgPT0gcmV0cm9ncmFkZSlcbiAgICAgIGF4aWFsX3RpbHQ6IDE3Ny4zNiwgLy8gcmVsYXRpdmUgdG8gb3JiaXRcbiAgICB9LFxuICAgIGtlcGxlcl9lbGVtZW50czoge1xuICAgICAgYTogWzAuNzIzMzIxMDIsIC0wLjAwMDAwMDI2XSxcbiAgICAgIGU6IFswLjAwNjc2Mzk5LCAtMC4wMDAwNTEwN10sXG4gICAgICBJOiBbMy4zOTc3NzU0NSwgMC4wMDA0MzQ5NF0sXG4gICAgICBMOiBbMTgxLjk3OTcwODUwLCA1ODUxNy44MTU2MDI2MF0sXG4gICAgICB3OiBbMTMxLjc2NzU1NzEzLCAwLjA1Njc5NjQ4XSxcbiAgICAgIG9tZWdhOiBbNzYuNjcyNjE0OTYsIC0wLjI3Mjc0MTc0XSxcbiAgICB9XG4gIH0sXG5cbiAgXCJtb29uXCI6IHtcbiAgICBwcmltYXJ5OiBcImVhcnRoXCIsXG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiA0LjkwMjc5NGUxMiAvIE1hdGgucG93KEFVLCAzKSxcbiAgICAgIHJhZGl1czogMTczOGUzIC8gQVUsXG4gICAgICByb3RhdGlvbl9wZXJpb2Q6IDI3LjMyMTY2MSxcbiAgICAgIGF4aWFsX3RpbHQ6IDYuNjg3XG4gICAgfSxcbiAgICBrZXBsZXJfZWxlbWVudHM6IHtcbiAgICAgIGE6IFswLjAwMjU3LCAwXSxcbiAgICAgIGU6IFswLjA1NDksIDBdLFxuICAgICAgSTogWzUuMTQ1LCAwXSxcbiAgICAgIC8vIG1lYW4gbG9uZ2l0dWRlLFxuICAgICAgTDogWzAsIDUwMDAwMF0sXG4gICAgICAvLyBsb25naXR1ZGUgb2YgcGVyaWhlbGlvblxuICAgICAgdzogWzAsIDBdLFxuICAgICAgLy8gbG9uZ2l0dWRlIG9mIHRoZSBhc2NlbmRpbmcgbm9kZVxuICAgICAgb21lZ2E6IFswLCAwXSxcbiAgICB9XG4gIH0sXG4gIFwiZWFydGhcIjoge1xuICAgIHByaW1hcnk6IFwic3VuXCIsXG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiAwLjM5ODZlMTUgLyBNYXRoLnBvdyhBVSwgMyksXG4gICAgICByYWRpdXM6IDYuMzc4MWU2IC8gQVUsXG4gICAgICByb3RhdGlvbl9wZXJpb2Q6IDAuOTk3MjY5NjgsXG4gICAgICBheGlhbF90aWx0OiAyMy40MzkyODExLFxuICAgIH0sXG4gICAga2VwbGVyX2VsZW1lbnRzOiB7XG4gICAgICBhOiBbMS4wMDAwMDAxOCwgLTAuMDAwMDAwMDNdLFxuICAgICAgZTogWzAuMDE2NzMxNjMsIC0wLjAwMDAzNjYxXSxcbiAgICAgIEk6IFstMC4wMDA1NDM0NiwgLTAuMDEzMzcxNzhdLFxuICAgICAgTDogWzEwMC40NjY5MTU3MiwgMzU5OTkuMzczMDYzMjldLFxuICAgICAgdzogWzEwMi45MzAwNTg4NSwgMC4zMTc5NTI2MF0sXG4gICAgICBvbWVnYTogWy01LjExMjYwMzg5LCAtMC4yNDEyMzg1Nl0sXG4gICAgfVxuICB9LFxuICBcImZpcmVmbHlcIjoge1xuICAgIHByaW1hcnk6IFwiZWFydGhcIixcbiAgICBjb25zdGFudHM6IHtcbiAgICAgIHJhZGl1czogMTAwIC8gQVUsXG4gICAgfSxcbiAgICBrZXBsZXJfZWxlbWVudHM6IHtcbiAgICAgIC8vYTogWzAuMiwgMF0sXG4gICAgICBhOiBbKDQwMGUzICsgNi4zNzgxZTYpIC8gQVUsIDBdLFxuICAgICAgZTogWzAuMiwgMF0sXG4gICAgICBJOiBbMTAsIDBdLFxuICAgICAgTDogWzAsIDBdLFxuICAgICAgdzogWzAsIDBdLFxuICAgICAgb21lZ2E6IFswLCAwXSxcbiAgICB9LFxuICB9LFxuICBcIm1hcnNcIjoge1xuICAgIHByaW1hcnk6IFwic3VuXCIsXG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiAwLjA0MjgzZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiAzLjM5N2U2IC8gQVUsXG4gICAgICByb3RhdGlvbl9wZXJpb2Q6IDEuMDI1OTU3LCAvLyBkYXlzXG4gICAgICBheGlhbF90aWx0OiAyNS4xOSwgLy8gcmVsYXRpdmUgdG8gb3JiaXRcbiAgICB9LFxuICAgIGtlcGxlcl9lbGVtZW50czoge1xuICAgICAgYTogWzEuNTIzNzEyNDMsIDAuMDAwMDAwOTddLFxuICAgICAgZTogWzAuMDkzMzY1MTEsIDAuMDAwMDkxNDldLFxuICAgICAgSTogWzEuODUxODE4NjksIC0wLjAwNzI0NzU3XSxcbiAgICAgIEw6IFstNC41NjgxMzE2NCwgMTkxNDAuMjk5MzQyNDNdLFxuICAgICAgdzogWy0yMy45MTc0NDc4NCwgMC40NTIyMzYyNV0sXG4gICAgICBvbWVnYTogWzQ5LjcxMzIwOTg0LCAtMC4yNjg1MjQzMV0sXG4gICAgfVxuICB9LFxuICBcImp1cGl0ZXJcIjoge1xuICAgIHByaW1hcnk6IFwic3VuXCIsXG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiAxMjYuNjg2ZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiA3LjE0OTJlNyAvIEFVLFxuICAgICAgcm90YXRpb25fcGVyaW9kOiAwLjQxMzU0MiwgLy8gZGF5c1xuICAgICAgYXhpYWxfdGlsdDogMy4xMywgLy8gcmVsYXRpdmUgdG8gb3JiaXRcbiAgICB9LFxuICAgIGtlcGxlcl9lbGVtZW50czoge1xuICAgICAgYTogWzUuMjAyNDgwMTksIC0wLjAwMDAyODY0XSxcbiAgICAgIGU6IFswLjA0ODUzNTkwLCAwLjAwMDE4MDI2XSxcbiAgICAgIEk6IFsxLjI5ODYxNDE2LCAtMC4wMDMyMjY5OV0sXG4gICAgICBMOiBbMzQuMzM0NzkxNTIsIDMwMzQuOTAzNzE3NTddLFxuICAgICAgdzogWzE0LjI3NDk1MjQ0LCAwLjE4MTk5MTk2XSxcbiAgICAgIG9tZWdhOiBbMTAwLjI5MjgyNjU0LCAwLjEzMDI0NjE5XSxcbiAgICAgIHBlcnR1cmJhdGlvbnM6IHtcbiAgICAgICAgYjogLTAuMDAwMTI0NTIsXG4gICAgICAgIGM6IDAuNjA2NDA2MCxcbiAgICAgICAgczogLTAuMzU2MzU0MzgsXG4gICAgICAgIGY6IDM4LjM1MTI1MDAwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcInNhdHVyblwiOiB7XG4gICAgcHJpbWFyeTogXCJzdW5cIixcbiAgICBjb25zdGFudHM6IHtcbiAgICAgIHU6IDM3LjM5MWUxNSAvIE1hdGgucG93KEFVLCAzKSxcbiAgICAgIHJhZGl1czogNi4wMjY4ZTcgLyBBVSxcbiAgICAgIHJvdGF0aW9uX3BlcmlvZDogMC40Mzk1ODMsIC8vIGRheXNcbiAgICAgIGF4aWFsX3RpbHQ6IDI2LjczLCAvLyByZWxhdGl2ZSB0byBvcmJpdFxuICAgIH0sXG4gICAga2VwbGVyX2VsZW1lbnRzOiB7XG4gICAgICBhOiBbOS41NDE0OTg4MywgLTAuMDAwMDMwNjVdLFxuICAgICAgZTogWzAuMDU1NTA4MjUsIC0wLjAwMDMyMDQ0XSxcbiAgICAgIEk6IFsyLjQ5NDI0MTAyLCAwLjAwNDUxOTY5XSxcbiAgICAgIEw6IFs1MC4wNzU3MTMyOSwgMTIyMi4xMTQ5NDcyNF0sXG4gICAgICB3OiBbOTIuODYxMzYwNjMsIDAuNTQxNzk0NzhdLFxuICAgICAgb21lZ2E6IFsxMTMuNjM5OTg3MDIsIC0wLjI1MDE1MDAyXSxcbiAgICAgIHBlcnR1cmJhdGlvbnM6IHtcbiAgICAgICAgYjogMC4wMDAyNTg5OSxcbiAgICAgICAgYzogLTAuMTM0MzQ0NjksXG4gICAgICAgIHM6IDAuODczMjAxNDcsXG4gICAgICAgIGY6IDM4LjM1MTI1MDAwXG4gICAgICB9XG4gICAgfVxuICB9LFxuICBcInVyYW51c1wiOiB7XG4gICAgcHJpbWFyeTogXCJzdW5cIixcbiAgICBjb25zdGFudHM6IHtcbiAgICAgIHU6IDUuNzk0ZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiAyLjU1NTllNyAvIEFVLFxuICAgICAgcm90YXRpb25fcGVyaW9kOiAwLjcxODMzLCAvLyBkYXlzIChuZWdhdGl2ZSA9PSByZXRyb2dyYWRlKVxuICAgICAgYXhpYWxfdGlsdDogOTcuNzcsIC8vIHJlbGF0aXZlIHRvIG9yYml0XG4gICAgfSxcbiAgICBrZXBsZXJfZWxlbWVudHM6IHtcbiAgICAgIGE6IFsxOS4xODc5Nzk0OCwgLTAuMDAwMjA0NTVdLFxuICAgICAgZTogWzAuMDQ2ODU3NDAsIC0wLjAwMDAxNTUwXSxcbiAgICAgIEk6IFswLjc3Mjk4MTI3LCAtMC4wMDE4MDE1NV0sXG4gICAgICBMOiBbMzE0LjIwMjc2NjI1LCA0MjguNDk1MTI1OTVdLFxuICAgICAgdzogWzE3Mi40MzQwNDQ0MSwgMC4wOTI2Njk4NV0sXG4gICAgICBvbWVnYTogWzczLjk2MjUwMjE1LCAwLjA1NzM5Njk5XSxcbiAgICAgIHBlcnR1cmJhdGlvbnM6IHtcbiAgICAgICAgYjogMC4wMDA1ODMzMSxcbiAgICAgICAgYzogLTAuOTc3MzE4NDgsXG4gICAgICAgIHM6IDAuMTc2ODkyNDUsXG4gICAgICAgIGY6IDcuNjcwMjUwMDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFwibmVwdHVuZVwiOiB7XG4gICAgcHJpbWFyeTogXCJzdW5cIixcbiAgICBjb25zdGFudHM6IHtcbiAgICAgIHU6IDYuODM1ZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiAyLjQ3NjRlNyAvIEFVLFxuICAgICAgcm90YXRpb25fcGVyaW9kOiAwLjY3MTMsIC8vIGRheXMgKG5lZ2F0aXZlID09IHJldHJvZ3JhZGUpXG4gICAgICBheGlhbF90aWx0OiAyOC4zMiAvLyByZWxhdGl2ZSB0byBvcmJpdFxuICAgIH0sXG4gICAga2VwbGVyX2VsZW1lbnRzOiB7XG4gICAgICBhOiBbMzAuMDY5NTI3NTIsIDAuMDAwMDY0NDddLFxuICAgICAgZTogWzAuMDA4OTU0MzksIDAuMDAwMDA4MThdLFxuICAgICAgSTogWzEuNzcwMDU1MjAsIDAuMDAwMjI0MDBdLFxuICAgICAgTDogWzMwNC4yMjI4OTI4NywgMjE4LjQ2NTE1MzE0XSxcbiAgICAgIHc6IFs0Ni42ODE1ODcyNCwgMC4wMTAwOTkzOF0sXG4gICAgICBvbWVnYTogWzEzMS43ODYzNTg1MywgLTAuMDA2MDYzMDJdLFxuICAgICAgcGVydHVyYmF0aW9uczoge1xuICAgICAgICBiOiAtMC4wMDA0MTM0OCxcbiAgICAgICAgYzogMC42ODM0NjMxOCxcbiAgICAgICAgczogLTAuMTAxNjI1NDcsXG4gICAgICAgIGY6IDcuNjcwMjUwMDBcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIFwicGx1dG9cIjoge1xuICAgIHByaW1hcnk6IFwic3VuXCIsXG4gICAgY29uc3RhbnRzOiB7XG4gICAgICB1OiAwLjAwMDgzZTE1IC8gTWF0aC5wb3coQVUsIDMpLFxuICAgICAgcmFkaXVzOiAxLjE5NWU2IC8gQVUsXG4gICAgICByb3RhdGlvbl9wZXJpb2Q6IDYuMzg3MjMwLCAvLyBkYXlzXG4gICAgICBheGlhbF90aWx0OiAxMjIuNTMsIC8vIHJlbGF0aXZlIHRvIG9yYml0XG4gICAgfSxcbiAgICBrZXBsZXJfZWxlbWVudHM6IHtcbiAgICAgIGE6IFszOS40ODY4NjAzNSwgMC4wMDQ0OTc1MV0sXG4gICAgICBlOiBbMC4yNDg4NTIzOCwgMC4wMDAwNjAxNl0sXG4gICAgICBJOiBbMTcuMTQxMDQyNjAsIDAuMDAwMDA1MDFdLFxuICAgICAgTDogWzIzOC45NjUzNTAxMSwgMTQ1LjE4MDQyOTAzXSxcbiAgICAgIHc6IFsyMjQuMDk3MDI1OTgsIC0wLjAwOTY4ODI3XSxcbiAgICAgIG9tZWdhOiBbMTEwLjMwMTY3OTg2LCAtMC4wMDgwOTk4MV0sXG4gICAgICBwZXJ0dXJiYXRpb25zOiB7XG4gICAgICAgIGI6IC0wLjAxMjYyNzI0LFxuICAgICAgICBjOiAwLFxuICAgICAgICBzOiAwLFxuICAgICAgICBmOiAwXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG4vLyBJbml0aWFsaXplIG1hcFxuY29uc3QgYm9keU1hcCA9IG5ldyBNYXAoT2JqZWN0LmtleXMoYm9keV9kYXRhKVxuICAubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgbGV0IGJvZHkgPSBib2R5X2RhdGFbbmFtZV07XG4gICAgYm9keS5uYW1lID0gbmFtZTtcbiAgICBib2R5LmRlcml2ZWQgPSB7fTtcblxuICAgIGlmIChuYW1lID09PSAnc3VuJykge1xuICAgICAgYm9keS5kZXJpdmVkID0ge1xuICAgICAgICBwb3NpdGlvbjogbmV3IFZlY3RvcjMoMCwgMCwgMCksXG4gICAgICAgIHZlbG9jaXR5OiBuZXcgVmVjdG9yMygwLCAwLCAwKSxcbiAgICAgICAgYXBvYXBzaXM6IG5ldyBWZWN0b3IzKDAsIDAsIDApLFxuICAgICAgICBwZXJpYXBzaXM6IG5ldyBWZWN0b3IzKDAsIDAsIDApLFxuICAgICAgICBjZW50ZXI6IG5ldyBWZWN0b3IzKDAsIDAsIDApXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBbbmFtZSwgYm9keV07XG4gIH0pKTtcblxuLy8gU2V0IGJhY2stcmVmZXJlbmNlcyBvbiBib2R5IGdyYXBoXG5BcnJheS5mcm9tKGJvZHlNYXAudmFsdWVzKCkpXG4gIC5mb3JFYWNoKChib2R5KSA9PiB7XG5cbiAgICAvLyBTZXQgcHJpbWFyeVxuICAgIGlmIChib2R5LnByaW1hcnkpIHtcbiAgICAgIGJvZHkucHJpbWFyeSA9IGJvZHlNYXAuZ2V0KGJvZHkucHJpbWFyeSk7XG5cbiAgICAgIC8vIEFkZCBzZWxmIHRvIHByaW1hcnkncyBzZWNvbmRhcmllcyBwcm9wZXJ0eVxuICAgICAgaWYgKCFib2R5LnByaW1hcnkuc2Vjb25kYXJpZXMpXG4gICAgICAgIGJvZHkucHJpbWFyeS5zZWNvbmRhcmllcyA9IFtdO1xuXG4gICAgICBib2R5LnByaW1hcnkuc2Vjb25kYXJpZXMucHVzaChib2R5KTtcbiAgICB9XG4gIH0pO1xuXG4vLyBGbGF0dGVuIHRoZSBkZXBlbmRlbmN5IGdyYXBoIHRvIGVuc3VyZSB0aGF0IHByaW1hcnkgYm9kaWVzIGFyZSBhbHdheXNcbi8vIGV2YWx1YXRlZCBiZWZvcmUgdGhlaXIgc2Vjb25kYXJpZXMgKHNhdGVsbGl0ZXMpXG5cbmZ1bmN0aW9uIGZsYXR0ZW4oYm9keSkge1xuICBpZiAoIWJvZHkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gKGJvZHkuc2Vjb25kYXJpZXMgfHwgW10pXG4gICAgLnJlZHVjZSgoYm9kaWVzLCBiKSA9PiB7XG4gICAgICByZXR1cm4gYm9kaWVzLmNvbmNhdChmbGF0dGVuKGIpKTtcbiAgICB9LCBbYm9keV0pO1xufVxuXG5leHBvcnQgY29uc3QgQUxMX0JPRElFUyA9IGZsYXR0ZW4oYm9keU1hcC5nZXQoJ3N1bicpKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL0JvZGllcy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFHQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFSQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFSQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVRBO0FBUkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFSQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBTEE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFSQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUEE7QUFSQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUEE7QUFSQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUEE7QUFSQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFQQTtBQVJBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFQQTtBQVJBO0FBM01BO0FBQ0E7QUFtT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 3 */,
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying, and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nvar THREE = __webpack_require__(1);\n\nfunction OrbitControls(object, domElement) {\n\n  this.object = object;\n\n  this.domElement = domElement !== undefined ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = -Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableDolly = true;\n  this.dollySpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = {\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    BOTTOM: 40\n  };\n\n  // Mouse buttons\n  this.mouseButtons = {\n    ORBIT: THREE.MOUSE.LEFT,\n    ZOOM: THREE.MOUSE.MIDDLE,\n    PAN: THREE.MOUSE.RIGHT\n  };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n  };\n\n  this.reset = function () {\n\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent(changeEvent);\n\n    scope.update();\n\n    state = STATE.NONE;\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors(object.up, new THREE.Vector3(0, 1, 0));\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy(position).sub(scope.target);\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion(quat);\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3(offset);\n\n      if (scope.autoRotate && state === STATE.NONE) {\n\n        rotateLeft(getAutoRotationAngle());\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max(scope.minAzimuthAngle, Math.min(scope.maxAzimuthAngle, spherical.theta));\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max(scope.minPolarAngle, Math.min(scope.maxPolarAngle, spherical.phi));\n\n      spherical.makeSafe();\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max(scope.minDistance, Math.min(scope.maxDistance, spherical.radius));\n\n      // move target to panned location\n      scope.target.add(panOffset);\n\n      offset.setFromSpherical(spherical);\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion(quatInverse);\n\n      position.copy(scope.target).add(offset);\n\n      scope.object.lookAt(scope.target);\n\n      if (scope.enableDamping === true) {\n\n        sphericalDelta.theta *= 1 - scope.dampingFactor;\n        sphericalDelta.phi *= 1 - scope.dampingFactor;\n      } else {\n\n        sphericalDelta.set(0, 0, 0);\n      }\n\n      scale = 1;\n      panOffset.set(0, 0, 0);\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n\n        scope.dispatchEvent(changeEvent);\n\n        lastPosition.copy(scope.object.position);\n        lastQuaternion.copy(scope.object.quaternion);\n\n        return true;\n      }\n\n      return false;\n    };\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener('contextmenu', onContextMenu, false);\n    scope.domElement.removeEventListener('mousedown', onMouseDown, false);\n    scope.domElement.removeEventListener('wheel', onMouseWheel, false);\n\n    scope.domElement.removeEventListener('touchstart', onTouchStart, false);\n    scope.domElement.removeEventListener('touchend', onTouchEnd, false);\n    scope.domElement.removeEventListener('touchmove', onTouchMove, false);\n\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n\n    window.removeEventListener('keydown', onKeyDown, false);\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  };\n\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_DOLLY: 4,\n    TOUCH_PAN: 5\n  };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n  }\n\n  function getZoomScale() {\n\n    return Math.pow(0.95, scope.dollySpeed);\n  }\n\n  function rotateLeft(angle) {\n\n    sphericalDelta.theta -= angle;\n  }\n\n  function rotateUp(angle) {\n\n    sphericalDelta.phi -= angle;\n  }\n\n  var panLeft = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panLeft(distance, objectMatrix) {\n\n      v.setFromMatrixColumn(objectMatrix, 0); // get X column of objectMatrix\n      v.multiplyScalar(-distance);\n\n      panOffset.add(v);\n    };\n  }();\n\n  var panUp = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panUp(distance, objectMatrix) {\n\n      v.setFromMatrixColumn(objectMatrix, 1); // get Y column of objectMatrix\n      v.multiplyScalar(distance);\n\n      panOffset.add(v);\n    };\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new THREE.Vector3();\n\n    return function pan(deltaX, deltaY) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if (scope.object instanceof THREE.PerspectiveCamera) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy(position).sub(scope.target);\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan(scope.object.fov / 2 * Math.PI / 180.0);\n\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\n        panLeft(2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix);\n        panUp(2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix);\n      } else {\n\n        // unknown camera type\n        console.warn('WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.');\n        scope.enablePan = false;\n      }\n    };\n  }();\n\n  function dollyIn(dollyScale) {\n\n    if (scope.object instanceof THREE.PerspectiveCamera) {\n\n      scale /= dollyScale;\n    } else {\n\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableDolly = false;\n    }\n  }\n\n  function dollyOut(dollyScale) {\n\n    if (scope.object instanceof THREE.PerspectiveCamera) {\n\n      scale *= dollyScale;\n    } else {\n\n      console.warn('WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.');\n      scope.enableDolly = false;\n    }\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate(event) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownDolly(event) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseDownPan(event) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set(event.clientX, event.clientY);\n  }\n\n  function handleMouseMoveRotate(event) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set(event.clientX, event.clientY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMoveDolly(event) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set(event.clientX, event.clientY);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n\n      dollyIn(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n\n      dollyOut(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleMouseMovePan(event) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set(event.clientX, event.clientY);\n\n    panDelta.subVectors(panEnd, panStart);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleMouseUp(event) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel(event) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if (event.deltaY < 0) {\n\n      dollyOut(getZoomScale());\n    } else if (event.deltaY > 0) {\n\n      dollyIn(getZoomScale());\n    }\n\n    scope.update();\n  }\n\n  function handleKeyDown(event) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch (event.keyCode) {\n\n      case scope.keys.UP:\n        pan(0, scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan(0, -scope.keyPanSpeed);\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan(scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan(-scope.keyPanSpeed, 0);\n        scope.update();\n        break;\n\n    }\n  }\n\n  function handleTouchStartRotate(event) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchStartDolly(event) {\n\n    //console.log( 'handleTouchStartDolly' );\n\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyStart.set(0, distance);\n  }\n\n  function handleTouchStartPan(event) {\n\n    //console.log( 'handleTouchStartPan' );\n\n    panStart.set(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  function handleTouchMoveRotate(event) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n    rotateDelta.subVectors(rotateEnd, rotateStart);\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft(2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed);\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp(2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed);\n\n    rotateStart.copy(rotateEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMoveDolly(event) {\n\n    //console.log( 'handleTouchMoveDolly' );\n\n    var dx = event.touches[0].pageX - event.touches[1].pageX;\n    var dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    var distance = Math.sqrt(dx * dx + dy * dy);\n\n    dollyEnd.set(0, distance);\n\n    dollyDelta.subVectors(dollyEnd, dollyStart);\n\n    if (dollyDelta.y > 0) {\n\n      dollyOut(getZoomScale());\n    } else if (dollyDelta.y < 0) {\n\n      dollyIn(getZoomScale());\n    }\n\n    dollyStart.copy(dollyEnd);\n\n    scope.update();\n  }\n\n  function handleTouchMovePan(event) {\n\n    //console.log( 'handleTouchMovePan' );\n\n    panEnd.set(event.touches[0].pageX, event.touches[0].pageY);\n\n    panDelta.subVectors(panEnd, panStart);\n\n    pan(panDelta.x, panDelta.y);\n\n    panStart.copy(panEnd);\n\n    scope.update();\n  }\n\n  function handleTouchEnd(event) {}\n\n  //console.log( 'handleTouchEnd' );\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    if (event.button === scope.mouseButtons.ORBIT) {\n\n      if (scope.enableRotate === false) return;\n\n      handleMouseDownRotate(event);\n\n      state = STATE.ROTATE;\n    } else if (event.button === scope.mouseButtons.ZOOM) {\n\n      if (scope.enableDolly === false) return;\n\n      handleMouseDownDolly(event);\n\n      state = STATE.DOLLY;\n    } else if (event.button === scope.mouseButtons.PAN) {\n\n      if (scope.enablePan === false) return;\n\n      handleMouseDownPan(event);\n\n      state = STATE.PAN;\n    }\n\n    if (state !== STATE.NONE) {\n\n      document.addEventListener('mousemove', onMouseMove, false);\n      document.addEventListener('mouseup', onMouseUp, false);\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onMouseMove(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n\n    if (state === STATE.ROTATE) {\n\n      if (scope.enableRotate === false) return;\n\n      handleMouseMoveRotate(event);\n    } else if (state === STATE.DOLLY) {\n\n      if (scope.enableDolly === false) return;\n\n      handleMouseMoveDolly(event);\n    } else if (state === STATE.PAN) {\n\n      if (scope.enablePan === false) return;\n\n      handleMouseMovePan(event);\n    }\n  }\n\n  function onMouseUp(event) {\n\n    if (scope.enabled === false) return;\n\n    handleMouseUp(event);\n\n    document.removeEventListener('mousemove', onMouseMove, false);\n    document.removeEventListener('mouseup', onMouseUp, false);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onMouseWheel(event) {\n\n    if (scope.enabled === false || scope.enableDolly === false || state !== STATE.NONE && state !== STATE.ROTATE) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    handleMouseWheel(event);\n\n    scope.dispatchEvent(startEvent); // not sure why these are here...\n    scope.dispatchEvent(endEvent);\n  }\n\n  function onKeyDown(event) {\n\n    if (scope.enabled === false || scope.enableKeys === false || scope.enablePan === false) return;\n\n    handleKeyDown(event);\n  }\n\n  function onTouchStart(event) {\n\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n\n      case 1:\n        // one-fingered touch: rotate\n\n        if (scope.enableRotate === false) return;\n\n        handleTouchStartRotate(event);\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2:\n        // two-fingered touch: dolly\n\n        if (scope.enableDolly === false) return;\n\n        handleTouchStartDolly(event);\n\n        state = STATE.TOUCH_DOLLY;\n\n        break;\n\n      case 3:\n        // three-fingered touch: pan\n\n        if (scope.enablePan === false) return;\n\n        handleTouchStartPan(event);\n\n        state = STATE.TOUCH_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if (state !== STATE.NONE) {\n\n      scope.dispatchEvent(startEvent);\n    }\n  }\n\n  function onTouchMove(event) {\n\n    if (scope.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n\n      case 1:\n        // one-fingered touch: rotate\n\n        if (scope.enableRotate === false) return;\n        if (state !== STATE.TOUCH_ROTATE) return; // is this needed?...\n\n        handleTouchMoveRotate(event);\n\n        break;\n\n      case 2:\n        // two-fingered touch: dolly\n\n        if (scope.enableDolly === false) return;\n        if (state !== STATE.TOUCH_DOLLY) return; // is this needed?...\n\n        handleTouchMoveDolly(event);\n\n        break;\n\n      case 3:\n        // three-fingered touch: pan\n\n        if (scope.enablePan === false) return;\n        if (state !== STATE.TOUCH_PAN) return; // is this needed?...\n\n        handleTouchMovePan(event);\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n  }\n\n  function onTouchEnd(event) {\n\n    if (scope.enabled === false) return;\n\n    handleTouchEnd(event);\n\n    scope.dispatchEvent(endEvent);\n\n    state = STATE.NONE;\n  }\n\n  function onContextMenu(event) {\n\n    event.preventDefault();\n  }\n\n  //\n\n  scope.domElement.addEventListener('contextmenu', onContextMenu, false);\n\n  scope.domElement.addEventListener('mousedown', onMouseDown, false);\n  scope.domElement.addEventListener('wheel', onMouseWheel, false);\n\n  scope.domElement.addEventListener('touchstart', onTouchStart, false);\n  scope.domElement.addEventListener('touchend', onTouchEnd, false);\n  scope.domElement.addEventListener('touchmove', onTouchMove, false);\n\n  window.addEventListener('keydown', onKeyDown, false);\n\n  // force an update at start\n\n  this.update();\n};\n\nOrbitControls.prototype = Object.create(THREE.EventDispatcher.prototype);\nOrbitControls.prototype.constructor = OrbitControls;\nexports.default = OrbitControls;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL2xpYi9PcmJpdENvbnRyb2xzLmpzPzAyMGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAYXV0aG9yIHFpYW8gLyBodHRwczovL2dpdGh1Yi5jb20vcWlhb1xuICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbVxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cbiAqIEBhdXRob3IgV2VzdExhbmdsZXkgLyBodHRwOi8vZ2l0aHViLmNvbS9XZXN0TGFuZ2xleVxuICogQGF1dGhvciBlcmljaDY2NiAvIGh0dHA6Ly9lcmljaGFpbmVzLmNvbVxuICovXG5cbi8vIFRoaXMgc2V0IG9mIGNvbnRyb2xzIHBlcmZvcm1zIG9yYml0aW5nLCBkb2xseWluZywgYW5kIHBhbm5pbmcuXG4vLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxuLy9cbi8vICAgIE9yYml0IC0gbGVmdCBtb3VzZSAvIHRvdWNoOiBvbmUgZmluZ2VyIG1vdmVcbi8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvIGZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXG4vLyAgICBQYW4gLSByaWdodCBtb3VzZSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiB0aHJlZSBmaW5nZXIgc3dpcGVcblxuY29uc3QgVEhSRUUgPSByZXF1aXJlKCd0aHJlZScpO1xuXG5mdW5jdGlvbiBPcmJpdENvbnRyb2xzKG9iamVjdCwgZG9tRWxlbWVudCkge1xuXG4gIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXG4gIHRoaXMuZG9tRWxlbWVudCA9IChkb21FbGVtZW50ICE9PSB1bmRlZmluZWQpID8gZG9tRWxlbWVudCA6IGRvY3VtZW50O1xuXG4gIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgY29udHJvbFxuICB0aGlzLmVuYWJsZWQgPSB0cnVlO1xuXG4gIC8vIFwidGFyZ2V0XCIgc2V0cyB0aGUgbG9jYXRpb24gb2YgZm9jdXMsIHdoZXJlIHRoZSBvYmplY3Qgb3JiaXRzIGFyb3VuZFxuICB0aGlzLnRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgLy8gSG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcbiAgdGhpcy5taW5EaXN0YW5jZSA9IDA7XG4gIHRoaXMubWF4RGlzdGFuY2UgPSBJbmZpbml0eTtcblxuICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgdmVydGljYWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cbiAgLy8gUmFuZ2UgaXMgMCB0byBNYXRoLlBJIHJhZGlhbnMuXG4gIHRoaXMubWluUG9sYXJBbmdsZSA9IDA7IC8vIHJhZGlhbnNcbiAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xuXG4gIC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCBob3Jpem9udGFsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXG4gIC8vIElmIHNldCwgbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiB0aGUgaW50ZXJ2YWwgWyAtIE1hdGguUEksIE1hdGguUEkgXS5cbiAgdGhpcy5taW5BemltdXRoQW5nbGUgPSAtSW5maW5pdHk7IC8vIHJhZGlhbnNcbiAgdGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xuXG4gIC8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkYW1waW5nIChpbmVydGlhKVxuICAvLyBJZiBkYW1waW5nIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuICB0aGlzLmVuYWJsZURhbXBpbmcgPSBmYWxzZTtcbiAgdGhpcy5kYW1waW5nRmFjdG9yID0gMC4yNTtcblxuICAvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nXG4gIHRoaXMuZW5hYmxlRG9sbHkgPSB0cnVlO1xuICB0aGlzLmRvbGx5U3BlZWQgPSAxLjA7XG5cbiAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcm90YXRpbmdcbiAgdGhpcy5lbmFibGVSb3RhdGUgPSB0cnVlO1xuICB0aGlzLnJvdGF0ZVNwZWVkID0gMS4wO1xuXG4gIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHBhbm5pbmdcbiAgdGhpcy5lbmFibGVQYW4gPSB0cnVlO1xuICB0aGlzLmtleVBhblNwZWVkID0gNy4wOyAvLyBwaXhlbHMgbW92ZWQgcGVyIGFycm93IGtleSBwdXNoXG5cbiAgLy8gU2V0IHRvIHRydWUgdG8gYXV0b21hdGljYWxseSByb3RhdGUgYXJvdW5kIHRoZSB0YXJnZXRcbiAgLy8gSWYgYXV0by1yb3RhdGUgaXMgZW5hYmxlZCwgeW91IG11c3QgY2FsbCBjb250cm9scy51cGRhdGUoKSBpbiB5b3VyIGFuaW1hdGlvbiBsb29wXG4gIHRoaXMuYXV0b1JvdGF0ZSA9IGZhbHNlO1xuICB0aGlzLmF1dG9Sb3RhdGVTcGVlZCA9IDIuMDsgLy8gMzAgc2Vjb25kcyBwZXIgcm91bmQgd2hlbiBmcHMgaXMgNjBcblxuICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB1c2Ugb2YgdGhlIGtleXNcbiAgdGhpcy5lbmFibGVLZXlzID0gdHJ1ZTtcblxuICAvLyBUaGUgZm91ciBhcnJvdyBrZXlzXG4gIHRoaXMua2V5cyA9IHtcbiAgICBMRUZUOiAzNyxcbiAgICBVUDogMzgsXG4gICAgUklHSFQ6IDM5LFxuICAgIEJPVFRPTTogNDBcbiAgfTtcblxuICAvLyBNb3VzZSBidXR0b25zXG4gIHRoaXMubW91c2VCdXR0b25zID0ge1xuICAgIE9SQklUOiBUSFJFRS5NT1VTRS5MRUZULFxuICAgIFpPT006IFRIUkVFLk1PVVNFLk1JRERMRSxcbiAgICBQQU46IFRIUkVFLk1PVVNFLlJJR0hUXG4gIH07XG5cbiAgLy8gZm9yIHJlc2V0XG4gIHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XG4gIHRoaXMucG9zaXRpb24wID0gdGhpcy5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcbiAgdGhpcy56b29tMCA9IHRoaXMub2JqZWN0Lnpvb207XG5cbiAgLy9cbiAgLy8gcHVibGljIG1ldGhvZHNcbiAgLy9cblxuICB0aGlzLmdldFBvbGFyQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gc3BoZXJpY2FsLnBoaTtcblxuICB9O1xuXG4gIHRoaXMuZ2V0QXppbXV0aGFsQW5nbGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICByZXR1cm4gc3BoZXJpY2FsLnRoZXRhO1xuXG4gIH07XG5cbiAgdGhpcy5yZXNldCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHNjb3BlLnRhcmdldC5jb3B5KHNjb3BlLnRhcmdldDApO1xuICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KHNjb3BlLnBvc2l0aW9uMCk7XG4gICAgc2NvcGUub2JqZWN0Lnpvb20gPSBzY29wZS56b29tMDtcblxuICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgc2NvcGUuZGlzcGF0Y2hFdmVudChjaGFuZ2VFdmVudCk7XG5cbiAgICBzY29wZS51cGRhdGUoKTtcblxuICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICB9O1xuXG4gIC8vIHRoaXMgbWV0aG9kIGlzIGV4cG9zZWQsIGJ1dCBwZXJoYXBzIGl0IHdvdWxkIGJlIGJldHRlciBpZiB3ZSBjYW4gbWFrZSBpdCBwcml2YXRlLi4uXG4gIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICAvLyBzbyBjYW1lcmEudXAgaXMgdGhlIG9yYml0IGF4aXNcbiAgICB2YXIgcXVhdCA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCkuc2V0RnJvbVVuaXRWZWN0b3JzKG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoMCwgMSwgMCkpO1xuICAgIHZhciBxdWF0SW52ZXJzZSA9IHF1YXQuY2xvbmUoKS5pbnZlcnNlKCk7XG5cbiAgICB2YXIgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgdmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXG4gICAgICBvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHNjb3BlLnRhcmdldCk7XG5cbiAgICAgIC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxuICAgICAgb2Zmc2V0LmFwcGx5UXVhdGVybmlvbihxdWF0KTtcblxuICAgICAgLy8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xuICAgICAgc3BoZXJpY2FsLnNldEZyb21WZWN0b3IzKG9mZnNldCk7XG5cbiAgICAgIGlmIChzY29wZS5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FKSB7XG5cbiAgICAgICAgcm90YXRlTGVmdChnZXRBdXRvUm90YXRpb25BbmdsZSgpKTtcblxuICAgICAgfVxuXG4gICAgICBzcGhlcmljYWwudGhldGEgKz0gc3BoZXJpY2FsRGVsdGEudGhldGE7XG4gICAgICBzcGhlcmljYWwucGhpICs9IHNwaGVyaWNhbERlbHRhLnBoaTtcblxuICAgICAgLy8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgc3BoZXJpY2FsLnRoZXRhID0gTWF0aC5tYXgoc2NvcGUubWluQXppbXV0aEFuZ2xlLCBNYXRoLm1pbihzY29wZS5tYXhBemltdXRoQW5nbGUsIHNwaGVyaWNhbC50aGV0YSkpO1xuXG4gICAgICAvLyByZXN0cmljdCBwaGkgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgc3BoZXJpY2FsLnBoaSA9IE1hdGgubWF4KHNjb3BlLm1pblBvbGFyQW5nbGUsIE1hdGgubWluKHNjb3BlLm1heFBvbGFyQW5nbGUsIHNwaGVyaWNhbC5waGkpKTtcblxuICAgICAgc3BoZXJpY2FsLm1ha2VTYWZlKCk7XG5cbiAgICAgIHNwaGVyaWNhbC5yYWRpdXMgKj0gc2NhbGU7XG5cbiAgICAgIC8vIHJlc3RyaWN0IHJhZGl1cyB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXG4gICAgICBzcGhlcmljYWwucmFkaXVzID0gTWF0aC5tYXgoc2NvcGUubWluRGlzdGFuY2UsIE1hdGgubWluKHNjb3BlLm1heERpc3RhbmNlLCBzcGhlcmljYWwucmFkaXVzKSk7XG5cbiAgICAgIC8vIG1vdmUgdGFyZ2V0IHRvIHBhbm5lZCBsb2NhdGlvblxuICAgICAgc2NvcGUudGFyZ2V0LmFkZChwYW5PZmZzZXQpO1xuXG4gICAgICBvZmZzZXQuc2V0RnJvbVNwaGVyaWNhbChzcGhlcmljYWwpO1xuXG4gICAgICAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcbiAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdEludmVyc2UpO1xuXG4gICAgICBwb3NpdGlvbi5jb3B5KHNjb3BlLnRhcmdldCkuYWRkKG9mZnNldCk7XG5cbiAgICAgIHNjb3BlLm9iamVjdC5sb29rQXQoc2NvcGUudGFyZ2V0KTtcblxuICAgICAgaWYgKHNjb3BlLmVuYWJsZURhbXBpbmcgPT09IHRydWUpIHtcblxuICAgICAgICBzcGhlcmljYWxEZWx0YS50aGV0YSAqPSAoMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IpO1xuICAgICAgICBzcGhlcmljYWxEZWx0YS5waGkgKj0gKDEgLSBzY29wZS5kYW1waW5nRmFjdG9yKTtcblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBzcGhlcmljYWxEZWx0YS5zZXQoMCwgMCwgMCk7XG5cbiAgICAgIH1cblxuICAgICAgc2NhbGUgPSAxO1xuICAgICAgcGFuT2Zmc2V0LnNldCgwLCAwLCAwKTtcblxuICAgICAgLy8gdXBkYXRlIGNvbmRpdGlvbiBpczpcbiAgICAgIC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xuICAgICAgLy8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XG5cbiAgICAgIGlmIChsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoc2NvcGUub2JqZWN0LnBvc2l0aW9uKSA+IEVQUyB8fFxuICAgICAgICA4ICogKDEgLSBsYXN0UXVhdGVybmlvbi5kb3Qoc2NvcGUub2JqZWN0LnF1YXRlcm5pb24pKSA+IEVQUykge1xuXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoY2hhbmdlRXZlbnQpO1xuXG4gICAgICAgIGxhc3RQb3NpdGlvbi5jb3B5KHNjb3BlLm9iamVjdC5wb3NpdGlvbik7XG4gICAgICAgIGxhc3RRdWF0ZXJuaW9uLmNvcHkoc2NvcGUub2JqZWN0LnF1YXRlcm5pb24pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIHRoaXMuZGlzcG9zZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSk7XG4gICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UpO1xuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlKTtcblxuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UpO1xuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSk7XG4gICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgLy9zY29wZS5kaXNwYXRjaEV2ZW50KCB7IHR5cGU6ICdkaXNwb3NlJyB9ICk7IC8vIHNob3VsZCB0aGlzIGJlIGFkZGVkIGhlcmU/XG5cbiAgfTtcblxuICAvL1xuICAvLyBpbnRlcm5hbHNcbiAgLy9cblxuICB2YXIgc2NvcGUgPSB0aGlzO1xuXG4gIHZhciBjaGFuZ2VFdmVudCA9IHtcbiAgICB0eXBlOiAnY2hhbmdlJ1xuICB9O1xuICB2YXIgc3RhcnRFdmVudCA9IHtcbiAgICB0eXBlOiAnc3RhcnQnXG4gIH07XG4gIHZhciBlbmRFdmVudCA9IHtcbiAgICB0eXBlOiAnZW5kJ1xuICB9O1xuXG4gIHZhciBTVEFURSA9IHtcbiAgICBOT05FOiAtMSxcbiAgICBST1RBVEU6IDAsXG4gICAgRE9MTFk6IDEsXG4gICAgUEFOOiAyLFxuICAgIFRPVUNIX1JPVEFURTogMyxcbiAgICBUT1VDSF9ET0xMWTogNCxcbiAgICBUT1VDSF9QQU46IDVcbiAgfTtcblxuICB2YXIgc3RhdGUgPSBTVEFURS5OT05FO1xuXG4gIHZhciBFUFMgPSAwLjAwMDAwMTtcblxuICAvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xuICB2YXIgc3BoZXJpY2FsID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xuICB2YXIgc3BoZXJpY2FsRGVsdGEgPSBuZXcgVEhSRUUuU3BoZXJpY2FsKCk7XG5cbiAgdmFyIHNjYWxlID0gMTtcbiAgdmFyIHBhbk9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgdmFyIHJvdGF0ZVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgdmFyIHJvdGF0ZUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gIHZhciByb3RhdGVEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgdmFyIHBhblN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgdmFyIHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gIHZhciBwYW5EZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgdmFyIGRvbGx5U3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICB2YXIgZG9sbHlFbmQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICB2YXIgZG9sbHlEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG5cbiAgZnVuY3Rpb24gZ2V0QXV0b1JvdGF0aW9uQW5nbGUoKSB7XG5cbiAgICByZXR1cm4gMiAqIE1hdGguUEkgLyA2MCAvIDYwICogc2NvcGUuYXV0b1JvdGF0ZVNwZWVkO1xuXG4gIH1cblxuICBmdW5jdGlvbiBnZXRab29tU2NhbGUoKSB7XG5cbiAgICByZXR1cm4gTWF0aC5wb3coMC45NSwgc2NvcGUuZG9sbHlTcGVlZCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJvdGF0ZUxlZnQoYW5nbGUpIHtcblxuICAgIHNwaGVyaWNhbERlbHRhLnRoZXRhIC09IGFuZ2xlO1xuXG4gIH1cblxuICBmdW5jdGlvbiByb3RhdGVVcChhbmdsZSkge1xuXG4gICAgc3BoZXJpY2FsRGVsdGEucGhpIC09IGFuZ2xlO1xuXG4gIH1cblxuICB2YXIgcGFuTGVmdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBwYW5MZWZ0KGRpc3RhbmNlLCBvYmplY3RNYXRyaXgpIHtcblxuICAgICAgdi5zZXRGcm9tTWF0cml4Q29sdW1uKG9iamVjdE1hdHJpeCwgMCk7IC8vIGdldCBYIGNvbHVtbiBvZiBvYmplY3RNYXRyaXhcbiAgICAgIHYubXVsdGlwbHlTY2FsYXIoLWRpc3RhbmNlKTtcblxuICAgICAgcGFuT2Zmc2V0LmFkZCh2KTtcblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIHZhciBwYW5VcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHZhciB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiBwYW5VcChkaXN0YW5jZSwgb2JqZWN0TWF0cml4KSB7XG5cbiAgICAgIHYuc2V0RnJvbU1hdHJpeENvbHVtbihvYmplY3RNYXRyaXgsIDEpOyAvLyBnZXQgWSBjb2x1bW4gb2Ygb2JqZWN0TWF0cml4XG4gICAgICB2Lm11bHRpcGx5U2NhbGFyKGRpc3RhbmNlKTtcblxuICAgICAgcGFuT2Zmc2V0LmFkZCh2KTtcblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxuICB2YXIgcGFuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcGFuKGRlbHRhWCwgZGVsdGFZKSB7XG5cbiAgICAgIHZhciBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQgPyBzY29wZS5kb21FbGVtZW50LmJvZHkgOiBzY29wZS5kb21FbGVtZW50O1xuXG4gICAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcblxuICAgICAgICAvLyBwZXJzcGVjdGl2ZVxuICAgICAgICB2YXIgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XG4gICAgICAgIG9mZnNldC5jb3B5KHBvc2l0aW9uKS5zdWIoc2NvcGUudGFyZ2V0KTtcbiAgICAgICAgdmFyIHRhcmdldERpc3RhbmNlID0gb2Zmc2V0Lmxlbmd0aCgpO1xuXG4gICAgICAgIC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxuICAgICAgICB0YXJnZXREaXN0YW5jZSAqPSBNYXRoLnRhbigoc2NvcGUub2JqZWN0LmZvdiAvIDIpICogTWF0aC5QSSAvIDE4MC4wKTtcblxuICAgICAgICAvLyB3ZSBhY3R1YWxseSBkb24ndCB1c2Ugc2NyZWVuV2lkdGgsIHNpbmNlIHBlcnNwZWN0aXZlIGNhbWVyYSBpcyBmaXhlZCB0byBzY3JlZW4gaGVpZ2h0XG4gICAgICAgIHBhbkxlZnQoMiAqIGRlbHRhWCAqIHRhcmdldERpc3RhbmNlIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsIHNjb3BlLm9iamVjdC5tYXRyaXgpO1xuICAgICAgICBwYW5VcCgyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCk7XG5cbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gdW5rbm93biBjYW1lcmEgdHlwZVxuICAgICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIHBhbiBkaXNhYmxlZC4nKTtcbiAgICAgICAgc2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XG5cbiAgICAgIH1cblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIGZ1bmN0aW9uIGRvbGx5SW4oZG9sbHlTY2FsZSkge1xuXG4gICAgaWYgKHNjb3BlLm9iamVjdCBpbnN0YW5jZW9mIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKSB7XG5cbiAgICAgIHNjYWxlIC89IGRvbGx5U2NhbGU7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBjb25zb2xlLndhcm4oJ1dBUk5JTkc6IE9yYml0Q29udHJvbHMuanMgZW5jb3VudGVyZWQgYW4gdW5rbm93biBjYW1lcmEgdHlwZSAtIGRvbGx5L3pvb20gZGlzYWJsZWQuJyk7XG4gICAgICBzY29wZS5lbmFibGVEb2xseSA9IGZhbHNlO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBkb2xseU91dChkb2xseVNjYWxlKSB7XG5cbiAgICBpZiAoc2NvcGUub2JqZWN0IGluc3RhbmNlb2YgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpIHtcblxuICAgICAgc2NhbGUgKj0gZG9sbHlTY2FsZTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUud2FybignV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC4nKTtcbiAgICAgIHNjb3BlLmVuYWJsZURvbGx5ID0gZmFsc2U7XG5cbiAgICB9XG5cbiAgfVxuXG4gIC8vXG4gIC8vIGV2ZW50IGNhbGxiYWNrcyAtIHVwZGF0ZSB0aGUgb2JqZWN0IHN0YXRlXG4gIC8vXG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUm90YXRlKGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duUm90YXRlJyApO1xuXG4gICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseShldmVudCkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93bkRvbGx5JyApO1xuXG4gICAgZG9sbHlTdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlRG93blBhbihldmVudCkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blBhbicgKTtcblxuICAgIHBhblN0YXJ0LnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUm90YXRlKGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlUm90YXRlJyApO1xuXG4gICAgcm90YXRlRW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICByb3RhdGVEZWx0YS5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cbiAgICAvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG4gICAgcm90YXRlTGVmdCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQpO1xuXG4gICAgLy8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG4gICAgcm90YXRlVXAoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCk7XG5cbiAgICByb3RhdGVTdGFydC5jb3B5KHJvdGF0ZUVuZCk7XG5cbiAgICBzY29wZS51cGRhdGUoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQpIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVNb3VzZU1vdmVEb2xseScgKTtcblxuICAgIGRvbGx5RW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcblxuICAgIGRvbGx5RGVsdGEuc3ViVmVjdG9ycyhkb2xseUVuZCwgZG9sbHlTdGFydCk7XG5cbiAgICBpZiAoZG9sbHlEZWx0YS55ID4gMCkge1xuXG4gICAgICBkb2xseUluKGdldFpvb21TY2FsZSgpKTtcblxuICAgIH0gZWxzZSBpZiAoZG9sbHlEZWx0YS55IDwgMCkge1xuXG4gICAgICBkb2xseU91dChnZXRab29tU2NhbGUoKSk7XG5cbiAgICB9XG5cbiAgICBkb2xseVN0YXJ0LmNvcHkoZG9sbHlFbmQpO1xuXG4gICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVBhbihldmVudCkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlTW92ZVBhbicgKTtcblxuICAgIHBhbkVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG5cbiAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpO1xuXG4gICAgcGFuKHBhbkRlbHRhLngsIHBhbkRlbHRhLnkpO1xuXG4gICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xuXG4gICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlVXAoZXZlbnQpIHtcblxuICAgIC8vIGNvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VVcCcgKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbChldmVudCkge1xuXG4gICAgLy8gY29uc29sZS5sb2coICdoYW5kbGVNb3VzZVdoZWVsJyApO1xuXG4gICAgaWYgKGV2ZW50LmRlbHRhWSA8IDApIHtcblxuICAgICAgZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpO1xuXG4gICAgfSBlbHNlIGlmIChldmVudC5kZWx0YVkgPiAwKSB7XG5cbiAgICAgIGRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xuXG4gICAgfVxuXG4gICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleURvd24oZXZlbnQpIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVLZXlEb3duJyApO1xuXG4gICAgc3dpdGNoIChldmVudC5rZXlDb2RlKSB7XG5cbiAgICBjYXNlIHNjb3BlLmtleXMuVVA6XG4gICAgICBwYW4oMCwgc2NvcGUua2V5UGFuU3BlZWQpO1xuICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XG4gICAgICBwYW4oMCwgLXNjb3BlLmtleVBhblNwZWVkKTtcbiAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIHNjb3BlLmtleXMuTEVGVDpcbiAgICAgIHBhbihzY29wZS5rZXlQYW5TcGVlZCwgMCk7XG4gICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSBzY29wZS5rZXlzLlJJR0hUOlxuICAgICAgcGFuKC1zY29wZS5rZXlQYW5TcGVlZCwgMCk7XG4gICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydFJvdGF0ZScgKTtcblxuICAgIHJvdGF0ZVN0YXJ0LnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5KGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydERvbGx5JyApO1xuXG4gICAgdmFyIGR4ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVg7XG4gICAgdmFyIGR5ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7XG5cbiAgICB2YXIgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuXG4gICAgZG9sbHlTdGFydC5zZXQoMCwgZGlzdGFuY2UpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0UGFuKGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydFBhbicgKTtcblxuICAgIHBhblN0YXJ0LnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlUm90YXRlKGV2ZW50KSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlUm90YXRlJyApO1xuXG4gICAgcm90YXRlRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcbiAgICByb3RhdGVEZWx0YS5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cbiAgICAvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG4gICAgcm90YXRlTGVmdCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQpO1xuXG4gICAgLy8gcm90YXRpbmcgdXAgYW5kIGRvd24gYWxvbmcgd2hvbGUgc2NyZWVuIGF0dGVtcHRzIHRvIGdvIDM2MCwgYnV0IGxpbWl0ZWQgdG8gMTgwXG4gICAgcm90YXRlVXAoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCk7XG5cbiAgICByb3RhdGVTdGFydC5jb3B5KHJvdGF0ZUVuZCk7XG5cbiAgICBzY29wZS51cGRhdGUoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHkoZXZlbnQpIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaE1vdmVEb2xseScgKTtcblxuICAgIHZhciBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xuICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgLSBldmVudC50b3VjaGVzWzFdLnBhZ2VZO1xuXG4gICAgdmFyIGRpc3RhbmNlID0gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KTtcblxuICAgIGRvbGx5RW5kLnNldCgwLCBkaXN0YW5jZSk7XG5cbiAgICBkb2xseURlbHRhLnN1YlZlY3RvcnMoZG9sbHlFbmQsIGRvbGx5U3RhcnQpO1xuXG4gICAgaWYgKGRvbGx5RGVsdGEueSA+IDApIHtcblxuICAgICAgZG9sbHlPdXQoZ2V0Wm9vbVNjYWxlKCkpO1xuXG4gICAgfSBlbHNlIGlmIChkb2xseURlbHRhLnkgPCAwKSB7XG5cbiAgICAgIGRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xuXG4gICAgfVxuXG4gICAgZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtcblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQpIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaE1vdmVQYW4nICk7XG5cbiAgICBwYW5FbmQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xuXG4gICAgcGFuRGVsdGEuc3ViVmVjdG9ycyhwYW5FbmQsIHBhblN0YXJ0KTtcblxuICAgIHBhbihwYW5EZWx0YS54LCBwYW5EZWx0YS55KTtcblxuICAgIHBhblN0YXJ0LmNvcHkocGFuRW5kKTtcblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoRW5kJyApO1xuXG4gIH1cblxuICAvL1xuICAvLyBldmVudCBoYW5kbGVycyAtIEZTTTogbGlzdGVuIGZvciBldmVudHMgYW5kIHJlc2V0IHN0YXRlXG4gIC8vXG5cbiAgZnVuY3Rpb24gb25Nb3VzZURvd24oZXZlbnQpIHtcblxuICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChldmVudC5idXR0b24gPT09IHNjb3BlLm1vdXNlQnV0dG9ucy5PUkJJVCkge1xuXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBoYW5kbGVNb3VzZURvd25Sb3RhdGUoZXZlbnQpO1xuXG4gICAgICBzdGF0ZSA9IFNUQVRFLlJPVEFURTtcblxuICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuWk9PTSkge1xuXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlRG9sbHkgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgIGhhbmRsZU1vdXNlRG93bkRvbGx5KGV2ZW50KTtcblxuICAgICAgc3RhdGUgPSBTVEFURS5ET0xMWTtcblxuICAgIH0gZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09PSBzY29wZS5tb3VzZUJ1dHRvbnMuUEFOKSB7XG5cbiAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICAgIGhhbmRsZU1vdXNlRG93blBhbihldmVudCk7XG5cbiAgICAgIHN0YXRlID0gU1RBVEUuUEFOO1xuXG4gICAgfVxuXG4gICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XG5cbiAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoc3RhcnRFdmVudCk7XG5cbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2ZW50KSB7XG5cbiAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoc3RhdGUgPT09IFNUQVRFLlJPVEFURSkge1xuXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoZXZlbnQpO1xuXG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gU1RBVEUuRE9MTFkpIHtcblxuICAgICAgaWYgKHNjb3BlLmVuYWJsZURvbGx5ID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBoYW5kbGVNb3VzZU1vdmVEb2xseShldmVudCk7XG5cbiAgICB9IGVsc2UgaWYgKHN0YXRlID09PSBTVEFURS5QQU4pIHtcblxuICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgaGFuZGxlTW91c2VNb3ZlUGFuKGV2ZW50KTtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3VzZVVwKGV2ZW50KSB7XG5cbiAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgIGhhbmRsZU1vdXNlVXAoZXZlbnQpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSk7XG5cbiAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtcblxuICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG5cbiAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlRG9sbHkgPT09IGZhbHNlIHx8IChzdGF0ZSAhPT0gU1RBVEUuTk9ORSAmJiBzdGF0ZSAhPT0gU1RBVEUuUk9UQVRFKSkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIGhhbmRsZU1vdXNlV2hlZWwoZXZlbnQpO1xuXG4gICAgc2NvcGUuZGlzcGF0Y2hFdmVudChzdGFydEV2ZW50KTsgLy8gbm90IHN1cmUgd2h5IHRoZXNlIGFyZSBoZXJlLi4uXG4gICAgc2NvcGUuZGlzcGF0Y2hFdmVudChlbmRFdmVudCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuXG4gICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZUtleXMgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoU3RhcnQoZXZlbnQpIHtcblxuICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xuXG4gICAgY2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuXG4gICAgICBoYW5kbGVUb3VjaFN0YXJ0Um90YXRlKGV2ZW50KTtcblxuICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ST1RBVEU7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cbiAgICAgIGlmIChzY29wZS5lbmFibGVEb2xseSA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgaGFuZGxlVG91Y2hTdGFydERvbGx5KGV2ZW50KTtcblxuICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cblxuICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgaGFuZGxlVG91Y2hTdGFydFBhbihldmVudCk7XG5cbiAgICAgIHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG5cbiAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSkge1xuXG4gICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KHN0YXJ0RXZlbnQpO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoTW92ZShldmVudCkge1xuXG4gICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xuXG4gICAgY2FzZSAxOiAvLyBvbmUtZmluZ2VyZWQgdG91Y2g6IHJvdGF0ZVxuXG4gICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5UT1VDSF9ST1RBVEUpIHJldHVybjsgLy8gaXMgdGhpcyBuZWVkZWQ/Li4uXG5cbiAgICAgIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZShldmVudCk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cbiAgICAgIGlmIChzY29wZS5lbmFibGVEb2xseSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkpIHJldHVybjsgLy8gaXMgdGhpcyBuZWVkZWQ/Li4uXG5cbiAgICAgIGhhbmRsZVRvdWNoTW92ZURvbGx5KGV2ZW50KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cblxuICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgIGlmIChzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfUEFOKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG4gICAgICBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQpO1xuXG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG5cbiAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaEVuZChldmVudCkge1xuXG4gICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XG5cbiAgICBoYW5kbGVUb3VjaEVuZChldmVudCk7XG5cbiAgICBzY29wZS5kaXNwYXRjaEV2ZW50KGVuZEV2ZW50KTtcblxuICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICB9XG5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudShldmVudCkge1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICB9XG5cbiAgLy9cblxuICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSwgZmFsc2UpO1xuXG4gIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIGZhbHNlKTtcbiAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIG9uTW91c2VXaGVlbCwgZmFsc2UpO1xuXG4gIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UpO1xuICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Ub3VjaEVuZCwgZmFsc2UpO1xuICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uVG91Y2hNb3ZlLCBmYWxzZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlKTtcblxuICAvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcblxuICB0aGlzLnVwZGF0ZSgpO1xuXG59O1xuXG5PcmJpdENvbnRyb2xzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVEhSRUUuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZSk7XG5PcmJpdENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9yYml0Q29udHJvbHM7XG5leHBvcnQgZGVmYXVsdCBPcmJpdENvbnRyb2xzO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hcHAvbGliL09yYml0Q29udHJvbHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQ0E7QUFDQTtBQXFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhDQTtBQW1DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n// Textures\n\n\nexports.default = BaseRenderer;\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _sunmap = __webpack_require__(135);\n\nvar _sunmap2 = _interopRequireDefault(_sunmap);\n\nvar _moonmap = __webpack_require__(131);\n\nvar _moonmap2 = _interopRequireDefault(_moonmap);\n\nvar _earthmap = __webpack_require__(126);\n\nvar _earthmap2 = _interopRequireDefault(_earthmap);\n\nvar _jupitermap = __webpack_require__(127);\n\nvar _jupitermap2 = _interopRequireDefault(_jupitermap);\n\nvar _saturnmap = __webpack_require__(134);\n\nvar _saturnmap2 = _interopRequireDefault(_saturnmap);\n\nvar _mercurymap = __webpack_require__(130);\n\nvar _mercurymap2 = _interopRequireDefault(_mercurymap);\n\nvar _venusmap = __webpack_require__(137);\n\nvar _venusmap2 = _interopRequireDefault(_venusmap);\n\nvar _marsmap = __webpack_require__(129);\n\nvar _marsmap2 = _interopRequireDefault(_marsmap);\n\nvar _plutomap = __webpack_require__(133);\n\nvar _plutomap2 = _interopRequireDefault(_plutomap);\n\nvar _neptunemap = __webpack_require__(132);\n\nvar _neptunemap2 = _interopRequireDefault(_neptunemap);\n\nvar _uranusmap = __webpack_require__(136);\n\nvar _uranusmap2 = _interopRequireDefault(_uranusmap);\n\nvar _lensflare = __webpack_require__(128);\n\nvar _lensflare2 = _interopRequireDefault(_lensflare);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TEXTURES = {\n  //'sun': map_sun,\n  'earth': _earthmap2.default,\n  'moon': _moonmap2.default,\n  'jupiter': _jupitermap2.default,\n  'saturn': _saturnmap2.default,\n  'mercury': _mercurymap2.default,\n  'mars': _marsmap2.default,\n  'venus': _venusmap2.default,\n  'pluto': _plutomap2.default,\n  'neptune': _neptunemap2.default,\n  'uranus': _uranusmap2.default,\n  'lensflare': _lensflare2.default\n};\n\nfunction BaseRenderer(textureLoader, state) {\n  this.textureLoader = textureLoader;\n  this.state = state;\n};\n\n// Allow renderers to act on changes to the user interface\nObject.assign(BaseRenderer.prototype, THREE.EventDispatcher.prototype);\n\n/**\n *\n */\nBaseRenderer.prototype._onWindowResize = function (originalHeight, originalFov) {\n  var _this = this;\n\n  var tanFOV = Math.tan(Math.PI / 180 * originalFov / 2);\n  return function (event) {\n    _this.camera.aspect = window.innerWidth / window.innerHeight;\n    _this.camera.fov = 360 / Math.PI * Math.atan(tanFOV * (window.innerHeight / originalHeight));\n\n    _this.camera.updateProjectionMatrix();\n    _this.renderer.setSize(window.innerWidth, window.innerHeight);\n  };\n};\n\nBaseRenderer.prototype._loadTextures = function () {\n  var _this2 = this;\n\n  return Promise.all(Object.entries(TEXTURES).map(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        value = _ref2[1];\n\n    return new Promise(function (resolve, reject) {\n      _this2.textureLoader.load(value, function (texture) {\n        resolve([key, texture]);\n      });\n    });\n  })).then(function (values) {\n    return Promise.resolve(new Map(values));\n  });\n};\n\nBaseRenderer.prototype._setupLightSources = function (textures) {\n  var ambientLight = new THREE.AmbientLight(0x404040);\n  var pointLight = new THREE.PointLight(0xFFFFFF, 1, 100, 2);\n  var lensFlare = new THREE.LensFlare(textures.get('lensflare'), 100, 0.0, THREE.AdditiveBlending, new THREE.Color(0xffff00));\n\n  this.scene.add(ambientLight);\n  this.scene.add(pointLight);\n  this.scene.add(lensFlare);\n\n  return [pointLight, lensFlare];\n};\n\nBaseRenderer.prototype._createSkyBox = function (textures) {\n\n  //This will add a starfield to the background of a scene\n  var vertices = [];\n\n  for (var i = 0; i < 20000; i++) {\n\n    var r = void 0;\n\n    // Generate stars that are at least 5 AU away\n    do {\n      r = new THREE.Vector3(THREE.Math.randFloatSpread(2000), THREE.Math.randFloatSpread(2000), THREE.Math.randFloatSpread(2000));\n    } while (r.lengthSq() < 100);\n\n    vertices.push(r.x, r.y, r.z);\n  }\n\n  var starsGeometry = new THREE.BufferGeometry();\n  starsGeometry.addAttribute('position', new THREE.BufferAttribute(Float32Array.from(vertices), 3));\n\n  var starsMaterial = new THREE.PointsMaterial({\n    color: 0x888888\n  });\n\n  var starField = new THREE.Points(starsGeometry, starsMaterial);\n  starField.matrixAutoUpdate = false;\n\n  return starField;\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvYXBwL0Jhc2VSZW5kZXJlci5qcz8zMzEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuLy8gVGV4dHVyZXNcbmltcG9ydCBtYXBfc3VuIGZyb20gJy4uL2ltZy9zdW5tYXAuanBnJztcbmltcG9ydCBtYXBfbW9vbiBmcm9tICcuLi9pbWcvbW9vbm1hcC5qcGcnO1xuaW1wb3J0IG1hcF9lYXJ0aCBmcm9tICcuLi9pbWcvZWFydGhtYXAuanBnJztcbmltcG9ydCBtYXBfanVwaXRlciBmcm9tICcuLi9pbWcvanVwaXRlcm1hcC5qcGcnO1xuaW1wb3J0IG1hcF9zYXR1cm4gZnJvbSAnLi4vaW1nL3NhdHVybm1hcC5qcGcnO1xuaW1wb3J0IG1hcF9tZXJjdXJ5IGZyb20gJy4uL2ltZy9tZXJjdXJ5bWFwLmpwZyc7XG5pbXBvcnQgbWFwX3ZlbnVzIGZyb20gJy4uL2ltZy92ZW51c21hcC5qcGcnO1xuaW1wb3J0IG1hcF9tYXJzIGZyb20gJy4uL2ltZy9tYXJzbWFwLmpwZyc7XG5pbXBvcnQgbWFwX3BsdXRvIGZyb20gJy4uL2ltZy9wbHV0b21hcC5qcGcnO1xuaW1wb3J0IG1hcF9uZXB0dW5lIGZyb20gJy4uL2ltZy9uZXB0dW5lbWFwLmpwZyc7XG5pbXBvcnQgbWFwX3VyYW51cyBmcm9tICcuLi9pbWcvdXJhbnVzbWFwLmpwZyc7XG5pbXBvcnQgbGVuc2ZsYXJlIGZyb20gJy4uL2ltZy9sZW5zZmxhcmUucG5nJztcblxuY29uc3QgVEVYVFVSRVMgPSB7XG4gIC8vJ3N1bic6IG1hcF9zdW4sXG4gICdlYXJ0aCc6IG1hcF9lYXJ0aCxcbiAgJ21vb24nOiBtYXBfbW9vbixcbiAgJ2p1cGl0ZXInOiBtYXBfanVwaXRlcixcbiAgJ3NhdHVybic6IG1hcF9zYXR1cm4sXG4gICdtZXJjdXJ5JzogbWFwX21lcmN1cnksXG4gICdtYXJzJzogbWFwX21hcnMsXG4gICd2ZW51cyc6IG1hcF92ZW51cyxcbiAgJ3BsdXRvJzogbWFwX3BsdXRvLFxuICAnbmVwdHVuZSc6IG1hcF9uZXB0dW5lLFxuICAndXJhbnVzJzogbWFwX3VyYW51cyxcbiAgJ2xlbnNmbGFyZSc6IGxlbnNmbGFyZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEJhc2VSZW5kZXJlcih0ZXh0dXJlTG9hZGVyLCBzdGF0ZSkge1xuICB0aGlzLnRleHR1cmVMb2FkZXIgPSB0ZXh0dXJlTG9hZGVyO1xuICB0aGlzLnN0YXRlID0gc3RhdGU7XG59O1xuXG4vLyBBbGxvdyByZW5kZXJlcnMgdG8gYWN0IG9uIGNoYW5nZXMgdG8gdGhlIHVzZXIgaW50ZXJmYWNlXG5PYmplY3QuYXNzaWduKEJhc2VSZW5kZXJlci5wcm90b3R5cGUsIFRIUkVFLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUpO1xuXG4vKipcbiAqXG4gKi9cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuX29uV2luZG93UmVzaXplID0gZnVuY3Rpb24gKG9yaWdpbmFsSGVpZ2h0LCBvcmlnaW5hbEZvdikge1xuICBjb25zdCB0YW5GT1YgPSBNYXRoLnRhbigoKE1hdGguUEkgLyAxODApICogb3JpZ2luYWxGb3YgLyAyKSk7XG4gIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICB0aGlzLmNhbWVyYS5hc3BlY3QgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB0aGlzLmNhbWVyYS5mb3YgPSAoMzYwIC8gTWF0aC5QSSkgKiBNYXRoLmF0YW4odGFuRk9WICogKHdpbmRvdy5pbm5lckhlaWdodCAvIG9yaWdpbmFsSGVpZ2h0KSk7XG5cbiAgICB0aGlzLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICB9XG5cbn07XG5cbkJhc2VSZW5kZXJlci5wcm90b3R5cGUuX2xvYWRUZXh0dXJlcyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5lbnRyaWVzKFRFWFRVUkVTKVxuICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgdGhpcy50ZXh0dXJlTG9hZGVyLmxvYWQodmFsdWUsXG4gICAgICAgICAgICAodGV4dHVyZSkgPT4ge1xuICAgICAgICAgICAgICByZXNvbHZlKFtrZXksIHRleHR1cmVdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKVxuICAgIC50aGVuKHZhbHVlcyA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBNYXAodmFsdWVzKSk7XG4gICAgfSk7XG59O1xuXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLl9zZXR1cExpZ2h0U291cmNlcyA9IGZ1bmN0aW9uICh0ZXh0dXJlcykge1xuICBjb25zdCBhbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KDB4NDA0MDQwKTtcbiAgY29uc3QgcG9pbnRMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4RkZGRkZGLCAxLCAxMDAsIDIpO1xuICBjb25zdCBsZW5zRmxhcmUgPSBuZXcgVEhSRUUuTGVuc0ZsYXJlKHRleHR1cmVzLmdldCgnbGVuc2ZsYXJlJyksIDEwMCwgMC4wLCBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLCBuZXcgVEhSRUUuQ29sb3IoMHhmZmZmMDApKTtcblxuICB0aGlzLnNjZW5lLmFkZChhbWJpZW50TGlnaHQpO1xuICB0aGlzLnNjZW5lLmFkZChwb2ludExpZ2h0KTtcbiAgdGhpcy5zY2VuZS5hZGQobGVuc0ZsYXJlKTtcblxuICByZXR1cm4gW3BvaW50TGlnaHQsIGxlbnNGbGFyZV07XG59O1xuXG5CYXNlUmVuZGVyZXIucHJvdG90eXBlLl9jcmVhdGVTa3lCb3ggPSBmdW5jdGlvbiAodGV4dHVyZXMpIHtcblxuICAvL1RoaXMgd2lsbCBhZGQgYSBzdGFyZmllbGQgdG8gdGhlIGJhY2tncm91bmQgb2YgYSBzY2VuZVxuICBsZXQgdmVydGljZXMgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IDIwMDAwOyBpKyspIHtcblxuICAgIGxldCByO1xuXG4gICAgLy8gR2VuZXJhdGUgc3RhcnMgdGhhdCBhcmUgYXQgbGVhc3QgNSBBVSBhd2F5XG4gICAgZG8ge1xuICAgICAgciA9IG5ldyBUSFJFRS5WZWN0b3IzKFxuICAgICAgICBUSFJFRS5NYXRoLnJhbmRGbG9hdFNwcmVhZCgyMDAwKSxcbiAgICAgICAgVEhSRUUuTWF0aC5yYW5kRmxvYXRTcHJlYWQoMjAwMCksXG4gICAgICAgIFRIUkVFLk1hdGgucmFuZEZsb2F0U3ByZWFkKDIwMDApKVxuICAgIH0gd2hpbGUgKHIubGVuZ3RoU3EoKSA8IDEwMClcblxuICAgIHZlcnRpY2VzLnB1c2goci54LCByLnksIHIueik7XG4gIH1cblxuICBsZXQgc3RhcnNHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICBzdGFyc0dlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLFxuICAgIG5ldyBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUoRmxvYXQzMkFycmF5LmZyb20odmVydGljZXMpLCAzKSk7XG5cbiAgbGV0IHN0YXJzTWF0ZXJpYWwgPSBuZXcgVEhSRUUuUG9pbnRzTWF0ZXJpYWwoe1xuICAgIGNvbG9yOiAweDg4ODg4OFxuICB9KVxuXG4gIGxldCBzdGFyRmllbGQgPSBuZXcgVEhSRUUuUG9pbnRzKHN0YXJzR2VvbWV0cnksIHN0YXJzTWF0ZXJpYWwpO1xuICBzdGFyRmllbGQubWF0cml4QXV0b1VwZGF0ZSA9IGZhbHNlO1xuXG4gIHJldHVybiBzdGFyRmllbGQ7XG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hcHAvQmFzZVJlbmRlcmVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQTJCQTtBQUNBO0FBaENBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */,
/* 16 */,
/* 17 */,
/* 18 */,
/* 19 */,
/* 20 */,
/* 21 */,
/* 22 */,
/* 23 */,
/* 24 */,
/* 25 */,
/* 26 */,
/* 27 */,
/* 28 */,
/* 29 */,
/* 30 */,
/* 31 */,
/* 32 */,
/* 33 */,
/* 34 */,
/* 35 */,
/* 36 */,
/* 37 */,
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */,
/* 42 */,
/* 43 */,
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */,
/* 48 */,
/* 49 */,
/* 50 */,
/* 51 */,
/* 52 */,
/* 53 */,
/* 54 */,
/* 55 */,
/* 56 */,
/* 57 */,
/* 58 */,
/* 59 */,
/* 60 */,
/* 61 */,
/* 62 */,
/* 63 */,
/* 64 */,
/* 65 */,
/* 66 */,
/* 67 */,
/* 68 */,
/* 69 */,
/* 70 */,
/* 71 */,
/* 72 */,
/* 73 */,
/* 74 */,
/* 75 */,
/* 76 */,
/* 77 */,
/* 78 */,
/* 79 */,
/* 80 */,
/* 81 */,
/* 82 */,
/* 83 */,
/* 84 */,
/* 85 */,
/* 86 */,
/* 87 */,
/* 88 */,
/* 89 */,
/* 90 */,
/* 91 */,
/* 92 */,
/* 93 */,
/* 94 */,
/* 95 */,
/* 96 */,
/* 97 */,
/* 98 */,
/* 99 */,
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */,
/* 105 */,
/* 106 */,
/* 107 */,
/* 108 */,
/* 109 */,
/* 110 */,
/* 111 */,
/* 112 */,
/* 113 */,
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _BaseRenderer = __webpack_require__(5);\n\nvar _BaseRenderer2 = _interopRequireDefault(_BaseRenderer);\n\nvar _OrbitControls = __webpack_require__(4);\n\nvar _OrbitControls2 = _interopRequireDefault(_OrbitControls);\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction CameraViewRenderer(container, textureLoader, commonState) {\n\n  _BaseRenderer2.default.call(this, textureLoader, commonState);\n\n  this.renderer = new THREE.WebGLRenderer({\n    antialias: true,\n    alpha: true\n  });\n  this.renderer.setPixelRatio(window.devicePixelRatio);\n  this.container = container;\n  container.appendChild(this.renderer.domElement);\n\n  this.bodyMap = new Map();\n};\n\n/**\n * Use this lifeycle method to add event listeners\n */\nCameraViewRenderer.prototype.viewDidLoad = function (solarSystem) {\n  var _this = this;\n\n  return Promise.all([this._loadTextures()]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        textures = _ref2[0];\n\n    // Find the body we are focusing on\n    var focus = solarSystem.find(_this.state.focus);\n\n    _this.scene = new THREE.Scene();\n    _this.scene.background = new THREE.Color('black');\n\n    var skybox = _this._createSkyBox(textures);\n    _this.scene.add(skybox);\n\n    var lightSources = _this._setupLightSources(textures);\n    _this.lightSources = lightSources;\n\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n\n    // initialize camera and scene\n    _this.camera = new THREE.PerspectiveCamera(45, width / height, 1e-10, 2);\n    _this.camera.up = new THREE.Vector3(0, 0, 1); // make 'z' be the UP direction\n\n    var recenter = function recenter() {\n      var focus = solarSystem.find(_this.state.focus);\n      _this.camera.position.set(0, -5 * focus.constants.radius, 0);\n      _this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    _this.addEventListener('focus', function (event) {\n      _this.orbitControls.minDistance = 5 * solarSystem.find(event.focus).constants.radius;\n      recenter();\n    });\n\n    _this.addEventListener('recenter', function (event) {\n      recenter();\n    });\n\n    var onWindowResize = _this._onWindowResize(height, _this.camera.fov);\n    _this.addEventListener('resize', function (event) {\n      onWindowResize();\n    });\n\n    /**\n     * Setup lifecycle methods for registering/deregistering event listeners\n     */\n\n    _this.viewWillAppear = function () {\n      var focus = solarSystem.find(_this.state.focus);\n      _this.orbitControls = new _OrbitControls2.default(_this.camera, _this.renderer.domElement);\n      _this.orbitControls.minDistance = focus.constants.radius * 1.1;\n      _this.orbitControls.maxDistance = focus.constants.radius * 100;\n\n      onWindowResize();\n      recenter();\n    };\n\n    _this.viewWillDisappear = function () {\n      _this.orbitControls.dispose();\n      _this.orbitControls = null;\n    };\n\n    /**\n     * Create THREE objects for each of our bodies and add to the scene\n     */\n    solarSystem.bodies.forEach(function (body) {\n\n      if (body.name === 'sun') {\n        return;\n      }\n\n      var threeBody = new THREE.Mesh(new THREE.SphereGeometry(body.constants.radius, 32, 32), new THREE.MeshStandardMaterial({\n        map: textures.get(body.name)\n      }));\n\n      _this.scene.add(threeBody);\n      _this.bodyMap.set(body.name, threeBody);\n    });\n\n    return Promise.resolve();\n  });\n};\n\n/**\n * Render the given solar system\n */\nCameraViewRenderer.prototype.render = function (solarSystem) {\n  var _this2 = this;\n\n  // Find the body we are focusing on\n  var focus = solarSystem.find(this.state.focus);\n\n  // Update light sources\n  var sun = solarSystem.find('sun');\n  this.lightSources.forEach(function (light) {\n    light.position.copy(_this2._adjustCoordinates(focus, sun.derived.position));\n  });\n\n  // Update the positions of all of our bodies\n  solarSystem.bodies.forEach(function (body) {\n\n    if (body.name === 'sun') {\n      return;\n    }\n\n    var threeBody = _this2.bodyMap.get(body.name);\n    var derived = body.derived;\n\n    // Adjust position to re-center the coordinate system on the focus\n    var position = _this2._adjustCoordinates(focus, derived.position);\n    threeBody.position.set(position.x, position.y, position.z);\n\n    // Adjust orbital tilt and rotation.  First, rotate the body using the same\n    // set of transforms we use to transform to ecliptic.  Then, apply the axial tilt,\n    // and the accumulated rotation around the axis ('derived.rotation');\n    threeBody.rotation.set(0, 0, 0);\n    threeBody.rotateZ(derived.omega);\n    threeBody.rotateX(derived.I);\n    threeBody.rotateZ(derived.argumentPerihelion);\n    threeBody.rotateOnAxis(new THREE.Vector3(1, 0, 0), Math.PI / 2);\n    threeBody.rotateOnAxis(new THREE.Vector3(1, 0, 0), -(body.constants.axial_tilt || 0) * Math.PI / 180);\n    threeBody.rotateY(derived.rotation);\n  });\n\n  this.renderer.render(this.scene, this.camera);\n};\n\n/**\n * Recenter the coordinate system on the focus being the 'center'.\n */\nCameraViewRenderer.prototype._adjustCoordinates = function (focus, position) {\n\n  if (!focus) return position.clone();\n\n  var coordinates = position.clone().sub(focus.derived.position);\n\n  return coordinates;\n};\n\n// Inherit from BaseRenderer\nObject.assign(CameraViewRenderer.prototype, _BaseRenderer2.default.prototype);\n\nexports.default = CameraViewRenderer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvQ2FtZXJhVmlld1JlbmRlcmVyLmpzP2ZlOTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VSZW5kZXJlciBmcm9tICcuL0Jhc2VSZW5kZXJlcic7XG5pbXBvcnQgT3JiaXRDb250cm9scyBmcm9tICcuL2xpYi9PcmJpdENvbnRyb2xzJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuZnVuY3Rpb24gQ2FtZXJhVmlld1JlbmRlcmVyKGNvbnRhaW5lciwgdGV4dHVyZUxvYWRlciwgY29tbW9uU3RhdGUpIHtcblxuICBCYXNlUmVuZGVyZXIuY2FsbCh0aGlzLCB0ZXh0dXJlTG9hZGVyLCBjb21tb25TdGF0ZSk7XG5cbiAgdGhpcy5yZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHtcbiAgICBhbnRpYWxpYXM6IHRydWUsXG4gICAgYWxwaGE6IHRydWVcbiAgfSk7XG4gIHRoaXMucmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7XG4gIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcblxuICB0aGlzLmJvZHlNYXAgPSBuZXcgTWFwKCk7XG59O1xuXG4vKipcbiAqIFVzZSB0aGlzIGxpZmV5Y2xlIG1ldGhvZCB0byBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gKi9cbkNhbWVyYVZpZXdSZW5kZXJlci5wcm90b3R5cGUudmlld0RpZExvYWQgPSBmdW5jdGlvbiAoc29sYXJTeXN0ZW0pIHtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5fbG9hZFRleHR1cmVzKCksXG4gICAgXSlcbiAgICAudGhlbigoW3RleHR1cmVzXSkgPT4ge1xuXG4gICAgICAvLyBGaW5kIHRoZSBib2R5IHdlIGFyZSBmb2N1c2luZyBvblxuICAgICAgY29uc3QgZm9jdXMgPSBzb2xhclN5c3RlbS5maW5kKHRoaXMuc3RhdGUuZm9jdXMpO1xuXG4gICAgICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gICAgICB0aGlzLnNjZW5lLmJhY2tncm91bmQgPSBuZXcgVEhSRUUuQ29sb3IoJ2JsYWNrJyk7XG5cbiAgICAgIGNvbnN0IHNreWJveCA9IHRoaXMuX2NyZWF0ZVNreUJveCh0ZXh0dXJlcyk7XG4gICAgICB0aGlzLnNjZW5lLmFkZChza3lib3gpO1xuXG4gICAgICBjb25zdCBsaWdodFNvdXJjZXMgPSB0aGlzLl9zZXR1cExpZ2h0U291cmNlcyh0ZXh0dXJlcyk7XG4gICAgICB0aGlzLmxpZ2h0U291cmNlcyA9IGxpZ2h0U291cmNlcztcblxuICAgICAgbGV0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICBsZXQgaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAvLyBpbml0aWFsaXplIGNhbWVyYSBhbmQgc2NlbmVcbiAgICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB3aWR0aCAvIGhlaWdodCwgMWUtMTAsIDIpO1xuICAgICAgdGhpcy5jYW1lcmEudXAgPSBuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAxKTsgLy8gbWFrZSAneicgYmUgdGhlIFVQIGRpcmVjdGlvblxuXG4gICAgICBjb25zdCByZWNlbnRlciA9ICgpID0+IHtcbiAgICAgICAgbGV0IGZvY3VzID0gc29sYXJTeXN0ZW0uZmluZCh0aGlzLnN0YXRlLmZvY3VzKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIC01ICogZm9jdXMuY29uc3RhbnRzLnJhZGl1cywgMCk7XG4gICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChuZXcgVEhSRUUuVmVjdG9yMygwLCAwLCAwKSk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5taW5EaXN0YW5jZSA9IDUgKiBzb2xhclN5c3RlbS5maW5kKGV2ZW50LmZvY3VzKS5jb25zdGFudHMucmFkaXVzO1xuICAgICAgICByZWNlbnRlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncmVjZW50ZXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgcmVjZW50ZXIoKTtcbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IG9uV2luZG93UmVzaXplID0gdGhpcy5fb25XaW5kb3dSZXNpemUoaGVpZ2h0LCB0aGlzLmNhbWVyYS5mb3YpO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgb25XaW5kb3dSZXNpemUoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvKipcbiAgICAgICAqIFNldHVwIGxpZmVjeWNsZSBtZXRob2RzIGZvciByZWdpc3RlcmluZy9kZXJlZ2lzdGVyaW5nIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICovXG5cbiAgICAgIHRoaXMudmlld1dpbGxBcHBlYXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvY3VzID0gc29sYXJTeXN0ZW0uZmluZCh0aGlzLnN0YXRlLmZvY3VzKTtcbiAgICAgICAgdGhpcy5vcmJpdENvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5taW5EaXN0YW5jZSA9IGZvY3VzLmNvbnN0YW50cy5yYWRpdXMgKiAxLjE7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5tYXhEaXN0YW5jZSA9IGZvY3VzLmNvbnN0YW50cy5yYWRpdXMgKiAxMDA7XG5cbiAgICAgICAgb25XaW5kb3dSZXNpemUoKTtcbiAgICAgICAgcmVjZW50ZXIoKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMudmlld1dpbGxEaXNhcHBlYXIgPSAoKSA9PiB7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scyA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENyZWF0ZSBUSFJFRSBvYmplY3RzIGZvciBlYWNoIG9mIG91ciBib2RpZXMgYW5kIGFkZCB0byB0aGUgc2NlbmVcbiAgICAgICAqL1xuICAgICAgc29sYXJTeXN0ZW0uYm9kaWVzLmZvckVhY2goYm9keSA9PiB7XG5cbiAgICAgICAgaWYgKGJvZHkubmFtZSA9PT0gJ3N1bicpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aHJlZUJvZHkgPSBuZXcgVEhSRUUuTWVzaChcbiAgICAgICAgICBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoYm9keS5jb25zdGFudHMucmFkaXVzLCAzMiwgMzIpLFxuICAgICAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgICAgICBtYXA6IHRleHR1cmVzLmdldChib2R5Lm5hbWUpLFxuICAgICAgICAgIH0pKTtcblxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aHJlZUJvZHkpO1xuICAgICAgICB0aGlzLmJvZHlNYXAuc2V0KGJvZHkubmFtZSwgdGhyZWVCb2R5KTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJlbmRlciB0aGUgZ2l2ZW4gc29sYXIgc3lzdGVtXG4gKi9cbkNhbWVyYVZpZXdSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKHNvbGFyU3lzdGVtKSB7XG5cbiAgLy8gRmluZCB0aGUgYm9keSB3ZSBhcmUgZm9jdXNpbmcgb25cbiAgY29uc3QgZm9jdXMgPSBzb2xhclN5c3RlbS5maW5kKHRoaXMuc3RhdGUuZm9jdXMpO1xuXG4gIC8vIFVwZGF0ZSBsaWdodCBzb3VyY2VzXG4gIGNvbnN0IHN1biA9IHNvbGFyU3lzdGVtLmZpbmQoJ3N1bicpO1xuICB0aGlzLmxpZ2h0U291cmNlcy5mb3JFYWNoKChsaWdodCkgPT4ge1xuICAgIGxpZ2h0LnBvc2l0aW9uLmNvcHkodGhpcy5fYWRqdXN0Q29vcmRpbmF0ZXMoZm9jdXMsIHN1bi5kZXJpdmVkLnBvc2l0aW9uKSk7XG4gIH0pXG5cbiAgLy8gVXBkYXRlIHRoZSBwb3NpdGlvbnMgb2YgYWxsIG9mIG91ciBib2RpZXNcbiAgc29sYXJTeXN0ZW0uYm9kaWVzLmZvckVhY2goKGJvZHkpID0+IHtcblxuICAgIGlmIChib2R5Lm5hbWUgPT09ICdzdW4nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHRocmVlQm9keSA9IHRoaXMuYm9keU1hcC5nZXQoYm9keS5uYW1lKTtcbiAgICBsZXQgZGVyaXZlZCA9IGJvZHkuZGVyaXZlZDtcblxuICAgIC8vIEFkanVzdCBwb3NpdGlvbiB0byByZS1jZW50ZXIgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIG9uIHRoZSBmb2N1c1xuICAgIGxldCBwb3NpdGlvbiA9IHRoaXMuX2FkanVzdENvb3JkaW5hdGVzKGZvY3VzLCBkZXJpdmVkLnBvc2l0aW9uKTtcbiAgICB0aHJlZUJvZHkucG9zaXRpb24uc2V0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHBvc2l0aW9uLnopO1xuXG4gICAgLy8gQWRqdXN0IG9yYml0YWwgdGlsdCBhbmQgcm90YXRpb24uICBGaXJzdCwgcm90YXRlIHRoZSBib2R5IHVzaW5nIHRoZSBzYW1lXG4gICAgLy8gc2V0IG9mIHRyYW5zZm9ybXMgd2UgdXNlIHRvIHRyYW5zZm9ybSB0byBlY2xpcHRpYy4gIFRoZW4sIGFwcGx5IHRoZSBheGlhbCB0aWx0LFxuICAgIC8vIGFuZCB0aGUgYWNjdW11bGF0ZWQgcm90YXRpb24gYXJvdW5kIHRoZSBheGlzICgnZGVyaXZlZC5yb3RhdGlvbicpO1xuICAgIHRocmVlQm9keS5yb3RhdGlvbi5zZXQoMCwgMCwgMCk7XG4gICAgdGhyZWVCb2R5LnJvdGF0ZVooZGVyaXZlZC5vbWVnYSk7XG4gICAgdGhyZWVCb2R5LnJvdGF0ZVgoZGVyaXZlZC5JKTtcbiAgICB0aHJlZUJvZHkucm90YXRlWihkZXJpdmVkLmFyZ3VtZW50UGVyaWhlbGlvbik7XG4gICAgdGhyZWVCb2R5LnJvdGF0ZU9uQXhpcyhuZXcgVEhSRUUuVmVjdG9yMygxLCAwLCAwKSwgTWF0aC5QSSAvIDIpO1xuICAgIHRocmVlQm9keS5yb3RhdGVPbkF4aXMobmV3IFRIUkVFLlZlY3RvcjMoMSwgMCwgMCksIC0oYm9keS5jb25zdGFudHMuYXhpYWxfdGlsdCB8fCAwKSAqIE1hdGguUEkgLyAxODApO1xuICAgIHRocmVlQm9keS5yb3RhdGVZKGRlcml2ZWQucm90YXRpb24pO1xuICB9KTtcblxuICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG59O1xuXG4vKipcbiAqIFJlY2VudGVyIHRoZSBjb29yZGluYXRlIHN5c3RlbSBvbiB0aGUgZm9jdXMgYmVpbmcgdGhlICdjZW50ZXInLlxuICovXG5DYW1lcmFWaWV3UmVuZGVyZXIucHJvdG90eXBlLl9hZGp1c3RDb29yZGluYXRlcyA9IGZ1bmN0aW9uIChmb2N1cywgcG9zaXRpb24pIHtcblxuICBpZiAoIWZvY3VzKVxuICAgIHJldHVybiBwb3NpdGlvbi5jbG9uZSgpO1xuXG4gIGxldCBjb29yZGluYXRlcyA9IHBvc2l0aW9uLmNsb25lKClcbiAgICAuc3ViKGZvY3VzLmRlcml2ZWQucG9zaXRpb24pO1xuXG4gIHJldHVybiBjb29yZGluYXRlcztcbn07XG5cbi8vIEluaGVyaXQgZnJvbSBCYXNlUmVuZGVyZXJcbk9iamVjdC5hc3NpZ24oQ2FtZXJhVmlld1JlbmRlcmVyLnByb3RvdHlwZSwgQmFzZVJlbmRlcmVyLnByb3RvdHlwZSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYVZpZXdSZW5kZXJlcjtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL0NhbWVyYVZpZXdSZW5kZXJlci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_FOCUS = 'earth';\n\nvar CommonState = function CommonState() {\n  var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : DEFAULT_FOCUS;\n\n  _classCallCheck(this, CommonState);\n\n  this.focus = focus;\n};\n\nexports.default = CommonState;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvQ29tbW9uU3RhdGUuanM/ZWY4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBERUZBVUxUX0ZPQ1VTID0gJ2VhcnRoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29tbW9uU3RhdGUge1xuICBjb25zdHJ1Y3Rvcihmb2N1cyA9IERFRkFVTFRfRk9DVVMpIHtcbiAgICB0aGlzLmZvY3VzID0gZm9jdXM7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL0NvbW1vblN0YXRlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSkEiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _BaseRenderer = __webpack_require__(5);\n\nvar _BaseRenderer2 = _interopRequireDefault(_BaseRenderer);\n\nvar _OrbitControls = __webpack_require__(4);\n\nvar _OrbitControls2 = _interopRequireDefault(_OrbitControls);\n\nvar _Bodies = __webpack_require__(2);\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TRAJECTORY_SCALE = 5;\nvar SHOW_VELOCITY_VECTORS = false;\n\nvar PLANET_COLOURS = {\n  \"sun\": \"yellow\",\n  \"mercury\": \"silver\",\n  \"venus\": \"green\",\n  \"earth\": \"skyblue\",\n  \"moon\": \"gray\",\n  \"mars\": \"red\",\n  \"jupiter\": \"orange\",\n  \"saturn\": \"tan\",\n  \"uranus\": \"skyblue\",\n  \"neptune\": \"lightblue\",\n  \"pluto\": \"silver\"\n};\n\nfunction OrbitalMapRenderer(container, textureLoader, commonState) {\n\n  _BaseRenderer2.default.call(this, textureLoader, commonState);\n\n  this.container = container;\n  this.renderer = new THREE.WebGLRenderer();\n  this.renderer.setPixelRatio(window.devicePixelRatio);\n  container.appendChild(this.renderer.domElement);\n\n  this.scene = new THREE.Scene();\n  this.bodyMap = new Map();\n};\n\nOrbitalMapRenderer.prototype.viewDidLoad = function (solarSystem) {\n  var _this = this;\n\n  return Promise.all([this._loadTextures()]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 1),\n        textures = _ref2[0];\n\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n\n    _this.camera = new THREE.PerspectiveCamera(45, width / height, 1e-10, 2);\n    _this.camera.up = new THREE.Vector3(0, 0, 1);\n\n    var skybox = _this._createSkyBox(textures);\n    _this.scene.add(skybox);\n\n    var recenter = function recenter() {\n      var focus = solarSystem.find(_this.state.focus);\n\n      // For all bodies (except sun), use the size of the orbiting radius for\n      // the camera position.\n      var cameraDistance = void 0;\n      if (focus.name === 'sun') {\n        cameraDistance = 100;\n      } else {\n        var position = focus.derived.position;\n        var primary_position = focus.primary.derived.position;\n        cameraDistance = 10 * primary_position.distanceTo(position);\n      }\n\n      _this.orbitControls.reset();\n      _this.camera.position.set(0, 0, cameraDistance);\n      _this.camera.lookAt(new THREE.Vector3(0, 0, 0));\n    };\n\n    _this.addEventListener('click', function (event) {\n      var location = event.location;\n\n      // Do a hit-test check for all planets\n      var found = Array.from(_this.bodyMap.entries()).map(function (entry) {\n\n        var id = entry[0];\n        var objects = entry[1];\n\n        var position = objects.body.position.clone();\n        var projection = position.project(_this.camera);\n        var body = new THREE.Vector2(projection.x * width, projection.y * height);\n\n        return {\n          id: id,\n          distance: body.distanceTo(location)\n        };\n      }).sort(function (left, right) {\n        return left.distance - right.distance;\n      }).find(function (_ref3) {\n        var id = _ref3.id,\n            distance = _ref3.distance;\n        return distance < 50;\n      });\n\n      // Update the focus to the target planet\n      if (found) {\n        _this.state.focus = found.id;\n      }\n    });\n\n    _this.addEventListener('focus', function (event) {\n      recenter();\n    });\n\n    _this.addEventListener('recenter', function (event) {\n      recenter();\n    });\n\n    var onWindowResize = _this._onWindowResize(height, _this.camera.fov);\n    _this.addEventListener('resize', function (event) {\n      onWindowResize();\n    });\n\n    _this.viewWillAppear = function () {\n      this.orbitControls = new _OrbitControls2.default(this.camera, this.renderer.domElement);\n      this.orbitControls.maxDistance = 100 * TRAJECTORY_SCALE;\n      this.orbitControls.dollySpeed = 2.0;\n      onWindowResize();\n      recenter();\n    };\n\n    _this.viewWillDisappear = function () {\n      this.orbitControls.dispose();\n      this.orbitControls = null;\n    };\n\n    // Maintain a mapping from planet -> THREE object representing the planet\n    // This will allow us to update the existing THREE object on each iteration\n    // of the render loop.\n    solarSystem.bodies.forEach(function (body) {\n\n      _this.bodyMap.set(body.name, {});\n\n      var threeBody = new THREE.Mesh(new THREE.SphereGeometry(body.constants.radius, 32, 32), new THREE.MeshBasicMaterial({\n        color: PLANET_COLOURS[body.name] || 'white'\n      }));\n\n      var periapsis = new THREE.Mesh(new THREE.SphereGeometry(0.01, 32, 32), new THREE.MeshBasicMaterial({\n        color: 'purple'\n      }));\n\n      var apoapsis = new THREE.Mesh(new THREE.SphereGeometry(0.01, 32, 32), new THREE.MeshBasicMaterial({\n        color: 'aqua'\n      }));\n\n      _this.scene.add(threeBody);\n      //this.scene.add(periapsis);\n      //this.scene.add(apoapsis);\n\n      if (body.name !== 'sun') {\n\n        var trajectory = new THREE.Line(_this._createTrajectoryGeometry(), new THREE.LineBasicMaterial({\n          color: PLANET_COLOURS[body.name] || 'white'\n        }));\n\n        _this.scene.add(trajectory);\n        _this.bodyMap.get(body.name).trajectory = trajectory;\n        _this.bodyMap.get(body.name).trajectoryVertices = Array.from(trajectory.geometry.attributes.position.array);\n        _this.bodyMap.get(body.name).trajectoryVerticesDirty = [];\n      }\n\n      Object.assign(_this.bodyMap.get(body.name), {\n        body: threeBody,\n        periapsis: periapsis,\n        apoapsis: apoapsis\n      });\n    });\n\n    return Promise.resolve();\n  });\n};\n\nOrbitalMapRenderer.prototype.render = function (solarSystem) {\n  var _this2 = this;\n\n  // Find the current user focus\n  var focus = solarSystem.find(this.state.focus);\n\n  // Locate primary body, sun\n  var sun = solarSystem.find('sun');\n\n  solarSystem.bodies.forEach(function (body) {\n\n    var bodyMap = _this2.bodyMap.get(body.name);\n    var threeBody = bodyMap.body;\n    var threePeriapsis = bodyMap.periapsis;\n    var threeApoapsis = bodyMap.apoapsis;\n    var derived = body.derived;\n\n    // Adjust position to re-center the coordinate system on the focus\n    var position = _this2._adjustCoordinates(focus, derived.position);\n    // let apoapsis = this._adjustCoordinates(focus, derived.apoapsis);\n    // let periapsis = this._adjustCoordinates(focus, derived.periapsis);\n\n    threeBody.position.set(position.x, position.y, position.z);\n\n    if (SHOW_VELOCITY_VECTORS) {\n      bodyMap.arrowHelper && _this2.scene.remove(bodyMap.arrowHelper);\n      var arrowHelper = new THREE.ArrowHelper(derived.velocity.clone().normalize(), position, 1, 0xffff00);\n      _this2.scene.add(arrowHelper);\n      bodyMap.arrowHelper = arrowHelper;\n    }\n\n    // threePeriapsis.position.set(periapsis.x, periapsis.y, periapsis.z);\n    // threeApoapsis.position.set(apoapsis.x, apoapsis.y, apoapsis.z);\n\n    _this2._updateTrajectory(focus, body);\n    _this2._scaleBody(body);\n  });\n\n  this.renderer.render(this.scene, this.camera);\n};\n\n/**\n * Recenter the coordinate system on the focus being the 'center'.\n */\nOrbitalMapRenderer.prototype._adjustCoordinates = function (focus, position) {\n\n  if (!focus) return position.clone();\n\n  var coordinates = position.clone().sub(focus.derived.position).multiplyScalar(TRAJECTORY_SCALE);\n\n  return coordinates;\n};\n\nOrbitalMapRenderer.prototype._scaleBody = function (body) {\n\n  var bodyMap = this.bodyMap.get(body.name);\n  var threeBody = bodyMap.body;\n  var trajectory = bodyMap.trajectory;\n  var cameraDistance = this.camera.position.distanceTo(threeBody.position);\n\n  var scale = Math.max(0.005 * cameraDistance, body.constants.radius) / body.constants.radius;\n  threeBody.scale.set(scale, scale, scale);\n\n  // Allow more 'space' between large bodies and their satellites\n  trajectory && trajectory.scale.set(trajectory.scale.x * TRAJECTORY_SCALE, trajectory.scale.y * TRAJECTORY_SCALE, 1);\n};\n\nOrbitalMapRenderer.prototype._updateTrajectory = function (focus, body) {\n\n  if (body.name === 'sun') return;\n\n  // Redraw the trajectory for this body\n  var bodyMap = this.bodyMap.get(body.name);\n  var trajectory = bodyMap.trajectory;\n  var trajectoryVertices = bodyMap.trajectoryVertices;\n  var trajectoryVerticesDirty = bodyMap.trajectoryVerticesDirty;\n\n  var derived = body.derived;\n  var position_in_plane = body.derived.position_in_plane;\n  var center_in_plane = body.derived.center_in_plane;\n  var semiMajorAxis = derived.semiMajorAxis;\n  var semiMinorAxis = derived.semiMinorAxis;\n  var center = this._adjustCoordinates(focus, derived.center);\n\n  var scaledPosition = new THREE.Vector3().copy(position_in_plane).sub(center_in_plane);\n  scaledPosition.multiply(new THREE.Vector3(1 / semiMajorAxis, 1 / semiMinorAxis, 1));\n\n  // Workaround for natural limitations of drawing arcs using straight line segments;\n  // you inherently cannot track a planet moving in an ellipse between the planet\n  // will always be between two vertices.  This code attempts to manually 'insert'\n  // a vertex that corresponds to the planets location.\n  // This fixes the issue where the trajectory would wobble in and out of the planet\n\n  var geometry = trajectory.geometry;\n  var positions = geometry.attributes.position.array;\n  var range = positions.length / 3;\n  var verticesToChange = 1;\n  var verticesToTest = [];\n\n  for (var i = 0; i < range; i++) {\n    var offset = i * 3;\n    verticesToTest.push(new THREE.Vector3(trajectoryVertices[offset], trajectoryVertices[offset + 1], trajectoryVertices[offset + 2]));\n  };\n\n  // Find the vertex that is closest to the planets position\n  var sorted = verticesToTest.map(function (vertex, idx) {\n    return [vertex.distanceTo(scaledPosition), vertex, idx];\n  }).sort(function (left, right) {\n    return left[0] - right[0];\n  });\n\n  trajectoryVerticesDirty.forEach(function (idx) {\n    var offset = idx * 3;\n    positions[offset] = trajectoryVertices[offset];\n    positions[offset + 1] = trajectoryVertices[offset + 1];\n    positions[offset + 2] = trajectoryVertices[offset + 2];\n  });\n  var updatedDirtyVertices = [];\n\n  // Overwrite the closest vertices with the planets actual position.  This will\n  // ensure that a vertex for our trajectory is always located at the planets\n  // location.\n  sorted.slice(0, verticesToChange).forEach(function (element) {\n    var vertex = element[1];\n    var offset = element[2] * 3;\n    positions[offset] = scaledPosition.x;\n    positions[offset + 1] = scaledPosition.y;\n    positions[offset + 2] = scaledPosition.z;\n\n    updatedDirtyVertices.push(element[2]);\n  });\n\n  // Set new value of dirty vertices;\n  bodyMap.trajectoryVerticesDirty = updatedDirtyVertices;\n\n  // Signal that this geometry needs a redraw\n  geometry.attributes.position.needsUpdate = true;\n\n  // Finally, apply scale/rotation/translation to the trajectory to place it\n  // into the correct orbit\n  trajectory.scale.set(1, 1, 1);\n  trajectory.rotation.set(0, 0, 0);\n  trajectory.position.set(0, 0, 0);\n\n  // Now adjust the trajectory to its actual orientation\n  trajectory.translateX(center.x);\n  trajectory.translateY(center.y);\n  trajectory.translateZ(center.z);\n  trajectory.rotateZ(derived.omega);\n  trajectory.rotateX(derived.I);\n  trajectory.rotateZ(derived.argumentPerihelion);\n  trajectory.scale.set(semiMajorAxis, semiMinorAxis, 1);\n};\n\nOrbitalMapRenderer.prototype._createTrajectoryGeometry = function () {\n\n  var NUM_POINTS = 256;\n\n  // Create the trajectory using a strandard ellipse curve that will\n  // eventually scale/rotate/translate into the correct orbit path during\n  // the render loop.\n  var pointsGeometry = new THREE.Path(new THREE.EllipseCurve(0, 0, // ax, aY\n  1, 1, // xRadius, yRadius\n  0, 2 * Math.PI, // aStartAngle, aEndAngle\n  false, // aClockwise\n  0 // aRotation\n  ).getPoints(NUM_POINTS)).createPointsGeometry(NUM_POINTS);\n  var bufferGeometry = new THREE.BufferGeometry();\n  var vertices = [];\n  for (var i = 0; i < pointsGeometry.vertices.length; i++) {\n    vertices.push(pointsGeometry.vertices[i].x, pointsGeometry.vertices[i].y, pointsGeometry.vertices[i].z);\n  }\n\n  bufferGeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n\n  return bufferGeometry;\n};\n\nObject.assign(OrbitalMapRenderer.prototype, _BaseRenderer2.default.prototype);\n\nexports.default = OrbitalMapRenderer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvT3JiaXRhbE1hcFJlbmRlcmVyLmpzPzVmYzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEJhc2VSZW5kZXJlciBmcm9tICcuL0Jhc2VSZW5kZXJlcic7XG5pbXBvcnQgT3JiaXRDb250cm9scyBmcm9tICcuL2xpYi9PcmJpdENvbnRyb2xzJztcbmltcG9ydCB7XG4gIEZJWEVEX1RZUEUsXG4gIFBIWVNJQ1NfVFlQRSxcbiAgQVNURVJPSURfVFlQRVxufSBmcm9tICcuL0JvZGllcyc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5cbmNvbnN0IFRSQUpFQ1RPUllfU0NBTEUgPSA1O1xuY29uc3QgU0hPV19WRUxPQ0lUWV9WRUNUT1JTID0gZmFsc2U7XG5cbmNvbnN0IFBMQU5FVF9DT0xPVVJTID0ge1xuICBcInN1blwiOiBcInllbGxvd1wiLFxuICBcIm1lcmN1cnlcIjogXCJzaWx2ZXJcIixcbiAgXCJ2ZW51c1wiOiBcImdyZWVuXCIsXG4gIFwiZWFydGhcIjogXCJza3libHVlXCIsXG4gIFwibW9vblwiOiBcImdyYXlcIixcbiAgXCJtYXJzXCI6IFwicmVkXCIsXG4gIFwianVwaXRlclwiOiBcIm9yYW5nZVwiLFxuICBcInNhdHVyblwiOiBcInRhblwiLFxuICBcInVyYW51c1wiOiBcInNreWJsdWVcIixcbiAgXCJuZXB0dW5lXCI6IFwibGlnaHRibHVlXCIsXG4gIFwicGx1dG9cIjogXCJzaWx2ZXJcIlxufTtcblxuZnVuY3Rpb24gT3JiaXRhbE1hcFJlbmRlcmVyKGNvbnRhaW5lciwgdGV4dHVyZUxvYWRlciwgY29tbW9uU3RhdGUpIHtcblxuICBCYXNlUmVuZGVyZXIuY2FsbCh0aGlzLCB0ZXh0dXJlTG9hZGVyLCBjb21tb25TdGF0ZSk7XG5cbiAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcigpO1xuICB0aGlzLnJlbmRlcmVyLnNldFBpeGVsUmF0aW8od2luZG93LmRldmljZVBpeGVsUmF0aW8pO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5yZW5kZXJlci5kb21FbGVtZW50KTtcblxuICB0aGlzLnNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKCk7XG4gIHRoaXMuYm9keU1hcCA9IG5ldyBNYXAoKTtcbn07XG5cbk9yYml0YWxNYXBSZW5kZXJlci5wcm90b3R5cGUudmlld0RpZExvYWQgPSBmdW5jdGlvbiAoc29sYXJTeXN0ZW0pIHtcblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5fbG9hZFRleHR1cmVzKClcbiAgICBdKVxuICAgIC50aGVuKChbdGV4dHVyZXNdKSA9PiB7XG5cbiAgICAgIGxldCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgbGV0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoNDUsIHdpZHRoIC8gaGVpZ2h0LCAxZS0xMCwgMik7XG4gICAgICB0aGlzLmNhbWVyYS51cCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDEpO1xuXG4gICAgICBjb25zdCBza3lib3ggPSB0aGlzLl9jcmVhdGVTa3lCb3godGV4dHVyZXMpO1xuICAgICAgdGhpcy5zY2VuZS5hZGQoc2t5Ym94KTtcblxuICAgICAgY29uc3QgcmVjZW50ZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGZvY3VzID0gc29sYXJTeXN0ZW0uZmluZCh0aGlzLnN0YXRlLmZvY3VzKTtcblxuICAgICAgICAvLyBGb3IgYWxsIGJvZGllcyAoZXhjZXB0IHN1biksIHVzZSB0aGUgc2l6ZSBvZiB0aGUgb3JiaXRpbmcgcmFkaXVzIGZvclxuICAgICAgICAvLyB0aGUgY2FtZXJhIHBvc2l0aW9uLlxuICAgICAgICBsZXQgY2FtZXJhRGlzdGFuY2U7XG4gICAgICAgIGlmIChmb2N1cy5uYW1lID09PSAnc3VuJykge1xuICAgICAgICAgIGNhbWVyYURpc3RhbmNlID0gMTAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxldCBwb3NpdGlvbiA9IGZvY3VzLmRlcml2ZWQucG9zaXRpb247XG4gICAgICAgICAgbGV0IHByaW1hcnlfcG9zaXRpb24gPSBmb2N1cy5wcmltYXJ5LmRlcml2ZWQucG9zaXRpb247XG4gICAgICAgICAgY2FtZXJhRGlzdGFuY2UgPSAxMCAqIHByaW1hcnlfcG9zaXRpb24uZGlzdGFuY2VUbyhwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9yYml0Q29udHJvbHMucmVzZXQoKTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDAsIGNhbWVyYURpc3RhbmNlKTtcbiAgICAgICAgdGhpcy5jYW1lcmEubG9va0F0KG5ldyBUSFJFRS5WZWN0b3IzKDAsIDAsIDApKTtcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBldmVudC5sb2NhdGlvbjtcblxuICAgICAgICAvLyBEbyBhIGhpdC10ZXN0IGNoZWNrIGZvciBhbGwgcGxhbmV0c1xuICAgICAgICBjb25zdCBmb3VuZCA9IEFycmF5LmZyb20odGhpcy5ib2R5TWFwLmVudHJpZXMoKSlcbiAgICAgICAgICAubWFwKChlbnRyeSkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBpZCA9IGVudHJ5WzBdO1xuICAgICAgICAgICAgY29uc3Qgb2JqZWN0cyA9IGVudHJ5WzFdO1xuXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IG9iamVjdHMuYm9keS5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgICAgICAgY29uc3QgcHJvamVjdGlvbiA9IHBvc2l0aW9uLnByb2plY3QodGhpcy5jYW1lcmEpO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBUSFJFRS5WZWN0b3IyKHByb2plY3Rpb24ueCAqIHdpZHRoLCBwcm9qZWN0aW9uLnkgKiBoZWlnaHQpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgIGRpc3RhbmNlOiBib2R5LmRpc3RhbmNlVG8obG9jYXRpb24pXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnNvcnQoKGxlZnQsIHJpZ2h0KSA9PiBsZWZ0LmRpc3RhbmNlIC0gcmlnaHQuZGlzdGFuY2UpXG4gICAgICAgICAgLmZpbmQoKHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZGlzdGFuY2VcbiAgICAgICAgICB9KSA9PiBkaXN0YW5jZSA8IDUwKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGZvY3VzIHRvIHRoZSB0YXJnZXQgcGxhbmV0XG4gICAgICAgIGlmIChmb3VuZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuZm9jdXMgPSBmb3VuZC5pZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgcmVjZW50ZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlY2VudGVyJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIHJlY2VudGVyKCk7XG4gICAgICB9KVxuXG4gICAgICBjb25zdCBvbldpbmRvd1Jlc2l6ZSA9IHRoaXMuX29uV2luZG93UmVzaXplKGhlaWdodCwgdGhpcy5jYW1lcmEuZm92KTtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uV2luZG93UmVzaXplKCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy52aWV3V2lsbEFwcGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vcmJpdENvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHModGhpcy5jYW1lcmEsIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5tYXhEaXN0YW5jZSA9IDEwMCAqIFRSQUpFQ1RPUllfU0NBTEU7XG4gICAgICAgIHRoaXMub3JiaXRDb250cm9scy5kb2xseVNwZWVkID0gMi4wO1xuICAgICAgICBvbldpbmRvd1Jlc2l6ZSgpO1xuICAgICAgICByZWNlbnRlcigpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy52aWV3V2lsbERpc2FwcGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vcmJpdENvbnRyb2xzLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5vcmJpdENvbnRyb2xzID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIC8vIE1haW50YWluIGEgbWFwcGluZyBmcm9tIHBsYW5ldCAtPiBUSFJFRSBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBwbGFuZXRcbiAgICAgIC8vIFRoaXMgd2lsbCBhbGxvdyB1cyB0byB1cGRhdGUgdGhlIGV4aXN0aW5nIFRIUkVFIG9iamVjdCBvbiBlYWNoIGl0ZXJhdGlvblxuICAgICAgLy8gb2YgdGhlIHJlbmRlciBsb29wLlxuICAgICAgc29sYXJTeXN0ZW0uYm9kaWVzLmZvckVhY2goKGJvZHkpID0+IHtcblxuICAgICAgICB0aGlzLmJvZHlNYXAuc2V0KGJvZHkubmFtZSwge30pO1xuXG4gICAgICAgIGNvbnN0IHRocmVlQm9keSA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShib2R5LmNvbnN0YW50cy5yYWRpdXMsIDMyLCAzMiksXG4gICAgICAgICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiBQTEFORVRfQ09MT1VSU1tib2R5Lm5hbWVdIHx8ICd3aGl0ZSdcbiAgICAgICAgICB9KSk7XG5cbiAgICAgICAgY29uc3QgcGVyaWFwc2lzID0gbmV3IFRIUkVFLk1lc2gobmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuMDEsIDMyLCAzMiksXG4gICAgICAgICAgbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgIGNvbG9yOiAncHVycGxlJ1xuICAgICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBhcG9hcHNpcyA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjAxLCAzMiwgMzIpLFxuICAgICAgICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICAgICAgICBjb2xvcjogJ2FxdWEnXG4gICAgICAgICAgfSkpO1xuXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRocmVlQm9keSk7XG4gICAgICAgIC8vdGhpcy5zY2VuZS5hZGQocGVyaWFwc2lzKTtcbiAgICAgICAgLy90aGlzLnNjZW5lLmFkZChhcG9hcHNpcyk7XG5cbiAgICAgICAgaWYgKGJvZHkubmFtZSAhPT0gJ3N1bicpIHtcblxuICAgICAgICAgIGNvbnN0IHRyYWplY3RvcnkgPSBuZXcgVEhSRUUuTGluZShcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRyYWplY3RvcnlHZW9tZXRyeSgpLFxuICAgICAgICAgICAgbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHtcbiAgICAgICAgICAgICAgY29sb3I6IFBMQU5FVF9DT0xPVVJTW2JvZHkubmFtZV0gfHwgJ3doaXRlJ1xuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgdGhpcy5zY2VuZS5hZGQodHJhamVjdG9yeSk7XG4gICAgICAgICAgdGhpcy5ib2R5TWFwLmdldChib2R5Lm5hbWUpXG4gICAgICAgICAgICAudHJhamVjdG9yeSA9IHRyYWplY3Rvcnk7XG4gICAgICAgICAgdGhpcy5ib2R5TWFwLmdldChib2R5Lm5hbWUpXG4gICAgICAgICAgICAudHJhamVjdG9yeVZlcnRpY2VzID0gQXJyYXkuZnJvbSh0cmFqZWN0b3J5Lmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXkpO1xuICAgICAgICAgIHRoaXMuYm9keU1hcC5nZXQoYm9keS5uYW1lKVxuICAgICAgICAgICAgLnRyYWplY3RvcnlWZXJ0aWNlc0RpcnR5ID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuYm9keU1hcC5nZXQoYm9keS5uYW1lKSwge1xuICAgICAgICAgIGJvZHk6IHRocmVlQm9keSxcbiAgICAgICAgICBwZXJpYXBzaXM6IHBlcmlhcHNpcyxcbiAgICAgICAgICBhcG9hcHNpczogYXBvYXBzaXMsXG4gICAgICAgIH0pO1xuXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH0pO1xufTtcblxuT3JiaXRhbE1hcFJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoc29sYXJTeXN0ZW0pIHtcblxuICAvLyBGaW5kIHRoZSBjdXJyZW50IHVzZXIgZm9jdXNcbiAgY29uc3QgZm9jdXMgPSBzb2xhclN5c3RlbS5maW5kKHRoaXMuc3RhdGUuZm9jdXMpO1xuXG4gIC8vIExvY2F0ZSBwcmltYXJ5IGJvZHksIHN1blxuICBjb25zdCBzdW4gPSBzb2xhclN5c3RlbS5maW5kKCdzdW4nKTtcblxuICBzb2xhclN5c3RlbS5ib2RpZXMuZm9yRWFjaCgoYm9keSkgPT4ge1xuXG4gICAgbGV0IGJvZHlNYXAgPSB0aGlzLmJvZHlNYXAuZ2V0KGJvZHkubmFtZSk7XG4gICAgbGV0IHRocmVlQm9keSA9IGJvZHlNYXAuYm9keTtcbiAgICBsZXQgdGhyZWVQZXJpYXBzaXMgPSBib2R5TWFwLnBlcmlhcHNpcztcbiAgICBsZXQgdGhyZWVBcG9hcHNpcyA9IGJvZHlNYXAuYXBvYXBzaXM7XG4gICAgbGV0IGRlcml2ZWQgPSBib2R5LmRlcml2ZWQ7XG5cbiAgICAvLyBBZGp1c3QgcG9zaXRpb24gdG8gcmUtY2VudGVyIHRoZSBjb29yZGluYXRlIHN5c3RlbSBvbiB0aGUgZm9jdXNcbiAgICBsZXQgcG9zaXRpb24gPSB0aGlzLl9hZGp1c3RDb29yZGluYXRlcyhmb2N1cywgZGVyaXZlZC5wb3NpdGlvbik7XG4gICAgLy8gbGV0IGFwb2Fwc2lzID0gdGhpcy5fYWRqdXN0Q29vcmRpbmF0ZXMoZm9jdXMsIGRlcml2ZWQuYXBvYXBzaXMpO1xuICAgIC8vIGxldCBwZXJpYXBzaXMgPSB0aGlzLl9hZGp1c3RDb29yZGluYXRlcyhmb2N1cywgZGVyaXZlZC5wZXJpYXBzaXMpO1xuXG4gICAgdGhyZWVCb2R5LnBvc2l0aW9uLnNldChwb3NpdGlvbi54LCBwb3NpdGlvbi55LCBwb3NpdGlvbi56KTtcblxuICAgIGlmIChTSE9XX1ZFTE9DSVRZX1ZFQ1RPUlMpIHtcbiAgICAgIGJvZHlNYXAuYXJyb3dIZWxwZXIgJiYgdGhpcy5zY2VuZS5yZW1vdmUoYm9keU1hcC5hcnJvd0hlbHBlcik7XG4gICAgICBsZXQgYXJyb3dIZWxwZXIgPSBuZXcgVEhSRUUuQXJyb3dIZWxwZXIoZGVyaXZlZC52ZWxvY2l0eS5jbG9uZSgpXG4gICAgICAgIC5ub3JtYWxpemUoKSwgcG9zaXRpb24sIDEsIDB4ZmZmZjAwKTtcbiAgICAgIHRoaXMuc2NlbmUuYWRkKGFycm93SGVscGVyKTtcbiAgICAgIGJvZHlNYXAuYXJyb3dIZWxwZXIgPSBhcnJvd0hlbHBlcjtcbiAgICB9XG5cbiAgICAvLyB0aHJlZVBlcmlhcHNpcy5wb3NpdGlvbi5zZXQocGVyaWFwc2lzLngsIHBlcmlhcHNpcy55LCBwZXJpYXBzaXMueik7XG4gICAgLy8gdGhyZWVBcG9hcHNpcy5wb3NpdGlvbi5zZXQoYXBvYXBzaXMueCwgYXBvYXBzaXMueSwgYXBvYXBzaXMueik7XG5cbiAgICB0aGlzLl91cGRhdGVUcmFqZWN0b3J5KGZvY3VzLCBib2R5KTtcbiAgICB0aGlzLl9zY2FsZUJvZHkoYm9keSk7XG4gIH0pO1xuXG4gIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcbn07XG5cbi8qKlxuICogUmVjZW50ZXIgdGhlIGNvb3JkaW5hdGUgc3lzdGVtIG9uIHRoZSBmb2N1cyBiZWluZyB0aGUgJ2NlbnRlcicuXG4gKi9cbk9yYml0YWxNYXBSZW5kZXJlci5wcm90b3R5cGUuX2FkanVzdENvb3JkaW5hdGVzID0gZnVuY3Rpb24gKGZvY3VzLCBwb3NpdGlvbikge1xuXG4gIGlmICghZm9jdXMpXG4gICAgcmV0dXJuIHBvc2l0aW9uLmNsb25lKCk7XG5cbiAgbGV0IGNvb3JkaW5hdGVzID0gcG9zaXRpb24uY2xvbmUoKVxuICAgIC5zdWIoZm9jdXMuZGVyaXZlZC5wb3NpdGlvbilcbiAgICAubXVsdGlwbHlTY2FsYXIoVFJBSkVDVE9SWV9TQ0FMRSk7XG5cbiAgcmV0dXJuIGNvb3JkaW5hdGVzO1xufTtcblxuT3JiaXRhbE1hcFJlbmRlcmVyLnByb3RvdHlwZS5fc2NhbGVCb2R5ID0gZnVuY3Rpb24gKGJvZHkpIHtcblxuICBsZXQgYm9keU1hcCA9IHRoaXMuYm9keU1hcC5nZXQoYm9keS5uYW1lKTtcbiAgbGV0IHRocmVlQm9keSA9IGJvZHlNYXAuYm9keTtcbiAgbGV0IHRyYWplY3RvcnkgPSBib2R5TWFwLnRyYWplY3Rvcnk7XG4gIGxldCBjYW1lcmFEaXN0YW5jZSA9IHRoaXMuY2FtZXJhLnBvc2l0aW9uLmRpc3RhbmNlVG8odGhyZWVCb2R5LnBvc2l0aW9uKTtcblxuICBsZXQgc2NhbGUgPSBNYXRoLm1heCgwLjAwNSAqIGNhbWVyYURpc3RhbmNlLCBib2R5LmNvbnN0YW50cy5yYWRpdXMpIC8gYm9keS5jb25zdGFudHMucmFkaXVzO1xuICB0aHJlZUJvZHkuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuXG4gIC8vIEFsbG93IG1vcmUgJ3NwYWNlJyBiZXR3ZWVuIGxhcmdlIGJvZGllcyBhbmQgdGhlaXIgc2F0ZWxsaXRlc1xuICB0cmFqZWN0b3J5ICYmIHRyYWplY3Rvcnkuc2NhbGUuc2V0KHRyYWplY3Rvcnkuc2NhbGUueCAqIFRSQUpFQ1RPUllfU0NBTEUsIHRyYWplY3Rvcnkuc2NhbGUueSAqIFRSQUpFQ1RPUllfU0NBTEUsIDEpO1xufTtcblxuT3JiaXRhbE1hcFJlbmRlcmVyLnByb3RvdHlwZS5fdXBkYXRlVHJhamVjdG9yeSA9IGZ1bmN0aW9uIChmb2N1cywgYm9keSkge1xuXG4gIGlmIChib2R5Lm5hbWUgPT09ICdzdW4nKVxuICAgIHJldHVybjtcblxuICAvLyBSZWRyYXcgdGhlIHRyYWplY3RvcnkgZm9yIHRoaXMgYm9keVxuICBsZXQgYm9keU1hcCA9IHRoaXMuYm9keU1hcC5nZXQoYm9keS5uYW1lKTtcbiAgbGV0IHRyYWplY3RvcnkgPSBib2R5TWFwLnRyYWplY3Rvcnk7XG4gIGxldCB0cmFqZWN0b3J5VmVydGljZXMgPSBib2R5TWFwLnRyYWplY3RvcnlWZXJ0aWNlcztcbiAgbGV0IHRyYWplY3RvcnlWZXJ0aWNlc0RpcnR5ID0gYm9keU1hcC50cmFqZWN0b3J5VmVydGljZXNEaXJ0eTtcblxuICBsZXQgZGVyaXZlZCA9IGJvZHkuZGVyaXZlZDtcbiAgbGV0IHBvc2l0aW9uX2luX3BsYW5lID0gYm9keS5kZXJpdmVkLnBvc2l0aW9uX2luX3BsYW5lO1xuICBsZXQgY2VudGVyX2luX3BsYW5lID0gYm9keS5kZXJpdmVkLmNlbnRlcl9pbl9wbGFuZTtcbiAgbGV0IHNlbWlNYWpvckF4aXMgPSBkZXJpdmVkLnNlbWlNYWpvckF4aXM7XG4gIGxldCBzZW1pTWlub3JBeGlzID0gZGVyaXZlZC5zZW1pTWlub3JBeGlzO1xuICBsZXQgY2VudGVyID0gdGhpcy5fYWRqdXN0Q29vcmRpbmF0ZXMoZm9jdXMsIGRlcml2ZWQuY2VudGVyKTtcblxuICBsZXQgc2NhbGVkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpXG4gICAgLmNvcHkocG9zaXRpb25faW5fcGxhbmUpXG4gICAgLnN1YihjZW50ZXJfaW5fcGxhbmUpO1xuICBzY2FsZWRQb3NpdGlvbi5tdWx0aXBseShuZXcgVEhSRUUuVmVjdG9yMygxIC8gc2VtaU1ham9yQXhpcywgMSAvIHNlbWlNaW5vckF4aXMsIDEpKTtcblxuICAvLyBXb3JrYXJvdW5kIGZvciBuYXR1cmFsIGxpbWl0YXRpb25zIG9mIGRyYXdpbmcgYXJjcyB1c2luZyBzdHJhaWdodCBsaW5lIHNlZ21lbnRzO1xuICAvLyB5b3UgaW5oZXJlbnRseSBjYW5ub3QgdHJhY2sgYSBwbGFuZXQgbW92aW5nIGluIGFuIGVsbGlwc2UgYmV0d2VlbiB0aGUgcGxhbmV0XG4gIC8vIHdpbGwgYWx3YXlzIGJlIGJldHdlZW4gdHdvIHZlcnRpY2VzLiAgVGhpcyBjb2RlIGF0dGVtcHRzIHRvIG1hbnVhbGx5ICdpbnNlcnQnXG4gIC8vIGEgdmVydGV4IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIHBsYW5ldHMgbG9jYXRpb24uXG4gIC8vIFRoaXMgZml4ZXMgdGhlIGlzc3VlIHdoZXJlIHRoZSB0cmFqZWN0b3J5IHdvdWxkIHdvYmJsZSBpbiBhbmQgb3V0IG9mIHRoZSBwbGFuZXRcblxuICBjb25zdCBnZW9tZXRyeSA9IHRyYWplY3RvcnkuZ2VvbWV0cnk7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gIGNvbnN0IHJhbmdlID0gcG9zaXRpb25zLmxlbmd0aCAvIDM7XG4gIGNvbnN0IHZlcnRpY2VzVG9DaGFuZ2UgPSAxO1xuICBjb25zdCB2ZXJ0aWNlc1RvVGVzdCA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgIGNvbnN0IG9mZnNldCA9IGkgKiAzO1xuICAgIHZlcnRpY2VzVG9UZXN0LnB1c2gobmV3IFRIUkVFLlZlY3RvcjModHJhamVjdG9yeVZlcnRpY2VzW29mZnNldF0sXG4gICAgICB0cmFqZWN0b3J5VmVydGljZXNbb2Zmc2V0ICsgMV0sIHRyYWplY3RvcnlWZXJ0aWNlc1tvZmZzZXQgKyAyXSkpO1xuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHZlcnRleCB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIHBsYW5ldHMgcG9zaXRpb25cbiAgY29uc3Qgc29ydGVkID0gdmVydGljZXNUb1Rlc3QubWFwKCh2ZXJ0ZXgsIGlkeCkgPT4gW3ZlcnRleC5kaXN0YW5jZVRvKHNjYWxlZFBvc2l0aW9uKSwgdmVydGV4LCBpZHhdKVxuICAgIC5zb3J0KChsZWZ0LCByaWdodCkgPT4ge1xuICAgICAgcmV0dXJuIGxlZnRbMF0gLSByaWdodFswXTtcbiAgICB9KTtcblxuICB0cmFqZWN0b3J5VmVydGljZXNEaXJ0eS5mb3JFYWNoKChpZHgpID0+IHtcbiAgICBsZXQgb2Zmc2V0ID0gaWR4ICogMztcbiAgICBwb3NpdGlvbnNbb2Zmc2V0XSA9IHRyYWplY3RvcnlWZXJ0aWNlc1tvZmZzZXRdO1xuICAgIHBvc2l0aW9uc1tvZmZzZXQgKyAxXSA9IHRyYWplY3RvcnlWZXJ0aWNlc1tvZmZzZXQgKyAxXTtcbiAgICBwb3NpdGlvbnNbb2Zmc2V0ICsgMl0gPSB0cmFqZWN0b3J5VmVydGljZXNbb2Zmc2V0ICsgMl07XG4gIH0pO1xuICBjb25zdCB1cGRhdGVkRGlydHlWZXJ0aWNlcyA9IFtdO1xuXG4gIC8vIE92ZXJ3cml0ZSB0aGUgY2xvc2VzdCB2ZXJ0aWNlcyB3aXRoIHRoZSBwbGFuZXRzIGFjdHVhbCBwb3NpdGlvbi4gIFRoaXMgd2lsbFxuICAvLyBlbnN1cmUgdGhhdCBhIHZlcnRleCBmb3Igb3VyIHRyYWplY3RvcnkgaXMgYWx3YXlzIGxvY2F0ZWQgYXQgdGhlIHBsYW5ldHNcbiAgLy8gbG9jYXRpb24uXG4gIHNvcnRlZC5zbGljZSgwLCB2ZXJ0aWNlc1RvQ2hhbmdlKVxuICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBsZXQgdmVydGV4ID0gZWxlbWVudFsxXTtcbiAgICAgIGxldCBvZmZzZXQgPSBlbGVtZW50WzJdICogMztcbiAgICAgIHBvc2l0aW9uc1tvZmZzZXRdID0gc2NhbGVkUG9zaXRpb24ueDtcbiAgICAgIHBvc2l0aW9uc1tvZmZzZXQgKyAxXSA9IHNjYWxlZFBvc2l0aW9uLnlcbiAgICAgIHBvc2l0aW9uc1tvZmZzZXQgKyAyXSA9IHNjYWxlZFBvc2l0aW9uLno7XG5cbiAgICAgIHVwZGF0ZWREaXJ0eVZlcnRpY2VzLnB1c2goZWxlbWVudFsyXSk7XG4gICAgfSk7XG5cbiAgLy8gU2V0IG5ldyB2YWx1ZSBvZiBkaXJ0eSB2ZXJ0aWNlcztcbiAgYm9keU1hcC50cmFqZWN0b3J5VmVydGljZXNEaXJ0eSA9IHVwZGF0ZWREaXJ0eVZlcnRpY2VzO1xuXG4gIC8vIFNpZ25hbCB0aGF0IHRoaXMgZ2VvbWV0cnkgbmVlZHMgYSByZWRyYXdcbiAgZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XG5cbiAgLy8gRmluYWxseSwgYXBwbHkgc2NhbGUvcm90YXRpb24vdHJhbnNsYXRpb24gdG8gdGhlIHRyYWplY3RvcnkgdG8gcGxhY2UgaXRcbiAgLy8gaW50byB0aGUgY29ycmVjdCBvcmJpdFxuICB0cmFqZWN0b3J5LnNjYWxlLnNldCgxLCAxLCAxKTtcbiAgdHJhamVjdG9yeS5yb3RhdGlvbi5zZXQoMCwgMCwgMCk7XG4gIHRyYWplY3RvcnkucG9zaXRpb24uc2V0KDAsIDAsIDApO1xuXG4gIC8vIE5vdyBhZGp1c3QgdGhlIHRyYWplY3RvcnkgdG8gaXRzIGFjdHVhbCBvcmllbnRhdGlvblxuICB0cmFqZWN0b3J5LnRyYW5zbGF0ZVgoY2VudGVyLngpO1xuICB0cmFqZWN0b3J5LnRyYW5zbGF0ZVkoY2VudGVyLnkpO1xuICB0cmFqZWN0b3J5LnRyYW5zbGF0ZVooY2VudGVyLnopO1xuICB0cmFqZWN0b3J5LnJvdGF0ZVooZGVyaXZlZC5vbWVnYSk7XG4gIHRyYWplY3Rvcnkucm90YXRlWChkZXJpdmVkLkkpO1xuICB0cmFqZWN0b3J5LnJvdGF0ZVooZGVyaXZlZC5hcmd1bWVudFBlcmloZWxpb24pO1xuICB0cmFqZWN0b3J5LnNjYWxlLnNldChzZW1pTWFqb3JBeGlzLCBzZW1pTWlub3JBeGlzLCAxKTtcbn07XG5cbk9yYml0YWxNYXBSZW5kZXJlci5wcm90b3R5cGUuX2NyZWF0ZVRyYWplY3RvcnlHZW9tZXRyeSA9IGZ1bmN0aW9uICgpIHtcblxuICBjb25zdCBOVU1fUE9JTlRTID0gMjU2O1xuXG4gIC8vIENyZWF0ZSB0aGUgdHJhamVjdG9yeSB1c2luZyBhIHN0cmFuZGFyZCBlbGxpcHNlIGN1cnZlIHRoYXQgd2lsbFxuICAvLyBldmVudHVhbGx5IHNjYWxlL3JvdGF0ZS90cmFuc2xhdGUgaW50byB0aGUgY29ycmVjdCBvcmJpdCBwYXRoIGR1cmluZ1xuICAvLyB0aGUgcmVuZGVyIGxvb3AuXG4gIGNvbnN0IHBvaW50c0dlb21ldHJ5ID0gbmV3IFRIUkVFLlBhdGgobmV3IFRIUkVFLkVsbGlwc2VDdXJ2ZShcbiAgICAgICAgMCwgMCwgLy8gYXgsIGFZXG4gICAgICAgIDEsIDEsIC8vIHhSYWRpdXMsIHlSYWRpdXNcbiAgICAgICAgMCwgMiAqIE1hdGguUEksIC8vIGFTdGFydEFuZ2xlLCBhRW5kQW5nbGVcbiAgICAgICAgZmFsc2UsIC8vIGFDbG9ja3dpc2VcbiAgICAgICAgMCAvLyBhUm90YXRpb25cbiAgICAgIClcbiAgICAgIC5nZXRQb2ludHMoTlVNX1BPSU5UUykpXG4gICAgLmNyZWF0ZVBvaW50c0dlb21ldHJ5KE5VTV9QT0lOVFMpO1xuICBjb25zdCBidWZmZXJHZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuICBjb25zdCB2ZXJ0aWNlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHBvaW50c0dlb21ldHJ5LnZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmVydGljZXMucHVzaChcbiAgICAgIHBvaW50c0dlb21ldHJ5LnZlcnRpY2VzW2ldLngsXG4gICAgICBwb2ludHNHZW9tZXRyeS52ZXJ0aWNlc1tpXS55LFxuICAgICAgcG9pbnRzR2VvbWV0cnkudmVydGljZXNbaV0uelxuICAgICk7XG4gIH1cblxuICBidWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJyxcbiAgICBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkodmVydGljZXMpLCAzKSk7XG5cbiAgcmV0dXJuIGJ1ZmZlckdlb21ldHJ5O1xufTtcblxuT2JqZWN0LmFzc2lnbihPcmJpdGFsTWFwUmVuZGVyZXIucHJvdG90eXBlLCBCYXNlUmVuZGVyZXIucHJvdG90eXBlKTtcblxuZXhwb3J0IGRlZmF1bHQgT3JiaXRhbE1hcFJlbmRlcmVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hcHAvT3JiaXRhbE1hcFJlbmRlcmVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBREE7QUFDQTtBQUdBO0FBRUE7QUFEQTtBQUNBO0FBR0E7QUFFQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _Bodies = __webpack_require__(2);\n\nvar _StringExtensions = __webpack_require__(123);\n\nvar _StringExtensions2 = _interopRequireDefault(_StringExtensions);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar numToRun = 10000;\n\nfunction Simulation(solarSystem, renderers, state, stats) {\n  var _this = this;\n\n  this.solarSystem = solarSystem;\n  this.renderers = renderers;\n  this.rendererIdx = 0;\n  this.renderer = renderers[this.rendererIdx];\n  this.loaded = new Set();\n  this.state = state;\n  this.stats = stats;\n  this.isStopped = true;\n  this.time = Date.now();\n  this.startingTime = this.time;\n  this.timeWarpValues = [1, 5, 10, 50, 10, 10e2, 10e3, 10e4, 10e5, 10e6];\n  this.timeWarpIdx = 5;\n\n  this.timeCounter = document.getElementById('time');\n  this.warpValues = document.getElementById('warp-values');\n  this.timeWarpValues.forEach(function (value, idx) {\n    var arrow = document.createElement('div');\n    _this.warpValues.appendChild(arrow);\n  });\n\n  /**\n   * Handle window event listeners\n   */\n  var keypresses = function keypresses(event) {\n    var keyCodes = {\n      32: _this.toggleRun,\n      44: _this.slowDown,\n      46: _this.speedUp,\n      99: _this.recenter,\n      91: _this.toggleFocus,\n      93: _this.toggleFocus,\n      122: _this.toggleView\n    };\n\n    if (event.type === \"keypress\" && keyCodes.hasOwnProperty(event.keyCode)) {\n      keyCodes[event.keyCode].call(_this, event);\n      event.preventDefault();\n    }\n  };\n\n  window.addEventListener(\"keypress\", keypresses, false);\n  window.addEventListener(\"resize\", function (event) {\n    _this.renderer.dispatchEvent({\n      type: \"resize\"\n    });\n  }, true);\n\n  window.addEventListener(\"mousedown\", function (event) {\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    var pixelMultiplier = window.devicePixelRatio;\n\n    var target = new THREE.Vector2((event.clientX - width / 2) * pixelMultiplier, (height / 2 - event.clientY) * pixelMultiplier);\n\n    _this.renderer.dispatchEvent({\n      type: 'click',\n      location: target\n    });\n  }, true);\n};\n\nSimulation.prototype.speedUp = function () {\n  if (!this.isRunning()) {\n    return;\n  }\n\n  this.timeWarpIdx = Math.min(this.timeWarpValues.length - 1, this.timeWarpIdx + 1);\n};\n\nSimulation.prototype.slowDown = function () {\n  if (!this.isRunning()) {\n    return;\n  }\n\n  this.timeWarpIdx = Math.max(0, this.timeWarpIdx - 1);\n};\n\nSimulation.prototype.pause = function () {\n  this.isStopped = true;\n};\n\nSimulation.prototype.isRunning = function () {\n  return !this.isStopped;\n};\n\nSimulation.prototype.toggleRun = function () {\n  if (this.isRunning()) {\n    this.pause();\n  } else {\n    this.run();\n  }\n};\n\nSimulation.prototype.recenter = function () {\n  if (!this.isRunning()) {\n    return;\n  }\n\n  this.renderer.dispatchEvent({\n    type: 'recenter'\n  });\n};\n\nSimulation.prototype.toggleFocus = function (event) {\n  var _this2 = this;\n\n  var solarSystem = this.solarSystem;\n  var focusIdx = solarSystem.bodies.findIndex(function (p) {\n    return p.name === _this2.state.focus;\n  });\n\n  if (event.keyCode === 91) {\n    focusIdx--;\n    if (focusIdx < 0) focusIdx = solarSystem.bodies.length - 1;\n  } else {\n    focusIdx = (focusIdx + 1) % solarSystem.bodies.length;\n  }\n\n  this.state.focus = solarSystem.bodies[focusIdx].name;\n  this.renderer.dispatchEvent({\n    type: 'focus',\n    focus: this.state.focus\n  });\n};\n\nSimulation.prototype.initialize = function () {\n  var _this3 = this;\n\n  // Ensure the solar system is fully 'seeded' before we attempt to render\n  this.solarSystem.update(this.time, 0);\n\n  this.renderers.forEach(function (renderer) {\n    renderer.container.style = 'display: none;';\n  });\n\n  // Bring up the appropriate view and hide the others\n  console.log('Loading ' + this.renderer.constructor.name);\n  return this.renderer.viewDidLoad(this.solarSystem).then(function () {\n    // Once the views are loaded, we can be prepare to surface this view\n    _this3.renderer.viewWillAppear();\n    _this3.renderer.container.style = '';\n    _this3.loaded.add(_this3.renderer);\n    return Promise.resolve();\n  });\n};\n\nSimulation.prototype.toggleView = function () {\n  var _this4 = this;\n\n  this.rendererIdx = (this.rendererIdx + 1) % this.renderers.length;\n  var oldRenderer = this.renderer;\n\n  oldRenderer.viewWillDisappear();\n  oldRenderer.container.style = 'display: none;';\n\n  var newRenderer = this.renderers[this.rendererIdx];\n\n  var promise = void 0;\n  if (!this.loaded.has(newRenderer)) {\n    console.log('Loading ' + newRenderer.constructor.name);\n    promise = newRenderer.viewDidLoad(this.solarSystem).then(function () {\n      _this4.loaded.add(newRenderer);\n      return Promise.resolve();\n    });\n  } else {\n    promise = Promise.resolve();\n  }\n\n  promise.then(function () {\n    newRenderer.viewWillAppear();\n    newRenderer.container.style = '';\n    _this4.renderer = newRenderer;\n  });\n};\n\nSimulation.prototype.run = function () {\n\n  if (this.isRunning()) {\n    return;\n  }\n\n  this.isStopped = false;\n  var numTimes = 0;\n  var accumulator = 0.0;\n  var dt = 10; // ms\n\n  runAnimation(function (frameTime) {\n\n    if (this.isStopped) {\n      return false;\n    }\n\n    this.stats.begin();\n\n    accumulator += frameTime;\n\n    while (accumulator >= dt) {\n      var t = this.time;\n      var scaledDt = this.timeWarpValues[this.timeWarpIdx] * dt;\n\n      // Update physics\n      this.solarSystem.update(t, scaledDt);\n\n      accumulator -= dt;\n      this.time += scaledDt;\n    }\n\n    this.renderer.render(this.solarSystem);\n\n    this.updateOrbitalDisplay();\n    this.updateTimeDisplay();\n    this.stats.end();\n\n    numTimes++;\n    if (numTimes >= numToRun) {\n      console.log('All done!');\n      this.isStopped = true;\n      return false;\n    }\n  }.bind(this));\n};\n\nSimulation.prototype.updateOrbitalDisplay = function () {\n\n  var focus = this.solarSystem.find(this.state.focus);\n  var name = focus.name;\n  var velocity = focus.derived.velocity.length() * _Bodies.AU;\n  var eccentricity = focus.derived.e || 0;\n  var semiMajorAxis = focus.derived.semiMajorAxis * _Bodies.AU;\n  var semiMinorAxis = focus.derived.semiMinorAxis * _Bodies.AU;\n  var rotation_period = focus.constants.rotation_period || 0;\n  var axial_tilt = focus.constants.axial_tilt || 0;\n  var orbital_period = (focus.derived.orbital_period || 0) / 86400;\n\n  document.getElementById('orbital-name').innerHTML = name.escapeHtml();\n  document.getElementById('orbital-primary').innerHTML = (focus.primary ? focus.primary.name : '').escapeHtml();\n  document.getElementById('orbital-speed').innerHTML = (velocity.toFixed(2) + ' m/s').escapeHtml();\n  document.getElementById('orbital-eccentricity').innerHTML = ('' + eccentricity.toFixed(4)).escapeHtml();\n  document.getElementById('orbital-semiMajorAxis').innerHTML = (semiMajorAxis.toExponential(4) + ' m').escapeHtml();\n  document.getElementById('orbital-semiMinorAxis').innerHTML = (semiMinorAxis.toExponential(4) + ' m').escapeHtml();\n  document.getElementById('orbital-period').innerHTML = (orbital_period.toFixed(4) + ' days').escapeHtml();\n  document.getElementById('orbital-rotation-period').innerHTML = (rotation_period.toFixed(4) + ' days').escapeHtml();\n  document.getElementById('orbital-axial-tilt').innerHTML = (axial_tilt.toFixed(2) + '\\xB0').escapeHtml();\n};\n\nSimulation.prototype.updateTimeDisplay = function () {\n  var _this5 = this;\n\n  var elapsed = _moment2.default.duration(this.time - this.startingTime);\n  var years = elapsed.years();\n  var months = elapsed.months();\n  var days = elapsed.days() + months * 30;\n  var hours = elapsed.hours();\n  var minutes = elapsed.minutes();\n  var seconds = elapsed.seconds();\n\n  var values = [];\n\n  if (years > 0) values.push(years + 'Y');\n\n  if (days > 0) values.push(days + 'd');\n\n  values.push(hours.toString().paddingLeft('00'), minutes.toString().paddingLeft('00'), seconds.toString().paddingLeft('00'));\n\n  Array.from(this.warpValues.children).forEach(function (value, idx) {\n    if (idx <= _this5.timeWarpIdx) {\n      value.className = 'warp-enabled';\n    } else {\n      value.className = 'warp-disabled';\n    }\n  });\n  this.timeCounter.innerHTML = ('+T ' + values.join(':')).escapeHtml();\n};\n\nfunction runAnimation(frameFunc) {\n  var lastTime = null;\n\n  function frame(time) {\n    var stop = false;\n    if (lastTime != null) {\n      var timeStep = time - lastTime;\n      stop = frameFunc(timeStep) === false;\n    }\n    lastTime = time;\n    if (!stop) requestAnimationFrame(frame);\n  }\n  requestAnimationFrame(frame);\n};\n\nexports.default = Simulation;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvU2ltdWxhdGlvbi5qcz80ZjRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuaW1wb3J0IHtcbiAgQVVcbn0gZnJvbSAnLi9Cb2RpZXMnO1xuaW1wb3J0IFN0cmluZ0V4dGVuc2lvbnMgZnJvbSAnLi91dGlsL1N0cmluZ0V4dGVuc2lvbnMnO1xuXG5jb25zdCBudW1Ub1J1biA9IDEwMDAwO1xuXG5mdW5jdGlvbiBTaW11bGF0aW9uKHNvbGFyU3lzdGVtLCByZW5kZXJlcnMsIHN0YXRlLCBzdGF0cykge1xuICB0aGlzLnNvbGFyU3lzdGVtID0gc29sYXJTeXN0ZW07XG4gIHRoaXMucmVuZGVyZXJzID0gcmVuZGVyZXJzO1xuICB0aGlzLnJlbmRlcmVySWR4ID0gMDtcbiAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyc1t0aGlzLnJlbmRlcmVySWR4XTtcbiAgdGhpcy5sb2FkZWQgPSBuZXcgU2V0KCk7XG4gIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgdGhpcy5zdGF0cyA9IHN0YXRzO1xuICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gIHRoaXMudGltZSA9IERhdGUubm93KCk7XG4gIHRoaXMuc3RhcnRpbmdUaW1lID0gdGhpcy50aW1lO1xuICB0aGlzLnRpbWVXYXJwVmFsdWVzID0gWzEsIDUsIDEwLCA1MCwgMTAsIDEwZTIsIDEwZTMsIDEwZTQsIDEwZTUsIDEwZTZdO1xuICB0aGlzLnRpbWVXYXJwSWR4ID0gNTtcblxuICB0aGlzLnRpbWVDb3VudGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpbWUnKTtcbiAgdGhpcy53YXJwVmFsdWVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dhcnAtdmFsdWVzJyk7XG4gIHRoaXMudGltZVdhcnBWYWx1ZXMuZm9yRWFjaCgodmFsdWUsIGlkeCkgPT4ge1xuICAgIGNvbnN0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgdGhpcy53YXJwVmFsdWVzLmFwcGVuZENoaWxkKGFycm93KTtcbiAgfSk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB3aW5kb3cgZXZlbnQgbGlzdGVuZXJzXG4gICAqL1xuICBjb25zdCBrZXlwcmVzc2VzID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3Qga2V5Q29kZXMgPSB7XG4gICAgICAzMjogdGhpcy50b2dnbGVSdW4sXG4gICAgICA0NDogdGhpcy5zbG93RG93bixcbiAgICAgIDQ2OiB0aGlzLnNwZWVkVXAsXG4gICAgICA5OTogdGhpcy5yZWNlbnRlcixcbiAgICAgIDkxOiB0aGlzLnRvZ2dsZUZvY3VzLFxuICAgICAgOTM6IHRoaXMudG9nZ2xlRm9jdXMsXG4gICAgICAxMjI6IHRoaXMudG9nZ2xlVmlldyxcbiAgICB9O1xuXG4gICAgaWYgKGV2ZW50LnR5cGUgPT09IFwia2V5cHJlc3NcIiAmJiBrZXlDb2Rlcy5oYXNPd25Qcm9wZXJ0eShldmVudC5rZXlDb2RlKSkge1xuICAgICAga2V5Q29kZXNbZXZlbnQua2V5Q29kZV0uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIGtleXByZXNzZXMsIGZhbHNlKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5yZW5kZXJlci5kaXNwYXRjaEV2ZW50KHtcbiAgICAgIHR5cGU6IFwicmVzaXplXCJcbiAgICB9KTtcbiAgfSwgdHJ1ZSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB7XG4gICAgbGV0IHdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBsZXQgcGl4ZWxNdWx0aXBsaWVyID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cbiAgICBsZXQgdGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjIoXG4gICAgICAoZXZlbnQuY2xpZW50WCAtIHdpZHRoIC8gMikgKiBwaXhlbE11bHRpcGxpZXIsXG4gICAgICAoaGVpZ2h0IC8gMiAtIGV2ZW50LmNsaWVudFkpICogcGl4ZWxNdWx0aXBsaWVyKTtcblxuICAgIHRoaXMucmVuZGVyZXIuZGlzcGF0Y2hFdmVudCh7XG4gICAgICB0eXBlOiAnY2xpY2snLFxuICAgICAgbG9jYXRpb246IHRhcmdldFxuICAgIH0pO1xuICB9LCB0cnVlKTtcbn07XG5cblNpbXVsYXRpb24ucHJvdG90eXBlLnNwZWVkVXAgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5pc1J1bm5pbmcoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMudGltZVdhcnBJZHggPSBNYXRoLm1pbih0aGlzLnRpbWVXYXJwVmFsdWVzLmxlbmd0aCAtIDEsIHRoaXMudGltZVdhcnBJZHggKyAxKTtcbn07XG5cblNpbXVsYXRpb24ucHJvdG90eXBlLnNsb3dEb3duID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnRpbWVXYXJwSWR4ID0gTWF0aC5tYXgoMCwgdGhpcy50aW1lV2FycElkeCAtIDEpO1xufTtcblxuU2ltdWxhdGlvbi5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbn07XG5cblNpbXVsYXRpb24ucHJvdG90eXBlLmlzUnVubmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICF0aGlzLmlzU3RvcHBlZDtcbn07XG5cblNpbXVsYXRpb24ucHJvdG90eXBlLnRvZ2dsZVJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICB0aGlzLnBhdXNlKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5ydW4oKTtcbiAgfVxufTtcblxuU2ltdWxhdGlvbi5wcm90b3R5cGUucmVjZW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5pc1J1bm5pbmcoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMucmVuZGVyZXIuZGlzcGF0Y2hFdmVudCh7XG4gICAgdHlwZTogJ3JlY2VudGVyJ1xuICB9KTtcbn07XG5cblNpbXVsYXRpb24ucHJvdG90eXBlLnRvZ2dsZUZvY3VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG5cbiAgbGV0IHNvbGFyU3lzdGVtID0gdGhpcy5zb2xhclN5c3RlbTtcbiAgbGV0IGZvY3VzSWR4ID0gc29sYXJTeXN0ZW0uYm9kaWVzLmZpbmRJbmRleCgocCkgPT4gcC5uYW1lID09PSB0aGlzLnN0YXRlLmZvY3VzKTtcblxuICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gOTEpIHtcbiAgICBmb2N1c0lkeC0tO1xuICAgIGlmIChmb2N1c0lkeCA8IDApXG4gICAgICBmb2N1c0lkeCA9IHNvbGFyU3lzdGVtLmJvZGllcy5sZW5ndGggLSAxO1xuICB9IGVsc2Uge1xuICAgIGZvY3VzSWR4ID0gKGZvY3VzSWR4ICsgMSkgJSBzb2xhclN5c3RlbS5ib2RpZXMubGVuZ3RoO1xuICB9XG5cbiAgdGhpcy5zdGF0ZS5mb2N1cyA9IHNvbGFyU3lzdGVtLmJvZGllc1tmb2N1c0lkeF0ubmFtZTtcbiAgdGhpcy5yZW5kZXJlci5kaXNwYXRjaEV2ZW50KHtcbiAgICB0eXBlOiAnZm9jdXMnLFxuICAgIGZvY3VzOiB0aGlzLnN0YXRlLmZvY3VzXG4gIH0pO1xufTtcblxuU2ltdWxhdGlvbi5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAvLyBFbnN1cmUgdGhlIHNvbGFyIHN5c3RlbSBpcyBmdWxseSAnc2VlZGVkJyBiZWZvcmUgd2UgYXR0ZW1wdCB0byByZW5kZXJcbiAgdGhpcy5zb2xhclN5c3RlbS51cGRhdGUodGhpcy50aW1lLCAwKTtcblxuICB0aGlzLnJlbmRlcmVycy5mb3JFYWNoKChyZW5kZXJlcikgPT4ge1xuICAgIHJlbmRlcmVyLmNvbnRhaW5lci5zdHlsZSA9ICdkaXNwbGF5OiBub25lOyc7XG4gIH0pO1xuXG4gIC8vIEJyaW5nIHVwIHRoZSBhcHByb3ByaWF0ZSB2aWV3IGFuZCBoaWRlIHRoZSBvdGhlcnNcbiAgY29uc29sZS5sb2coYExvYWRpbmcgJHt0aGlzLnJlbmRlcmVyLmNvbnN0cnVjdG9yLm5hbWV9YCk7XG4gIHJldHVybiB0aGlzLnJlbmRlcmVyLnZpZXdEaWRMb2FkKHRoaXMuc29sYXJTeXN0ZW0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gT25jZSB0aGUgdmlld3MgYXJlIGxvYWRlZCwgd2UgY2FuIGJlIHByZXBhcmUgdG8gc3VyZmFjZSB0aGlzIHZpZXdcbiAgICAgIHRoaXMucmVuZGVyZXIudmlld1dpbGxBcHBlYXIoKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuY29udGFpbmVyLnN0eWxlID0gJyc7XG4gICAgICB0aGlzLmxvYWRlZC5hZGQodGhpcy5yZW5kZXJlcik7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSk7XG59O1xuXG5TaW11bGF0aW9uLnByb3RvdHlwZS50b2dnbGVWaWV3ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJlbmRlcmVySWR4ID0gKHRoaXMucmVuZGVyZXJJZHggKyAxKSAlIHRoaXMucmVuZGVyZXJzLmxlbmd0aDtcbiAgY29uc3Qgb2xkUmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gIG9sZFJlbmRlcmVyLnZpZXdXaWxsRGlzYXBwZWFyKCk7XG4gIG9sZFJlbmRlcmVyLmNvbnRhaW5lci5zdHlsZSA9ICdkaXNwbGF5OiBub25lOyc7XG5cbiAgY29uc3QgbmV3UmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyc1t0aGlzLnJlbmRlcmVySWR4XTtcblxuICBsZXQgcHJvbWlzZTtcbiAgaWYgKCF0aGlzLmxvYWRlZC5oYXMobmV3UmVuZGVyZXIpKSB7XG4gICAgY29uc29sZS5sb2coYExvYWRpbmcgJHtuZXdSZW5kZXJlci5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIHByb21pc2UgPSBuZXdSZW5kZXJlci52aWV3RGlkTG9hZCh0aGlzLnNvbGFyU3lzdGVtKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5hZGQobmV3UmVuZGVyZXIpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9KVxuICB9IGVsc2Uge1xuICAgIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgbmV3UmVuZGVyZXIudmlld1dpbGxBcHBlYXIoKTtcbiAgICBuZXdSZW5kZXJlci5jb250YWluZXIuc3R5bGUgPSAnJztcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3UmVuZGVyZXI7XG4gIH0pO1xufVxuXG5TaW11bGF0aW9uLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG5cbiAgaWYgKHRoaXMuaXNSdW5uaW5nKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICBsZXQgbnVtVGltZXMgPSAwO1xuICBsZXQgYWNjdW11bGF0b3IgPSAwLjA7XG4gIGxldCBkdCA9IDEwOyAvLyBtc1xuXG4gIHJ1bkFuaW1hdGlvbihmdW5jdGlvbiAoZnJhbWVUaW1lKSB7XG5cbiAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzLmJlZ2luKCk7XG5cbiAgICBhY2N1bXVsYXRvciArPSBmcmFtZVRpbWU7XG5cbiAgICB3aGlsZSAoYWNjdW11bGF0b3IgPj0gZHQpIHtcbiAgICAgIGxldCB0ID0gdGhpcy50aW1lO1xuICAgICAgbGV0IHNjYWxlZER0ID0gdGhpcy50aW1lV2FycFZhbHVlc1t0aGlzLnRpbWVXYXJwSWR4XSAqIGR0O1xuXG4gICAgICAvLyBVcGRhdGUgcGh5c2ljc1xuICAgICAgdGhpcy5zb2xhclN5c3RlbS51cGRhdGUodCwgc2NhbGVkRHQpO1xuXG4gICAgICBhY2N1bXVsYXRvciAtPSBkdDtcbiAgICAgIHRoaXMudGltZSArPSBzY2FsZWREdDtcbiAgICB9XG5cbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNvbGFyU3lzdGVtKTtcblxuICAgIHRoaXMudXBkYXRlT3JiaXRhbERpc3BsYXkoKTtcbiAgICB0aGlzLnVwZGF0ZVRpbWVEaXNwbGF5KCk7XG4gICAgdGhpcy5zdGF0cy5lbmQoKTtcblxuICAgIG51bVRpbWVzKys7XG4gICAgaWYgKG51bVRpbWVzID49IG51bVRvUnVuKSB7XG4gICAgICBjb25zb2xlLmxvZygnQWxsIGRvbmUhJyk7XG4gICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG5TaW11bGF0aW9uLnByb3RvdHlwZS51cGRhdGVPcmJpdGFsRGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcblxuICBjb25zdCBmb2N1cyA9IHRoaXMuc29sYXJTeXN0ZW0uZmluZCh0aGlzLnN0YXRlLmZvY3VzKTtcbiAgY29uc3QgbmFtZSA9IGZvY3VzLm5hbWU7XG4gIGNvbnN0IHZlbG9jaXR5ID0gZm9jdXMuZGVyaXZlZC52ZWxvY2l0eS5sZW5ndGgoKSAqIEFVO1xuICBjb25zdCBlY2NlbnRyaWNpdHkgPSBmb2N1cy5kZXJpdmVkLmUgfHwgMDtcbiAgY29uc3Qgc2VtaU1ham9yQXhpcyA9IGZvY3VzLmRlcml2ZWQuc2VtaU1ham9yQXhpcyAqIEFVO1xuICBjb25zdCBzZW1pTWlub3JBeGlzID0gZm9jdXMuZGVyaXZlZC5zZW1pTWlub3JBeGlzICogQVU7XG4gIGNvbnN0IHJvdGF0aW9uX3BlcmlvZCA9IGZvY3VzLmNvbnN0YW50cy5yb3RhdGlvbl9wZXJpb2QgfHwgMDtcbiAgY29uc3QgYXhpYWxfdGlsdCA9IGZvY3VzLmNvbnN0YW50cy5heGlhbF90aWx0IHx8IDA7XG4gIGNvbnN0IG9yYml0YWxfcGVyaW9kID0gKGZvY3VzLmRlcml2ZWQub3JiaXRhbF9wZXJpb2QgfHwgMCkgLyA4NjQwMDtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JiaXRhbC1uYW1lJylcbiAgICAuaW5uZXJIVE1MID0gbmFtZS5lc2NhcGVIdG1sKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmJpdGFsLXByaW1hcnknKVxuICAgIC5pbm5lckhUTUwgPSAoZm9jdXMucHJpbWFyeSA/IGZvY3VzLnByaW1hcnkubmFtZSA6ICcnKVxuICAgIC5lc2NhcGVIdG1sKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmJpdGFsLXNwZWVkJylcbiAgICAuaW5uZXJIVE1MID0gYCR7dmVsb2NpdHkudG9GaXhlZCgyKX0gbS9zYC5lc2NhcGVIdG1sKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmJpdGFsLWVjY2VudHJpY2l0eScpXG4gICAgLmlubmVySFRNTCA9IGAke2VjY2VudHJpY2l0eS50b0ZpeGVkKDQpfWAuZXNjYXBlSHRtbCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JiaXRhbC1zZW1pTWFqb3JBeGlzJylcbiAgICAuaW5uZXJIVE1MID0gYCR7c2VtaU1ham9yQXhpcy50b0V4cG9uZW50aWFsKDQpfSBtYC5lc2NhcGVIdG1sKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcmJpdGFsLXNlbWlNaW5vckF4aXMnKVxuICAgIC5pbm5lckhUTUwgPSBgJHtzZW1pTWlub3JBeGlzLnRvRXhwb25lbnRpYWwoNCl9IG1gLmVzY2FwZUh0bWwoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29yYml0YWwtcGVyaW9kJylcbiAgICAuaW5uZXJIVE1MID0gYCR7b3JiaXRhbF9wZXJpb2QudG9GaXhlZCg0KX0gZGF5c2AuZXNjYXBlSHRtbCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JiaXRhbC1yb3RhdGlvbi1wZXJpb2QnKVxuICAgIC5pbm5lckhUTUwgPSBgJHtyb3RhdGlvbl9wZXJpb2QudG9GaXhlZCg0KX0gZGF5c2AuZXNjYXBlSHRtbCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3JiaXRhbC1heGlhbC10aWx0JylcbiAgICAuaW5uZXJIVE1MID0gYCR7YXhpYWxfdGlsdC50b0ZpeGVkKDIpfcKwYC5lc2NhcGVIdG1sKCk7XG59O1xuXG5TaW11bGF0aW9uLnByb3RvdHlwZS51cGRhdGVUaW1lRGlzcGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgZWxhcHNlZCA9IG1vbWVudC5kdXJhdGlvbih0aGlzLnRpbWUgLSB0aGlzLnN0YXJ0aW5nVGltZSk7XG4gIGNvbnN0IHllYXJzID0gZWxhcHNlZC55ZWFycygpO1xuICBjb25zdCBtb250aHMgPSBlbGFwc2VkLm1vbnRocygpO1xuICBjb25zdCBkYXlzID0gZWxhcHNlZC5kYXlzKCkgKyBtb250aHMgKiAzMDtcbiAgY29uc3QgaG91cnMgPSBlbGFwc2VkLmhvdXJzKCk7XG4gIGNvbnN0IG1pbnV0ZXMgPSBlbGFwc2VkLm1pbnV0ZXMoKTtcbiAgY29uc3Qgc2Vjb25kcyA9IGVsYXBzZWQuc2Vjb25kcygpO1xuXG4gIGNvbnN0IHZhbHVlcyA9IFtdO1xuXG4gIGlmICh5ZWFycyA+IDApXG4gICAgdmFsdWVzLnB1c2goYCR7eWVhcnN9WWApO1xuXG4gIGlmIChkYXlzID4gMClcbiAgICB2YWx1ZXMucHVzaChgJHtkYXlzfWRgKTtcblxuICB2YWx1ZXMucHVzaChcbiAgICBob3Vycy50b1N0cmluZygpXG4gICAgLnBhZGRpbmdMZWZ0KCcwMCcpLFxuICAgIG1pbnV0ZXMudG9TdHJpbmcoKVxuICAgIC5wYWRkaW5nTGVmdCgnMDAnKSxcbiAgICBzZWNvbmRzLnRvU3RyaW5nKClcbiAgICAucGFkZGluZ0xlZnQoJzAwJylcbiAgKVxuXG4gIEFycmF5LmZyb20odGhpcy53YXJwVmFsdWVzLmNoaWxkcmVuKVxuICAgIC5mb3JFYWNoKCh2YWx1ZSwgaWR4KSA9PiB7XG4gICAgICBpZiAoaWR4IDw9IHRoaXMudGltZVdhcnBJZHgpIHtcbiAgICAgICAgdmFsdWUuY2xhc3NOYW1lID0gJ3dhcnAtZW5hYmxlZCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZS5jbGFzc05hbWUgPSAnd2FycC1kaXNhYmxlZCc7XG4gICAgICB9XG4gICAgfSk7XG4gIHRoaXMudGltZUNvdW50ZXIuaW5uZXJIVE1MID0gYCtUICR7dmFsdWVzLmpvaW4oJzonKX1gLmVzY2FwZUh0bWwoKTtcbn1cblxuZnVuY3Rpb24gcnVuQW5pbWF0aW9uKGZyYW1lRnVuYykge1xuICB2YXIgbGFzdFRpbWUgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGZyYW1lKHRpbWUpIHtcbiAgICB2YXIgc3RvcCA9IGZhbHNlO1xuICAgIGlmIChsYXN0VGltZSAhPSBudWxsKSB7XG4gICAgICB2YXIgdGltZVN0ZXAgPSAodGltZSAtIGxhc3RUaW1lKTtcbiAgICAgIHN0b3AgPSBmcmFtZUZ1bmModGltZVN0ZXApID09PSBmYWxzZTtcbiAgICB9XG4gICAgbGFzdFRpbWUgPSB0aW1lO1xuICAgIGlmICghc3RvcClcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmcmFtZSk7XG4gIH1cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZyYW1lKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNpbXVsYXRpb247XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2FwcC9TaW11bGF0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBOzs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _moment = __webpack_require__(0);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _MathExtensions = __webpack_require__(122);\n\nvar _MathExtensions2 = _interopRequireDefault(_MathExtensions);\n\nvar _RK4Integrator = __webpack_require__(121);\n\nvar _RK4Integrator2 = _interopRequireDefault(_RK4Integrator);\n\nvar _Bodies = __webpack_require__(2);\n\nvar _three = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar J2000_date = (0, _moment2.default)('2000-01-01T12:00:00Z');\nvar J2000_epoch = 2451545.0;\n\nfunction SolarSystem() {\n  this.bodies = Array.from(_Bodies.ALL_BODIES);\n  this.initialized = false;\n};\n\nSolarSystem.prototype.find = function (bodyId) {\n  return this.bodies.find(function (body) {\n    return body.name == bodyId;\n  });\n};\n\nSolarSystem.prototype.update = function (t, dt) {\n  var _this = this;\n\n  var currentDate = (0, _moment2.default)(t + dt);\n  var T = this._calculateJulianDate(currentDate);\n\n  if (!this.initialized) {\n    /**\n     * Generate a starting position/velocity from the initial kepler\n     * elements\n     */\n    this.bodies.forEach(function (body) {\n      if (body.name === 'sun') return;\n\n      var kepler_elements = _this._calculateInitialKeplerElements(body, T);\n      body.derived = kepler_elements;\n    });\n\n    this.initialized = true;\n  }\n\n  this.bodies.forEach(function (body) {\n\n    if (body.name === 'sun') return;\n\n    var kepler_elements = _this._calculateKeplerElementsAtTime(body, t + dt);\n    var coords = _this._toCartesianCoordinates(body.primary, kepler_elements);\n    var position = coords.position;\n    var velocity = coords.velocity;\n\n    var body_constants = body.constants;\n    var primary = body.primary;\n    var derived = body.derived;\n    var u = primary.constants.u;\n    var a = kepler_elements.a,\n        e = kepler_elements.e,\n        I = kepler_elements.I,\n        argumentPerihelion = kepler_elements.argumentPerihelion,\n        omega = kepler_elements.omega,\n        M = kepler_elements.M;\n\n    // Semi-minor axis\n\n    var b = a * Math.sqrt(1 - Math.pow(e, 2));\n\n    // Trajectory Elements\n    var periapsis = new _three.Vector3(a * (1 - e), 0, 0);\n    var apoapsis = new _three.Vector3(-a * (1 + e), 0, 0);\n    var center = new _three.Vector3(periapsis.x - a, 0, 0);\n\n    // Orbital Period and Rotational Period\n    var orbital_period = 2 * Math.PI * Math.sqrt(Math.pow(a, 3) / (u + (body_constants.u || 0)));\n\n    var rotation = (derived.rotation || 0) + 2 * Math.PI * dt / ((body_constants.rotation_period || 1) * 86400e3);\n\n    body.derived = {\n      T: T,\n      a: a,\n      e: e,\n      I: I,\n      omega: omega,\n      argumentPerihelion: argumentPerihelion,\n      M: M,\n      position: position,\n      position_in_plane: coords.position_in_plane,\n      velocity: velocity,\n      semiMajorAxis: a,\n      semiMinorAxis: b,\n      orbital_period: orbital_period,\n      rotation: rotation,\n      center_in_plane: center,\n      center: _this._transformToEcliptic(primary.derived.position, center, argumentPerihelion, omega, I),\n      periapsis: _this._transformToEcliptic(primary.derived.position, periapsis, argumentPerihelion, omega, I),\n      apoapsis: _this._transformToEcliptic(primary.derived.position, apoapsis, argumentPerihelion, omega, I)\n    };\n  });\n\n  this.lastTime = t + dt;\n};\n\nSolarSystem.prototype._calculateInitialKeplerElements = function (body, T) {\n\n  // Planets are fixed on rails; we simply a\n  var kepler_elements = body.kepler_elements;\n  var a = kepler_elements.a[0] + kepler_elements.a[1] * T;\n  var e = kepler_elements.e[0] + kepler_elements.e[1] * T;\n  var I = kepler_elements.I[0] + kepler_elements.I[1] * T;\n  var L = kepler_elements.L[0] + kepler_elements.L[1] * T;\n  var w = kepler_elements.w[0] + kepler_elements.w[1] * T;\n  var omega = kepler_elements.omega[0] + kepler_elements.omega[1] * T;\n  var perturbations = kepler_elements.perturbations;\n  var M = this._calculateMeanAnomaly(L, w, perturbations, T);\n  var argumentPerihelion = w - omega;\n\n  return {\n    a: a,\n    e: e,\n    I: I * Math.PI / 180,\n    omega: omega * Math.PI / 180,\n    argumentPerihelion: argumentPerihelion * Math.PI / 180,\n    M: M * Math.PI / 180\n  };\n};\n\nSolarSystem.prototype._calculateKeplerElementsAtTime = function (body, t) {\n  var _body$derived = body.derived,\n      a = _body$derived.a,\n      e = _body$derived.e,\n      I = _body$derived.I,\n      omega = _body$derived.omega,\n      argumentPerihelion = _body$derived.argumentPerihelion,\n      M = _body$derived.M;\n\n  /**\n   * For elliptical orbits, M - M0 = n(t - t0)\n   */\n\n  var lastTime = this.lastTime || t;\n  var delta = (t - lastTime) / 1000;\n  var u = body.primary.constants.u;\n  var n = Math.sqrt(u / Math.pow(a, 3));\n  M = n * delta + M;\n\n  return {\n    a: a,\n    e: e,\n    I: I,\n    omega: omega,\n    argumentPerihelion: argumentPerihelion,\n    M: M\n  };\n};\n\nSolarSystem.prototype._calculateKeplerElementsFromCartesian = function (body) {\n\n  var primary = body.primary;\n  var position = body.derived.position;\n  var velocity = body.derived.velocity;\n\n  var r = new _three.Vector3().subVectors(position, primary.derived.position);\n  var v = new _three.Vector3().subVectors(velocity, primary.derived.velocity);\n  var u = primary.constants.u;\n\n  var h = new _three.Vector3().crossVectors(r, v);\n\n  if (h.length() <= 0) {\n    console.error(\"angular momentum is zero!\");\n  }\n\n  // Semi-Major Axis\n  var specificEnergy = v.lengthSq() / 2 - u / r.length();\n  var a = -u / (2 * specificEnergy);\n\n  // Eccentricity\n  var e_sub = h.lengthSq() / (u * a);\n  var e = e_sub > 1 ? 0 : Math.sqrt(1 - e_sub);\n\n  // Inclination, Longitude of the ascending node\n  var I = Math.acos(h.z / h.length());\n  var omega = Math.atan2(h.x, -h.y);\n  if (Math.abs(omega) >= Math.PI) {\n    throw new Error('omega jumped');\n  }\n\n  var E = void 0,\n      w = void 0;\n  if (e === 0 && I === 0) {\n    // Circular Orbits with zero inclincation\n\n    var trueLongitude = Math.acos(r.x / r.length());\n    if (v.x > 0) {\n      trueLongitude = 2 * Math.PI - trueLongitude;\n    }\n  } else if (e === 0) {\n    // Circular orbits with a +/- inclincation\n    // True anomaly is undefined for a circular orbit because circular orbits\n    // do not have a uniquely-determined periapsis; Instead, the argument of\n    // latitude is used:\n    var argumentLatitude = Math.atan2(r.z / Math.sin(I), r.x * Math.cos(omega) + r.y * Math.sin(omega));\n    E = 2 * Math.atan(Math.tan(argumentLatitude / 2));\n    w = 0;\n  } else {\n    var v_eccentricity = new _three.Vector3().crossVectors(v, h).multiplyScalar(1 / u).sub(r.clone().multiplyScalar(1 / r.length()));\n\n    var trueAnomaly = Math.acos(v_eccentricity.dot(r) / (v_eccentricity.length() * r.length()));\n    if (r.dot(v) < 0) trueAnomaly = 2 * Math.PI - trueAnomaly;\n\n    var _argumentLatitude = Math.atan2(r.z / Math.sin(I), r.x * Math.cos(omega) + r.y * Math.sin(omega));\n    E = 2 * Math.atan(Math.sqrt((1 - e) / (1 + e)) * Math.tan(trueAnomaly / 2));\n    w = _argumentLatitude - trueAnomaly;\n  }\n\n  var M = E - e * Math.sin(E);\n  var L = M + w;\n\n  var calculated_kepler_elements = {\n    a: a,\n    e: e,\n    I: I * 180 / Math.PI,\n    w: w * 180 / Math.PI,\n    omega: omega * 180 / Math.PI,\n    M: M * 180 / Math.PI,\n    E: E * 180 / Math.PI\n  };\n\n  return calculated_kepler_elements;\n};\n\nSolarSystem.prototype._toCartesianCoordinates = function (primary, kepler_elements) {\n  var a = kepler_elements.a,\n      e = kepler_elements.e,\n      I = kepler_elements.I,\n      argumentPerihelion = kepler_elements.argumentPerihelion,\n      omega = kepler_elements.omega,\n      M = kepler_elements.M;\n\n\n  var u = primary.constants.u;\n  var E = this._calculateEccentricAnomaly(e, M * 180 / Math.PI) * Math.PI / 180;\n\n  var trueAnomaly = Math.sign(E) * Math.acos((Math.cos(E) - e) / (1 - e * Math.cos(E)));\n\n  // Calculate heliocentric coordinates in the planets orbital plane\n  var helioCentricPosition = new _three.Vector3(a * (Math.cos(E) - e), a * Math.sqrt(1 - Math.pow(e, 2)) * Math.sin(E), 0);\n\n  // Convert to the ecliptic plane\n  var eclipticPosition = this._transformToEcliptic(primary.derived.position, helioCentricPosition, argumentPerihelion, omega, I);\n\n  // Calculate the velocity in the planets orbital planet\n  var helioCentricVelocity = new _three.Vector3(-Math.sin(trueAnomaly), e + Math.cos(trueAnomaly), 0).multiplyScalar(Math.sqrt(u / Math.pow(a, 3)) * a / Math.sqrt(1 - Math.pow(e, 2)));\n\n  // Convert to the ecliptic plane\n  var eclipticVelocity = this._transformToEcliptic(new _three.Vector3(0, 0, 0), helioCentricVelocity, argumentPerihelion, omega, I);\n\n  return {\n    meanAnomaly: M,\n    eccentricAnomaly: E,\n    trueAnomaly: trueAnomaly,\n    position: eclipticPosition,\n    position_in_plane: helioCentricPosition,\n    velocity: eclipticVelocity,\n    velocity_in_plane: helioCentricVelocity\n  };\n};\n\nSolarSystem.prototype._calculateJulianDate = function (date) {\n  var Teph = J2000_epoch + date.diff(J2000_date, 'days', true);\n  var T = (Teph - J2000_epoch) / 36525;\n  return T;\n};\n\nSolarSystem.prototype._calculateMeanAnomaly = function (L, w, perturbations, T) {\n\n  var M = L - w;\n  if (perturbations) {\n    M += perturbations.b * Math.pow(T, 2) + perturbations.c * Math.cos(perturbations.f * T) + perturbations.s * Math.sin(perturbations.f * T);\n  }\n\n  M = M % 360;\n  if (M > 180) {\n    M = M - 360;\n  } else if (M < -180) {\n    M = 360 + M;\n  }\n\n  return M;\n};\n\nSolarSystem.prototype._calculateEccentricAnomaly = function (e, M) {\n  // Calculate eccentric anomaly, E\n  // e_star = degrees\n  // e = radians\n  var tol = 10e-6;\n  var e_star = 57.29578 * e;\n  var E = M + e_star * Math.sin(Math.PI / 180 * M);\n  var deltaE = void 0,\n      deltaM = void 0;\n  var numTimes = 0;\n  do {\n    deltaM = M - (E - e_star * Math.sin(Math.PI / 180 * E));\n    deltaE = deltaM / (1 - e * Math.cos(Math.PI / 180 * E));\n    E = E + deltaE;\n    numTimes++;\n  } while (Math.abs(deltaE) > tol && numTimes <= 10);\n\n  if (numTimes === 10) {\n    console.log(\"Didn't iterate on a solution!\");\n  }\n\n  return E;\n};\n\nSolarSystem.prototype._transformToEcliptic = function (offset, position, w, omega, I) {\n\n  var Q1 = new _three.Quaternion().setFromAxisAngle(new _three.Vector3(0, 0, 1), w);\n  var Q2 = new _three.Quaternion().setFromAxisAngle(new _three.Vector3(1, 0, 0), I);\n  var Q3 = new _three.Quaternion().setFromAxisAngle(new _three.Vector3(0, 0, 1), omega);\n\n  var rotation = new _three.Vector3().copy(position).applyQuaternion(Q1).applyQuaternion(Q2).applyQuaternion(Q3);\n\n  return rotation.add(offset);\n};\n\nexports.default = SolarSystem;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvU29sYXJTeXN0ZW0uanM/MGYwMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgTWF0aEV4dGVuc2lvbnMgZnJvbSAnLi91dGlsL01hdGhFeHRlbnNpb25zJztcbmltcG9ydCBSSzRJbnRlZ3JhdG9yIGZyb20gJy4vaW50ZWdyYXRvcnMvUks0SW50ZWdyYXRvcic7XG5pbXBvcnQge1xuICBBVSxcbiAgQUxMX0JPRElFUyxcbn0gZnJvbSAnLi9Cb2RpZXMnO1xuXG5pbXBvcnQge1xuICBWZWN0b3IzLFxuICBRdWF0ZXJuaW9uLFxuICBNYXRyaXgzLFxuICBFdWxlcixcbn0gZnJvbSAndGhyZWUnO1xuXG5jb25zdCBKMjAwMF9kYXRlID0gbW9tZW50KCcyMDAwLTAxLTAxVDEyOjAwOjAwWicpO1xuY29uc3QgSjIwMDBfZXBvY2ggPSAyNDUxNTQ1LjA7XG5cbmZ1bmN0aW9uIFNvbGFyU3lzdGVtKCkge1xuICB0aGlzLmJvZGllcyA9IEFycmF5LmZyb20oQUxMX0JPRElFUyk7XG4gIHRoaXMuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbn07XG5cblNvbGFyU3lzdGVtLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGJvZHlJZCkge1xuICByZXR1cm4gdGhpcy5ib2RpZXMuZmluZCgoYm9keSkgPT4gYm9keS5uYW1lID09IGJvZHlJZCk7XG59O1xuXG5Tb2xhclN5c3RlbS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHQsIGR0KSB7XG5cbiAgbGV0IGN1cnJlbnREYXRlID0gbW9tZW50KHQgKyBkdCk7XG4gIGxldCBUID0gdGhpcy5fY2FsY3VsYXRlSnVsaWFuRGF0ZShjdXJyZW50RGF0ZSk7XG5cbiAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYSBzdGFydGluZyBwb3NpdGlvbi92ZWxvY2l0eSBmcm9tIHRoZSBpbml0aWFsIGtlcGxlclxuICAgICAqIGVsZW1lbnRzXG4gICAgICovXG4gICAgdGhpcy5ib2RpZXMuZm9yRWFjaCgoYm9keSkgPT4ge1xuICAgICAgaWYgKGJvZHkubmFtZSA9PT0gJ3N1bicpXG4gICAgICAgIHJldHVybjtcblxuICAgICAgbGV0IGtlcGxlcl9lbGVtZW50cyA9IHRoaXMuX2NhbGN1bGF0ZUluaXRpYWxLZXBsZXJFbGVtZW50cyhib2R5LCBUKTtcbiAgICAgIGJvZHkuZGVyaXZlZCA9IGtlcGxlcl9lbGVtZW50cztcbiAgICB9KTtcblxuICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5ib2RpZXMuZm9yRWFjaCgoYm9keSkgPT4ge1xuXG4gICAgaWYgKGJvZHkubmFtZSA9PT0gJ3N1bicpXG4gICAgICByZXR1cm47XG5cbiAgICBsZXQga2VwbGVyX2VsZW1lbnRzID0gdGhpcy5fY2FsY3VsYXRlS2VwbGVyRWxlbWVudHNBdFRpbWUoYm9keSwgdCArIGR0KTtcbiAgICBsZXQgY29vcmRzID0gdGhpcy5fdG9DYXJ0ZXNpYW5Db29yZGluYXRlcyhib2R5LnByaW1hcnksIGtlcGxlcl9lbGVtZW50cyk7XG4gICAgbGV0IHBvc2l0aW9uID0gY29vcmRzLnBvc2l0aW9uO1xuICAgIGxldCB2ZWxvY2l0eSA9IGNvb3Jkcy52ZWxvY2l0eTtcblxuICAgIGxldCBib2R5X2NvbnN0YW50cyA9IGJvZHkuY29uc3RhbnRzO1xuICAgIGxldCBwcmltYXJ5ID0gYm9keS5wcmltYXJ5O1xuICAgIGxldCBkZXJpdmVkID0gYm9keS5kZXJpdmVkO1xuICAgIGxldCB1ID0gcHJpbWFyeS5jb25zdGFudHMudTtcbiAgICBsZXQge1xuICAgICAgYSxcbiAgICAgIGUsXG4gICAgICBJLFxuICAgICAgYXJndW1lbnRQZXJpaGVsaW9uLFxuICAgICAgb21lZ2EsXG4gICAgICBNLFxuICAgIH0gPSBrZXBsZXJfZWxlbWVudHM7XG5cbiAgICAvLyBTZW1pLW1pbm9yIGF4aXNcbiAgICBsZXQgYiA9IGEgKiBNYXRoLnNxcnQoMSAtIE1hdGgucG93KGUsIDIpKTtcblxuICAgIC8vIFRyYWplY3RvcnkgRWxlbWVudHNcbiAgICBsZXQgcGVyaWFwc2lzID0gbmV3IFZlY3RvcjMoYSAqICgxIC0gZSksIDAsIDApO1xuICAgIGxldCBhcG9hcHNpcyA9IG5ldyBWZWN0b3IzKC1hICogKDEgKyBlKSwgMCwgMCk7XG4gICAgbGV0IGNlbnRlciA9IG5ldyBWZWN0b3IzKHBlcmlhcHNpcy54IC0gYSwgMCwgMCk7XG5cbiAgICAvLyBPcmJpdGFsIFBlcmlvZCBhbmQgUm90YXRpb25hbCBQZXJpb2RcbiAgICBsZXQgb3JiaXRhbF9wZXJpb2QgPSAyICogTWF0aC5QSSAqIE1hdGguc3FydChNYXRoLnBvdyhhLCAzKSAvXG4gICAgICAodSArIChib2R5X2NvbnN0YW50cy51IHx8IDApKSk7XG5cbiAgICBsZXQgcm90YXRpb24gPSAoZGVyaXZlZC5yb3RhdGlvbiB8fCAwKSArXG4gICAgICAyICogTWF0aC5QSSAqIGR0IC9cbiAgICAgICgoYm9keV9jb25zdGFudHMucm90YXRpb25fcGVyaW9kIHx8IDEpICogODY0MDBlMyk7XG5cbiAgICBib2R5LmRlcml2ZWQgPSB7XG4gICAgICBUOiBULFxuICAgICAgYTogYSxcbiAgICAgIGU6IGUsXG4gICAgICBJOiBJLFxuICAgICAgb21lZ2E6IG9tZWdhLFxuICAgICAgYXJndW1lbnRQZXJpaGVsaW9uOiBhcmd1bWVudFBlcmloZWxpb24sXG4gICAgICBNOiBNLFxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uLFxuICAgICAgcG9zaXRpb25faW5fcGxhbmU6IGNvb3Jkcy5wb3NpdGlvbl9pbl9wbGFuZSxcbiAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSxcbiAgICAgIHNlbWlNYWpvckF4aXM6IGEsXG4gICAgICBzZW1pTWlub3JBeGlzOiBiLFxuICAgICAgb3JiaXRhbF9wZXJpb2Q6IG9yYml0YWxfcGVyaW9kLFxuICAgICAgcm90YXRpb246IHJvdGF0aW9uLFxuICAgICAgY2VudGVyX2luX3BsYW5lOiBjZW50ZXIsXG4gICAgICBjZW50ZXI6IHRoaXMuX3RyYW5zZm9ybVRvRWNsaXB0aWMocHJpbWFyeS5kZXJpdmVkLnBvc2l0aW9uLCBjZW50ZXIsIGFyZ3VtZW50UGVyaWhlbGlvbiwgb21lZ2EsIEkpLFxuICAgICAgcGVyaWFwc2lzOiB0aGlzLl90cmFuc2Zvcm1Ub0VjbGlwdGljKHByaW1hcnkuZGVyaXZlZC5wb3NpdGlvbiwgcGVyaWFwc2lzLCBhcmd1bWVudFBlcmloZWxpb24sIG9tZWdhLCBJKSxcbiAgICAgIGFwb2Fwc2lzOiB0aGlzLl90cmFuc2Zvcm1Ub0VjbGlwdGljKHByaW1hcnkuZGVyaXZlZC5wb3NpdGlvbiwgYXBvYXBzaXMsIGFyZ3VtZW50UGVyaWhlbGlvbiwgb21lZ2EsIEkpLFxuICAgIH1cblxuICB9KTtcblxuICB0aGlzLmxhc3RUaW1lID0gdCArIGR0O1xufTtcblxuU29sYXJTeXN0ZW0ucHJvdG90eXBlLl9jYWxjdWxhdGVJbml0aWFsS2VwbGVyRWxlbWVudHMgPSBmdW5jdGlvbiAoYm9keSwgVCkge1xuXG4gIC8vIFBsYW5ldHMgYXJlIGZpeGVkIG9uIHJhaWxzOyB3ZSBzaW1wbHkgYVxuICBsZXQga2VwbGVyX2VsZW1lbnRzID0gYm9keS5rZXBsZXJfZWxlbWVudHM7XG4gIGxldCBhID0ga2VwbGVyX2VsZW1lbnRzLmFbMF0gKyBrZXBsZXJfZWxlbWVudHMuYVsxXSAqIFQ7XG4gIGxldCBlID0ga2VwbGVyX2VsZW1lbnRzLmVbMF0gKyBrZXBsZXJfZWxlbWVudHMuZVsxXSAqIFQ7XG4gIGxldCBJID0ga2VwbGVyX2VsZW1lbnRzLklbMF0gKyBrZXBsZXJfZWxlbWVudHMuSVsxXSAqIFQ7XG4gIGxldCBMID0ga2VwbGVyX2VsZW1lbnRzLkxbMF0gKyBrZXBsZXJfZWxlbWVudHMuTFsxXSAqIFQ7XG4gIGxldCB3ID0ga2VwbGVyX2VsZW1lbnRzLndbMF0gKyBrZXBsZXJfZWxlbWVudHMud1sxXSAqIFQ7XG4gIGxldCBvbWVnYSA9IGtlcGxlcl9lbGVtZW50cy5vbWVnYVswXSArIGtlcGxlcl9lbGVtZW50cy5vbWVnYVsxXSAqIFQ7XG4gIGxldCBwZXJ0dXJiYXRpb25zID0ga2VwbGVyX2VsZW1lbnRzLnBlcnR1cmJhdGlvbnM7XG4gIGxldCBNID0gdGhpcy5fY2FsY3VsYXRlTWVhbkFub21hbHkoTCwgdywgcGVydHVyYmF0aW9ucywgVCk7XG4gIGxldCBhcmd1bWVudFBlcmloZWxpb24gPSB3IC0gb21lZ2E7XG5cbiAgcmV0dXJuIHtcbiAgICBhOiBhLFxuICAgIGU6IGUsXG4gICAgSTogSSAqIE1hdGguUEkgLyAxODAsXG4gICAgb21lZ2E6IG9tZWdhICogTWF0aC5QSSAvIDE4MCxcbiAgICBhcmd1bWVudFBlcmloZWxpb246IGFyZ3VtZW50UGVyaWhlbGlvbiAqIE1hdGguUEkgLyAxODAsXG4gICAgTTogTSAqIE1hdGguUEkgLyAxODAsXG4gIH07XG59O1xuXG5Tb2xhclN5c3RlbS5wcm90b3R5cGUuX2NhbGN1bGF0ZUtlcGxlckVsZW1lbnRzQXRUaW1lID0gZnVuY3Rpb24gKGJvZHksIHQpIHtcblxuICBsZXQge1xuICAgIGEsXG4gICAgZSxcbiAgICBJLFxuICAgIG9tZWdhLFxuICAgIGFyZ3VtZW50UGVyaWhlbGlvbixcbiAgICBNXG4gIH0gPSBib2R5LmRlcml2ZWQ7XG5cbiAgLyoqXG4gICAqIEZvciBlbGxpcHRpY2FsIG9yYml0cywgTSAtIE0wID0gbih0IC0gdDApXG4gICAqL1xuXG4gIGxldCBsYXN0VGltZSA9IHRoaXMubGFzdFRpbWUgfHwgdDtcbiAgbGV0IGRlbHRhID0gKHQgLSBsYXN0VGltZSkgLyAxMDAwO1xuICBsZXQgdSA9IGJvZHkucHJpbWFyeS5jb25zdGFudHMudTtcbiAgbGV0IG4gPSBNYXRoLnNxcnQodSAvIE1hdGgucG93KGEsIDMpKTtcbiAgTSA9IG4gKiBkZWx0YSArIE07XG5cbiAgcmV0dXJuIHtcbiAgICBhLFxuICAgIGUsXG4gICAgSSxcbiAgICBvbWVnYSxcbiAgICBhcmd1bWVudFBlcmloZWxpb24sXG4gICAgTVxuICB9O1xufTtcblxuU29sYXJTeXN0ZW0ucHJvdG90eXBlLl9jYWxjdWxhdGVLZXBsZXJFbGVtZW50c0Zyb21DYXJ0ZXNpYW4gPSBmdW5jdGlvbiAoYm9keSkge1xuXG4gIGxldCBwcmltYXJ5ID0gYm9keS5wcmltYXJ5O1xuICBsZXQgcG9zaXRpb24gPSBib2R5LmRlcml2ZWQucG9zaXRpb247XG4gIGxldCB2ZWxvY2l0eSA9IGJvZHkuZGVyaXZlZC52ZWxvY2l0eTtcblxuICBsZXQgciA9IG5ldyBWZWN0b3IzKClcbiAgICAuc3ViVmVjdG9ycyhwb3NpdGlvbiwgcHJpbWFyeS5kZXJpdmVkLnBvc2l0aW9uKTtcbiAgbGV0IHYgPSBuZXcgVmVjdG9yMygpXG4gICAgLnN1YlZlY3RvcnModmVsb2NpdHksIHByaW1hcnkuZGVyaXZlZC52ZWxvY2l0eSk7XG4gIGxldCB1ID0gcHJpbWFyeS5jb25zdGFudHMudTtcblxuICBjb25zdCBoID0gbmV3IFZlY3RvcjMoKVxuICAgIC5jcm9zc1ZlY3RvcnMociwgdik7XG5cbiAgaWYgKGgubGVuZ3RoKCkgPD0gMCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJhbmd1bGFyIG1vbWVudHVtIGlzIHplcm8hXCIpO1xuICB9XG5cbiAgLy8gU2VtaS1NYWpvciBBeGlzXG4gIGNvbnN0IHNwZWNpZmljRW5lcmd5ID0gdi5sZW5ndGhTcSgpIC8gMiAtIHUgLyByLmxlbmd0aCgpO1xuICBjb25zdCBhID0gLXUgLyAoMiAqIHNwZWNpZmljRW5lcmd5KTtcblxuICAvLyBFY2NlbnRyaWNpdHlcbiAgY29uc3QgZV9zdWIgPSBoLmxlbmd0aFNxKCkgLyAodSAqIGEpO1xuICBjb25zdCBlID0gZV9zdWIgPiAxID8gMCA6IE1hdGguc3FydCgxIC0gZV9zdWIpO1xuXG4gIC8vIEluY2xpbmF0aW9uLCBMb25naXR1ZGUgb2YgdGhlIGFzY2VuZGluZyBub2RlXG4gIGNvbnN0IEkgPSBNYXRoLmFjb3MoaC56IC8gaC5sZW5ndGgoKSk7XG4gIGNvbnN0IG9tZWdhID0gTWF0aC5hdGFuMihoLngsIC1oLnkpO1xuICBpZiAoTWF0aC5hYnMob21lZ2EpID49IE1hdGguUEkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ29tZWdhIGp1bXBlZCcpO1xuICB9XG5cbiAgbGV0IEUsIHc7XG4gIGlmIChlID09PSAwICYmIEkgPT09IDApIHtcbiAgICAvLyBDaXJjdWxhciBPcmJpdHMgd2l0aCB6ZXJvIGluY2xpbmNhdGlvblxuXG4gICAgbGV0IHRydWVMb25naXR1ZGUgPSBNYXRoLmFjb3Moci54IC8gci5sZW5ndGgoKSk7XG4gICAgaWYgKHYueCA+IDApIHtcbiAgICAgIHRydWVMb25naXR1ZGUgPSAyICogTWF0aC5QSSAtIHRydWVMb25naXR1ZGU7XG4gICAgfVxuXG4gIH0gZWxzZSBpZiAoZSA9PT0gMCkge1xuICAgIC8vIENpcmN1bGFyIG9yYml0cyB3aXRoIGEgKy8tIGluY2xpbmNhdGlvblxuICAgIC8vIFRydWUgYW5vbWFseSBpcyB1bmRlZmluZWQgZm9yIGEgY2lyY3VsYXIgb3JiaXQgYmVjYXVzZSBjaXJjdWxhciBvcmJpdHNcbiAgICAvLyBkbyBub3QgaGF2ZSBhIHVuaXF1ZWx5LWRldGVybWluZWQgcGVyaWFwc2lzOyBJbnN0ZWFkLCB0aGUgYXJndW1lbnQgb2ZcbiAgICAvLyBsYXRpdHVkZSBpcyB1c2VkOlxuICAgIGNvbnN0IGFyZ3VtZW50TGF0aXR1ZGUgPSBNYXRoLmF0YW4yKHIueiAvIE1hdGguc2luKEkpLCByLnggKiBNYXRoLmNvcyhvbWVnYSkgKyByLnkgKiBNYXRoLnNpbihvbWVnYSkpO1xuICAgIEUgPSAyICogTWF0aC5hdGFuKE1hdGgudGFuKGFyZ3VtZW50TGF0aXR1ZGUgLyAyKSk7XG4gICAgdyA9IDA7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHZfZWNjZW50cmljaXR5ID0gbmV3IFZlY3RvcjMoKVxuICAgICAgLmNyb3NzVmVjdG9ycyh2LCBoKVxuICAgICAgLm11bHRpcGx5U2NhbGFyKDEgLyB1KVxuICAgICAgLnN1YihyLmNsb25lKClcbiAgICAgICAgLm11bHRpcGx5U2NhbGFyKDEgLyByLmxlbmd0aCgpKSlcblxuICAgIGxldCB0cnVlQW5vbWFseSA9IE1hdGguYWNvcyh2X2VjY2VudHJpY2l0eS5kb3QocikgLyAodl9lY2NlbnRyaWNpdHkubGVuZ3RoKCkgKiByLmxlbmd0aCgpKSk7XG4gICAgaWYgKHIuZG90KHYpIDwgMClcbiAgICAgIHRydWVBbm9tYWx5ID0gMiAqIE1hdGguUEkgLSB0cnVlQW5vbWFseTtcblxuICAgIGxldCBhcmd1bWVudExhdGl0dWRlID0gTWF0aC5hdGFuMihyLnogLyBNYXRoLnNpbihJKSwgci54ICogTWF0aC5jb3Mob21lZ2EpICsgci55ICogTWF0aC5zaW4ob21lZ2EpKTtcbiAgICBFID0gMiAqIE1hdGguYXRhbihNYXRoLnNxcnQoKDEgLSBlKSAvICgxICsgZSkpICogTWF0aC50YW4odHJ1ZUFub21hbHkgLyAyKSk7XG4gICAgdyA9IGFyZ3VtZW50TGF0aXR1ZGUgLSB0cnVlQW5vbWFseTtcbiAgfVxuXG4gIGNvbnN0IE0gPSBFIC0gZSAqIE1hdGguc2luKEUpO1xuICBjb25zdCBMID0gTSArIHc7XG5cbiAgY29uc3QgY2FsY3VsYXRlZF9rZXBsZXJfZWxlbWVudHMgPSB7XG4gICAgYTogYSxcbiAgICBlOiBlLFxuICAgIEk6IEkgKiAxODAgLyBNYXRoLlBJLFxuICAgIHc6IHcgKiAxODAgLyBNYXRoLlBJLFxuICAgIG9tZWdhOiBvbWVnYSAqIDE4MCAvIE1hdGguUEksXG4gICAgTTogTSAqIDE4MCAvIE1hdGguUEksXG4gICAgRTogRSAqIDE4MCAvIE1hdGguUEksXG4gIH07XG5cbiAgcmV0dXJuIGNhbGN1bGF0ZWRfa2VwbGVyX2VsZW1lbnRzO1xufTtcblxuU29sYXJTeXN0ZW0ucHJvdG90eXBlLl90b0NhcnRlc2lhbkNvb3JkaW5hdGVzID0gZnVuY3Rpb24gKHByaW1hcnksIGtlcGxlcl9lbGVtZW50cykge1xuXG4gIGxldCB7XG4gICAgYSxcbiAgICBlLFxuICAgIEksXG4gICAgYXJndW1lbnRQZXJpaGVsaW9uLFxuICAgIG9tZWdhLFxuICAgIE0sXG4gIH0gPSBrZXBsZXJfZWxlbWVudHM7XG5cbiAgbGV0IHUgPSBwcmltYXJ5LmNvbnN0YW50cy51O1xuICBsZXQgRSA9IHRoaXMuX2NhbGN1bGF0ZUVjY2VudHJpY0Fub21hbHkoZSwgTSAqIDE4MCAvIE1hdGguUEkpICogTWF0aC5QSSAvIDE4MDtcblxuICBsZXQgdHJ1ZUFub21hbHkgPSBNYXRoLnNpZ24oRSkgKiBNYXRoLmFjb3MoXG4gICAgKE1hdGguY29zKEUpIC0gZSkgL1xuICAgICgxIC0gZSAqIE1hdGguY29zKEUpKSlcblxuICAvLyBDYWxjdWxhdGUgaGVsaW9jZW50cmljIGNvb3JkaW5hdGVzIGluIHRoZSBwbGFuZXRzIG9yYml0YWwgcGxhbmVcbiAgbGV0IGhlbGlvQ2VudHJpY1Bvc2l0aW9uID0gbmV3IFZlY3RvcjMoXG4gICAgYSAqIChNYXRoLmNvcyhFKSAtIGUpLFxuICAgIGEgKiBNYXRoLnNxcnQoMSAtIE1hdGgucG93KGUsIDIpKSAqIE1hdGguc2luKEUpLFxuICAgIDApO1xuXG4gIC8vIENvbnZlcnQgdG8gdGhlIGVjbGlwdGljIHBsYW5lXG4gIGxldCBlY2xpcHRpY1Bvc2l0aW9uID0gdGhpcy5fdHJhbnNmb3JtVG9FY2xpcHRpYyhcbiAgICBwcmltYXJ5LmRlcml2ZWQucG9zaXRpb24sXG4gICAgaGVsaW9DZW50cmljUG9zaXRpb24sXG4gICAgYXJndW1lbnRQZXJpaGVsaW9uLFxuICAgIG9tZWdhLFxuICAgIEkpO1xuXG4gIC8vIENhbGN1bGF0ZSB0aGUgdmVsb2NpdHkgaW4gdGhlIHBsYW5ldHMgb3JiaXRhbCBwbGFuZXRcbiAgbGV0IGhlbGlvQ2VudHJpY1ZlbG9jaXR5ID0gbmV3IFZlY3RvcjMoLU1hdGguc2luKHRydWVBbm9tYWx5KSxcbiAgICAgIGUgKyBNYXRoLmNvcyh0cnVlQW5vbWFseSksXG4gICAgICAwKVxuICAgIC5tdWx0aXBseVNjYWxhcigoTWF0aC5zcXJ0KHUgLyBNYXRoLnBvdyhhLCAzKSkgKiBhKSAvIE1hdGguc3FydCgxIC0gTWF0aC5wb3coZSwgMikpKTtcblxuICAvLyBDb252ZXJ0IHRvIHRoZSBlY2xpcHRpYyBwbGFuZVxuICBsZXQgZWNsaXB0aWNWZWxvY2l0eSA9IHRoaXMuX3RyYW5zZm9ybVRvRWNsaXB0aWMoXG4gICAgbmV3IFZlY3RvcjMoMCwgMCwgMCksXG4gICAgaGVsaW9DZW50cmljVmVsb2NpdHksXG4gICAgYXJndW1lbnRQZXJpaGVsaW9uLFxuICAgIG9tZWdhLFxuICAgIEkpO1xuXG4gIHJldHVybiB7XG4gICAgbWVhbkFub21hbHk6IE0sXG4gICAgZWNjZW50cmljQW5vbWFseTogRSxcbiAgICB0cnVlQW5vbWFseTogdHJ1ZUFub21hbHksXG4gICAgcG9zaXRpb246IGVjbGlwdGljUG9zaXRpb24sXG4gICAgcG9zaXRpb25faW5fcGxhbmU6IGhlbGlvQ2VudHJpY1Bvc2l0aW9uLFxuICAgIHZlbG9jaXR5OiBlY2xpcHRpY1ZlbG9jaXR5LFxuICAgIHZlbG9jaXR5X2luX3BsYW5lOiBoZWxpb0NlbnRyaWNWZWxvY2l0eSxcbiAgfTtcbn07XG5cblNvbGFyU3lzdGVtLnByb3RvdHlwZS5fY2FsY3VsYXRlSnVsaWFuRGF0ZSA9IGZ1bmN0aW9uIChkYXRlKSB7XG4gIGxldCBUZXBoID0gSjIwMDBfZXBvY2ggKyBkYXRlLmRpZmYoSjIwMDBfZGF0ZSwgJ2RheXMnLCB0cnVlKTtcbiAgbGV0IFQgPSAoVGVwaCAtIEoyMDAwX2Vwb2NoKSAvIDM2NTI1O1xuICByZXR1cm4gVDtcbn07XG5cblNvbGFyU3lzdGVtLnByb3RvdHlwZS5fY2FsY3VsYXRlTWVhbkFub21hbHkgPSBmdW5jdGlvbiAoTCwgdywgcGVydHVyYmF0aW9ucywgVCkge1xuXG4gIGxldCBNID0gTCAtIHc7XG4gIGlmIChwZXJ0dXJiYXRpb25zKSB7XG4gICAgTSArPSBwZXJ0dXJiYXRpb25zLmIgKiBNYXRoLnBvdyhULCAyKSArXG4gICAgICBwZXJ0dXJiYXRpb25zLmMgKiBNYXRoLmNvcyhwZXJ0dXJiYXRpb25zLmYgKiBUKSArXG4gICAgICBwZXJ0dXJiYXRpb25zLnMgKiBNYXRoLnNpbihwZXJ0dXJiYXRpb25zLmYgKiBUKTtcbiAgfVxuXG4gIE0gPSBNICUgMzYwO1xuICBpZiAoTSA+IDE4MCkge1xuICAgIE0gPSBNIC0gMzYwO1xuICB9IGVsc2UgaWYgKE0gPCAtMTgwKSB7XG4gICAgTSA9IDM2MCArIE07XG4gIH1cblxuICByZXR1cm4gTTtcbn07XG5cblNvbGFyU3lzdGVtLnByb3RvdHlwZS5fY2FsY3VsYXRlRWNjZW50cmljQW5vbWFseSA9IGZ1bmN0aW9uIChlLCBNKSB7XG4gIC8vIENhbGN1bGF0ZSBlY2NlbnRyaWMgYW5vbWFseSwgRVxuICAvLyBlX3N0YXIgPSBkZWdyZWVzXG4gIC8vIGUgPSByYWRpYW5zXG4gIGxldCB0b2wgPSAxMGUtNjtcbiAgbGV0IGVfc3RhciA9IDU3LjI5NTc4ICogZTtcbiAgbGV0IEUgPSBNICsgZV9zdGFyICogTWF0aC5zaW4oKE1hdGguUEkgLyAxODApICogTSk7XG4gIGxldCBkZWx0YUUsIGRlbHRhTTtcbiAgbGV0IG51bVRpbWVzID0gMDtcbiAgZG8ge1xuICAgIGRlbHRhTSA9IE0gLSAoRSAtIGVfc3RhciAqIE1hdGguc2luKChNYXRoLlBJIC8gMTgwKSAqIEUpKTtcbiAgICBkZWx0YUUgPSBkZWx0YU0gLyAoMSAtIGUgKiBNYXRoLmNvcygoTWF0aC5QSSAvIDE4MCkgKiBFKSk7XG4gICAgRSA9IEUgKyBkZWx0YUU7XG4gICAgbnVtVGltZXMrKztcbiAgfSB3aGlsZSAoTWF0aC5hYnMoZGVsdGFFKSA+IHRvbCAmJiBudW1UaW1lcyA8PSAxMCk7XG5cbiAgaWYgKG51bVRpbWVzID09PSAxMCkge1xuICAgIGNvbnNvbGUubG9nKFwiRGlkbid0IGl0ZXJhdGUgb24gYSBzb2x1dGlvbiFcIik7XG4gIH1cblxuICByZXR1cm4gRTtcbn07XG5cblNvbGFyU3lzdGVtLnByb3RvdHlwZS5fdHJhbnNmb3JtVG9FY2xpcHRpYyA9IGZ1bmN0aW9uIChvZmZzZXQsIHBvc2l0aW9uLCB3LCBvbWVnYSwgSSkge1xuXG4gIGxldCBRMSA9IG5ldyBRdWF0ZXJuaW9uKClcbiAgICAuc2V0RnJvbUF4aXNBbmdsZShuZXcgVmVjdG9yMygwLCAwLCAxKSwgdyk7XG4gIGxldCBRMiA9IG5ldyBRdWF0ZXJuaW9uKClcbiAgICAuc2V0RnJvbUF4aXNBbmdsZShuZXcgVmVjdG9yMygxLCAwLCAwKSwgSSk7XG4gIGxldCBRMyA9IG5ldyBRdWF0ZXJuaW9uKClcbiAgICAuc2V0RnJvbUF4aXNBbmdsZShuZXcgVmVjdG9yMygwLCAwLCAxKSwgb21lZ2EpO1xuXG4gIGNvbnN0IHJvdGF0aW9uID0gbmV3IFZlY3RvcjMoKVxuICAgIC5jb3B5KHBvc2l0aW9uKVxuICAgIC5hcHBseVF1YXRlcm5pb24oUTEpXG4gICAgLmFwcGx5UXVhdGVybmlvbihRMilcbiAgICAuYXBwbHlRdWF0ZXJuaW9uKFEzKTtcblxuICByZXR1cm4gcm90YXRpb24uYWRkKG9mZnNldCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTb2xhclN5c3RlbTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL1NvbGFyU3lzdGVtLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBSUE7QUFDQTs7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFzQkE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbEJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFVQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nvar _OrbitControls = __webpack_require__(4);\n\nvar _OrbitControls2 = _interopRequireDefault(_OrbitControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar POINTS = 8;\n\nfunction TestingRenderer(container) {\n\n  this.width = window.innerWidth;\n  this.height = window.innerHeight;\n  this.renderer = new THREE.WebGLRenderer();\n  this.renderer.setSize(this.width, this.height);\n\n  this.container = container;\n  container.appendChild(this.renderer.domElement);\n\n  this.scene = new THREE.Scene();\n};\n\nTestingRenderer.prototype.recenter = function () {};\n\nTestingRenderer.prototype.viewDidLoad = function (solarSystem) {\n\n  // initialize camera and scene\n  this.camera = new THREE.PerspectiveCamera(45, this.width / this.height, 0.01, 1000);\n  this.camera.position.z = 50;\n  this.scene.background = new THREE.Color('gray');\n\n  this.threeBody = new THREE.Mesh(new THREE.SphereGeometry(0.5, 32, 32), new THREE.MeshBasicMaterial({\n    color: 'black'\n  }));\n\n  var curve = new THREE.EllipseCurve(0, 0, // ax, aY\n  1, 1, // xRadius, yRadius\n  0, 2 * Math.PI, // aStartAngle, aEndAngle\n  false, // aClockwise\n  0 // aRotation\n  );\n\n  var pointsGeometry = new THREE.Path(curve.getPoints(POINTS)).createPointsGeometry(POINTS);\n\n  //Create the final object to add to the scene\n  var bufferGeometry = new THREE.BufferGeometry();\n  var vertices = [];\n  for (var i = 0; i < pointsGeometry.vertices.length; i++) {\n    vertices.push(pointsGeometry.vertices[i].x, pointsGeometry.vertices[i].y, pointsGeometry.vertices[i].z);\n  }\n\n  this.originalVertices = Array.from(vertices);\n  bufferGeometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n\n  var ellipse = new THREE.Line(bufferGeometry, new THREE.LineBasicMaterial({\n    color: 0xff0000\n  }));\n\n  //\n  // const ellipse = new THREE.Line(new THREE.RingGeometry(1, 1, 8),\n  //   new THREE.LineBasicMaterial({\n  //     color: 'red'\n  //   }));\n\n  this.ellipse = ellipse;\n  this.ellipse.scale.set(10, 5, 1);\n  // this.ellipse.matrix.setPosition(new THREE.Vector3(0, 0, 0));\n  // this.ellipse.matrix.scale(new THREE.Vector3(10, 5, 1));\n  // this.ellipse.matrixAutoUpdate = false;\n\n  this.angle = 0;\n\n  this.scene.add(this.threeBody);\n  this.scene.add(this.ellipse);\n  this.renderer.render(this.scene, this.camera);\n  this.orbitControls = new _OrbitControls2.default(this.camera, this.scene.domElement);\n\n  return Promise.resolve();\n};\n\nTestingRenderer.prototype.viewWillAppear = function () {};\nTestingRenderer.prototype.viewWillDisappear = function () {};\n\nTestingRenderer.prototype.render = function (solarSystem) {\n  var _this = this;\n\n  var threeBody = this.threeBody;\n  threeBody.position.set(10 * Math.cos(this.angle), 5 * Math.sin(this.angle), 0);\n\n  var scaledPosition = new THREE.Vector3().copy(threeBody.position).multiply(new THREE.Vector3(1 / 10, 1 / 5, 1));\n\n  // let newVertices = [];\n  // let angle = this.angle;\n  // for (let i = 0; i < 9; i++) {\n  //\n  //   let vertex = new THREE.Vector3(10 * Math.cos(angle), 5 * Math.sin(angle), 0);\n  //   newVertices.push(vertex);\n  //   angle += 2 * Math.PI / 8;\n  // }\n  //\n  //\n\n  var geometry = this.ellipse.geometry;\n  var positions = geometry.attributes.position.array;\n  var range = Math.floor(positions.length / 3 / 2);\n  var verticesToTest = [];\n\n  for (var i = 0; i < range; i++) {\n    var offset = (i * 2 + 1) * 3;\n    verticesToTest.push(new THREE.Vector3(this.originalVertices[offset], this.originalVertices[offset + 1], this.originalVertices[offset + 2]));\n  };\n\n  var sorted = verticesToTest.map(function (vertex, idx) {\n    return [vertex.distanceTo(scaledPosition), vertex, idx];\n  }).sort(function (left, right) {\n    return left[0] - right[0];\n  });\n\n  sorted.forEach(function (element, idx) {\n    var vertex = element[1];\n    var offset = (element[2] * 2 + 1) * 3;\n    if (idx == 0) {\n      positions[offset] = scaledPosition.x;\n      positions[offset + 1] = scaledPosition.y;\n      positions[offset + 2] = scaledPosition.z;\n    } else {\n      positions[offset] = _this.originalVertices[offset];\n      positions[offset + 1] = _this.originalVertices[offset + 1];\n      positions[offset + 2] = _this.originalVertices[offset + 2];\n    }\n  });\n\n  geometry.attributes.position.needsUpdate = true;\n\n  //this.ellipse.updateMatrix();\n  //this.ellipse.geometry.setDrawRange(0, vertices.length)\n\n  // const angle = Math.atan2(threeBody.position.y, threeBody.position.x) - Math.atan2(closest.y, closest.x);\n  //this.ringBody.scale.set(10, 5, 1);\n  //this.ringBody.rotation.set(0, 0, 0);\n  //this.ringBody.rotateZ(angle);\n  this.angle += Math.PI / 256;\n  this.renderer.render(this.scene, this.camera);\n};\n\nexports.default = TestingRenderer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvVGVzdGluZ1JlbmRlcmVyLmpzP2QxNTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnO1xuaW1wb3J0IE9yYml0Q29udHJvbHMgZnJvbSAnLi9saWIvT3JiaXRDb250cm9scyc7XG5cbmNvbnN0IFBPSU5UUyA9IDg7XG5cbmZ1bmN0aW9uIFRlc3RpbmdSZW5kZXJlcihjb250YWluZXIpIHtcblxuICB0aGlzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIHRoaXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICB0aGlzLnJlbmRlcmVyID0gbmV3IFRIUkVFLldlYkdMUmVuZGVyZXIoKTtcbiAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcblxuICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xufTtcblxuVGVzdGluZ1JlbmRlcmVyLnByb3RvdHlwZS5yZWNlbnRlciA9IGZ1bmN0aW9uICgpIHt9O1xuXG5UZXN0aW5nUmVuZGVyZXIucHJvdG90eXBlLnZpZXdEaWRMb2FkID0gZnVuY3Rpb24gKHNvbGFyU3lzdGVtKSB7XG5cbiAgLy8gaW5pdGlhbGl6ZSBjYW1lcmEgYW5kIHNjZW5lXG4gIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDQ1LCB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQsIDAuMDEsIDEwMDApXG4gIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnogPSA1MDtcbiAgdGhpcy5zY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKCdncmF5Jyk7XG5cbiAgdGhpcy50aHJlZUJvZHkgPSBuZXcgVEhSRUUuTWVzaChcbiAgICBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkoMC41LCAzMiwgMzIpLFxuICAgIG5ldyBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCh7XG4gICAgICBjb2xvcjogJ2JsYWNrJ1xuICAgIH0pKTtcblxuICBjb25zdCBjdXJ2ZSA9IG5ldyBUSFJFRS5FbGxpcHNlQ3VydmUoXG4gICAgMCwgMCwgLy8gYXgsIGFZXG4gICAgMSwgMSwgLy8geFJhZGl1cywgeVJhZGl1c1xuICAgIDAsIDIgKiBNYXRoLlBJLCAvLyBhU3RhcnRBbmdsZSwgYUVuZEFuZ2xlXG4gICAgZmFsc2UsIC8vIGFDbG9ja3dpc2VcbiAgICAwIC8vIGFSb3RhdGlvblxuICApO1xuXG4gIGNvbnN0IHBvaW50c0dlb21ldHJ5ID0gbmV3IFRIUkVFLlBhdGgoY3VydmUuZ2V0UG9pbnRzKFBPSU5UUykpXG4gICAgLmNyZWF0ZVBvaW50c0dlb21ldHJ5KFBPSU5UUyk7XG5cbiAgLy9DcmVhdGUgdGhlIGZpbmFsIG9iamVjdCB0byBhZGQgdG8gdGhlIHNjZW5lXG4gIGNvbnN0IGJ1ZmZlckdlb21ldHJ5ID0gbmV3IFRIUkVFLkJ1ZmZlckdlb21ldHJ5KCk7XG4gIGNvbnN0IHZlcnRpY2VzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcG9pbnRzR2VvbWV0cnkudmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2ZXJ0aWNlcy5wdXNoKFxuICAgICAgcG9pbnRzR2VvbWV0cnkudmVydGljZXNbaV0ueCxcbiAgICAgIHBvaW50c0dlb21ldHJ5LnZlcnRpY2VzW2ldLnksXG4gICAgICBwb2ludHNHZW9tZXRyeS52ZXJ0aWNlc1tpXS56XG4gICAgKTtcbiAgfVxuXG4gIHRoaXMub3JpZ2luYWxWZXJ0aWNlcyA9IEFycmF5LmZyb20odmVydGljZXMpO1xuICBidWZmZXJHZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShuZXcgRmxvYXQzMkFycmF5KHZlcnRpY2VzKSwgMykpO1xuXG4gIGNvbnN0IGVsbGlwc2UgPSBuZXcgVEhSRUUuTGluZShcbiAgICBidWZmZXJHZW9tZXRyeSxcbiAgICBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IDB4ZmYwMDAwXG4gICAgfSkpO1xuXG4gIC8vXG4gIC8vIGNvbnN0IGVsbGlwc2UgPSBuZXcgVEhSRUUuTGluZShuZXcgVEhSRUUuUmluZ0dlb21ldHJ5KDEsIDEsIDgpLFxuICAvLyAgIG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7XG4gIC8vICAgICBjb2xvcjogJ3JlZCdcbiAgLy8gICB9KSk7XG5cbiAgdGhpcy5lbGxpcHNlID0gZWxsaXBzZTtcbiAgdGhpcy5lbGxpcHNlLnNjYWxlLnNldCgxMCwgNSwgMSk7XG4gIC8vIHRoaXMuZWxsaXBzZS5tYXRyaXguc2V0UG9zaXRpb24obmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMCkpO1xuICAvLyB0aGlzLmVsbGlwc2UubWF0cml4LnNjYWxlKG5ldyBUSFJFRS5WZWN0b3IzKDEwLCA1LCAxKSk7XG4gIC8vIHRoaXMuZWxsaXBzZS5tYXRyaXhBdXRvVXBkYXRlID0gZmFsc2U7XG5cbiAgdGhpcy5hbmdsZSA9IDA7XG5cbiAgdGhpcy5zY2VuZS5hZGQodGhpcy50aHJlZUJvZHkpO1xuICB0aGlzLnNjZW5lLmFkZCh0aGlzLmVsbGlwc2UpO1xuICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gIHRoaXMub3JiaXRDb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKHRoaXMuY2FtZXJhLCB0aGlzLnNjZW5lLmRvbUVsZW1lbnQpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cblRlc3RpbmdSZW5kZXJlci5wcm90b3R5cGUudmlld1dpbGxBcHBlYXIgPSBmdW5jdGlvbiAoKSB7fTtcblRlc3RpbmdSZW5kZXJlci5wcm90b3R5cGUudmlld1dpbGxEaXNhcHBlYXIgPSBmdW5jdGlvbiAoKSB7fTtcblxuVGVzdGluZ1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoc29sYXJTeXN0ZW0pIHtcblxuICBsZXQgdGhyZWVCb2R5ID0gdGhpcy50aHJlZUJvZHk7XG4gIHRocmVlQm9keS5wb3NpdGlvbi5zZXQoMTAgKiBNYXRoLmNvcyh0aGlzLmFuZ2xlKSwgNSAqIE1hdGguc2luKHRoaXMuYW5nbGUpLCAwKTtcblxuICBsZXQgc2NhbGVkUG9zaXRpb24gPSBuZXcgVEhSRUUuVmVjdG9yMygpXG4gICAgLmNvcHkodGhyZWVCb2R5LnBvc2l0aW9uKVxuICAgIC5tdWx0aXBseShuZXcgVEhSRUUuVmVjdG9yMygxIC8gMTAsIDEgLyA1LCAxKSk7XG5cbiAgLy8gbGV0IG5ld1ZlcnRpY2VzID0gW107XG4gIC8vIGxldCBhbmdsZSA9IHRoaXMuYW5nbGU7XG4gIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gIC8vXG4gIC8vICAgbGV0IHZlcnRleCA9IG5ldyBUSFJFRS5WZWN0b3IzKDEwICogTWF0aC5jb3MoYW5nbGUpLCA1ICogTWF0aC5zaW4oYW5nbGUpLCAwKTtcbiAgLy8gICBuZXdWZXJ0aWNlcy5wdXNoKHZlcnRleCk7XG4gIC8vICAgYW5nbGUgKz0gMiAqIE1hdGguUEkgLyA4O1xuICAvLyB9XG4gIC8vXG4gIC8vXG5cbiAgY29uc3QgZ2VvbWV0cnkgPSB0aGlzLmVsbGlwc2UuZ2VvbWV0cnk7XG4gIGNvbnN0IHBvc2l0aW9ucyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24uYXJyYXk7XG4gIGNvbnN0IHJhbmdlID0gTWF0aC5mbG9vcihwb3NpdGlvbnMubGVuZ3RoIC8gMyAvIDIpO1xuICBjb25zdCB2ZXJ0aWNlc1RvVGVzdCA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2U7IGkrKykge1xuICAgIGNvbnN0IG9mZnNldCA9IChpICogMiArIDEpICogMztcbiAgICB2ZXJ0aWNlc1RvVGVzdC5wdXNoKG5ldyBUSFJFRS5WZWN0b3IzKHRoaXMub3JpZ2luYWxWZXJ0aWNlc1tvZmZzZXRdLFxuICAgICAgdGhpcy5vcmlnaW5hbFZlcnRpY2VzW29mZnNldCArIDFdLCB0aGlzLm9yaWdpbmFsVmVydGljZXNbb2Zmc2V0ICsgMl0pKTtcbiAgfTtcblxuICBjb25zdCBzb3J0ZWQgPSB2ZXJ0aWNlc1RvVGVzdC5tYXAoKHZlcnRleCwgaWR4KSA9PiBbdmVydGV4LmRpc3RhbmNlVG8oc2NhbGVkUG9zaXRpb24pLCB2ZXJ0ZXgsIGlkeF0pXG4gICAgLnNvcnQoKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgICByZXR1cm4gbGVmdFswXSAtIHJpZ2h0WzBdO1xuICAgIH0pO1xuXG4gIHNvcnRlZC5mb3JFYWNoKChlbGVtZW50LCBpZHgpID0+IHtcbiAgICBsZXQgdmVydGV4ID0gZWxlbWVudFsxXTtcbiAgICBsZXQgb2Zmc2V0ID0gKGVsZW1lbnRbMl0gKiAyICsgMSkgKiAzO1xuICAgIGlmIChpZHggPT0gMCkge1xuICAgICAgcG9zaXRpb25zW29mZnNldF0gPSBzY2FsZWRQb3NpdGlvbi54O1xuICAgICAgcG9zaXRpb25zW29mZnNldCArIDFdID0gc2NhbGVkUG9zaXRpb24ueVxuICAgICAgcG9zaXRpb25zW29mZnNldCArIDJdID0gc2NhbGVkUG9zaXRpb24uejtcbiAgICB9IGVsc2Uge1xuICAgICAgcG9zaXRpb25zW29mZnNldF0gPSB0aGlzLm9yaWdpbmFsVmVydGljZXNbb2Zmc2V0XTtcbiAgICAgIHBvc2l0aW9uc1tvZmZzZXQgKyAxXSA9IHRoaXMub3JpZ2luYWxWZXJ0aWNlc1tvZmZzZXQgKyAxXTtcbiAgICAgIHBvc2l0aW9uc1tvZmZzZXQgKyAyXSA9IHRoaXMub3JpZ2luYWxWZXJ0aWNlc1tvZmZzZXQgKyAyXTtcbiAgICB9XG4gIH0pO1xuXG4gIGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb24ubmVlZHNVcGRhdGUgPSB0cnVlO1xuXG4gIC8vdGhpcy5lbGxpcHNlLnVwZGF0ZU1hdHJpeCgpO1xuICAvL3RoaXMuZWxsaXBzZS5nZW9tZXRyeS5zZXREcmF3UmFuZ2UoMCwgdmVydGljZXMubGVuZ3RoKVxuXG4gIC8vIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih0aHJlZUJvZHkucG9zaXRpb24ueSwgdGhyZWVCb2R5LnBvc2l0aW9uLngpIC0gTWF0aC5hdGFuMihjbG9zZXN0LnksIGNsb3Nlc3QueCk7XG4gIC8vdGhpcy5yaW5nQm9keS5zY2FsZS5zZXQoMTAsIDUsIDEpO1xuICAvL3RoaXMucmluZ0JvZHkucm90YXRpb24uc2V0KDAsIDAsIDApO1xuICAvL3RoaXMucmluZ0JvZHkucm90YXRlWihhbmdsZSk7XG4gIHRoaXMuYW5nbGUgKz0gTWF0aC5QSSAvIDI1NjtcbiAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVGVzdGluZ1JlbmRlcmVyO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hcHAvVGVzdGluZ1JlbmRlcmVyLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBREE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQURBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(124);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(140)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./styles.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./styles.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9zdHlsZXMuY3NzPzQyYzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N0eWxlcy5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zdHlsZXMuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9jc3Mvc3R5bGVzLmNzc1xuLy8gbW9kdWxlIGlkID0gMTIwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _three = __webpack_require__(1);\n\nvar _Bodies = __webpack_require__(2);\n\nvar _ode45CashKarp = __webpack_require__(139);\n\nvar _ode45CashKarp2 = _interopRequireDefault(_ode45CashKarp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction RK4Integrator(bodies, attractors, t, dt, position_fn) {\n\n  var state = [];\n  var idxMap = {};\n  bodies.forEach(function (body) {\n    /**\n     * Setup the state vector for the integration step.\n     */\n    idxMap[body.name] = state.length;\n    state.push(body.derived.position.x, body.derived.position.y, body.derived.position.z, body.derived.velocity.x, body.derived.velocity.y, body.derived.velocity.z);\n  });\n\n  this.bodies = bodies;\n  this.attractors = attractors;\n  this.idxMap = idxMap;\n  this.integrator = new _ode45CashKarp2.default(state, function apply_step(dydt, y, t) {\n\n    /**\n     */\n    bodies.forEach(function (body) {\n      var offset = idxMap[body.name];\n      dydt[offset + 0] = y[offset + 3];\n      dydt[offset + 1] = y[offset + 4];\n      dydt[offset + 2] = y[offset + 5];\n    });\n\n    /**\n     * Now calculate the acceleration experienced by each object, and set that as the\n     * change in velocity\n     */\n    bodies.forEach(function (body, idx, array) {\n\n      /**\n       * Calculate the sum of forces acting on this object (a = F / m = - GM / r^2)\n       */\n      var offset = idxMap[body.name];\n      var position = new _three.Vector3(y[offset + 0], y[offset + 1], y[offset + 2]);\n      var acceleration = new _three.Vector3();\n\n      attractors.forEach(function (attractor) {\n        var attractorPosition = position_fn(attractor, t).position;\n\n        var r = new _three.Vector3().subVectors(position, attractorPosition);\n        var distance = r.lengthSq();\n        acceleration.add(r.normalize().negate().multiplyScalar(attractor.constants.u / distance));\n      });\n\n      dydt[offset + 3] = acceleration.x;\n      dydt[offset + 4] = acceleration.y;\n      dydt[offset + 5] = acceleration.z;\n    });\n  }, t, dt);\n};\n\nRK4Integrator.prototype.step = function () {\n  var _this = this;\n\n  this.integrator.step();\n  this.bodies.forEach(function (body) {\n    if (body.type !== _Bodies.FIXED_TYPE) {\n      var offset = _this.idxMap[body.name];\n      var position = new _three.Vector3(_this.integrator.y[offset + 0], _this.integrator.y[offset + 1], _this.integrator.y[offset + 2]);\n      var velocity = new _three.Vector3(_this.integrator.y[offset + 3], _this.integrator.y[offset + 4], _this.integrator.y[offset + 5]);\n\n      body.derived.position = position;\n      body.derived.velocity = velocity;\n    }\n  });\n};\n\nexports.default = RK4Integrator;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvaW50ZWdyYXRvcnMvUks0SW50ZWdyYXRvci5qcz83Yzg5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFZlY3RvcjNcbn0gZnJvbSAndGhyZWUnO1xuaW1wb3J0IHtcbiAgRklYRURfVFlQRVxufSBmcm9tICcuLi9Cb2RpZXMnO1xuXG5pbXBvcnQgSW50ZWdyYXRvciBmcm9tICdvZGU0NS1jYXNoLWthcnAnO1xuXG5mdW5jdGlvbiBSSzRJbnRlZ3JhdG9yKGJvZGllcywgYXR0cmFjdG9ycywgdCwgZHQsIHBvc2l0aW9uX2ZuKSB7XG5cbiAgY29uc3Qgc3RhdGUgPSBbXTtcbiAgY29uc3QgaWR4TWFwID0ge307XG4gIGJvZGllcy5mb3JFYWNoKChib2R5KSA9PiB7XG4gICAgLyoqXG4gICAgICogU2V0dXAgdGhlIHN0YXRlIHZlY3RvciBmb3IgdGhlIGludGVncmF0aW9uIHN0ZXAuXG4gICAgICovXG4gICAgaWR4TWFwW2JvZHkubmFtZV0gPSBzdGF0ZS5sZW5ndGg7XG4gICAgc3RhdGUucHVzaChcbiAgICAgIGJvZHkuZGVyaXZlZC5wb3NpdGlvbi54LFxuICAgICAgYm9keS5kZXJpdmVkLnBvc2l0aW9uLnksXG4gICAgICBib2R5LmRlcml2ZWQucG9zaXRpb24ueixcbiAgICAgIGJvZHkuZGVyaXZlZC52ZWxvY2l0eS54LFxuICAgICAgYm9keS5kZXJpdmVkLnZlbG9jaXR5LnksXG4gICAgICBib2R5LmRlcml2ZWQudmVsb2NpdHkueik7XG4gIH0pO1xuXG4gIHRoaXMuYm9kaWVzID0gYm9kaWVzO1xuICB0aGlzLmF0dHJhY3RvcnMgPSBhdHRyYWN0b3JzO1xuICB0aGlzLmlkeE1hcCA9IGlkeE1hcDtcbiAgdGhpcy5pbnRlZ3JhdG9yID0gbmV3IEludGVncmF0b3Ioc3RhdGUsIGZ1bmN0aW9uIGFwcGx5X3N0ZXAoZHlkdCwgeSwgdCkge1xuXG4gICAgLyoqXG4gICAgICovXG4gICAgYm9kaWVzLmZvckVhY2goKGJvZHkpID0+IHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IGlkeE1hcFtib2R5Lm5hbWVdO1xuICAgICAgZHlkdFtvZmZzZXQgKyAwXSA9IHlbb2Zmc2V0ICsgM107XG4gICAgICBkeWR0W29mZnNldCArIDFdID0geVtvZmZzZXQgKyA0XTtcbiAgICAgIGR5ZHRbb2Zmc2V0ICsgMl0gPSB5W29mZnNldCArIDVdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogTm93IGNhbGN1bGF0ZSB0aGUgYWNjZWxlcmF0aW9uIGV4cGVyaWVuY2VkIGJ5IGVhY2ggb2JqZWN0LCBhbmQgc2V0IHRoYXQgYXMgdGhlXG4gICAgICogY2hhbmdlIGluIHZlbG9jaXR5XG4gICAgICovXG4gICAgYm9kaWVzLmZvckVhY2goKGJvZHksIGlkeCwgYXJyYXkpID0+IHtcblxuICAgICAgLyoqXG4gICAgICAgKiBDYWxjdWxhdGUgdGhlIHN1bSBvZiBmb3JjZXMgYWN0aW5nIG9uIHRoaXMgb2JqZWN0IChhID0gRiAvIG0gPSAtIEdNIC8gcl4yKVxuICAgICAgICovXG4gICAgICBjb25zdCBvZmZzZXQgPSBpZHhNYXBbYm9keS5uYW1lXTtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gbmV3IFZlY3RvcjMoXG4gICAgICAgIHlbb2Zmc2V0ICsgMF0sXG4gICAgICAgIHlbb2Zmc2V0ICsgMV0sXG4gICAgICAgIHlbb2Zmc2V0ICsgMl0sXG4gICAgICApO1xuICAgICAgY29uc3QgYWNjZWxlcmF0aW9uID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgYXR0cmFjdG9ycy5mb3JFYWNoKChhdHRyYWN0b3IpID0+IHtcbiAgICAgICAgY29uc3QgYXR0cmFjdG9yUG9zaXRpb24gPSBwb3NpdGlvbl9mbihhdHRyYWN0b3IsIHQpXG4gICAgICAgICAgLnBvc2l0aW9uO1xuXG4gICAgICAgIGNvbnN0IHIgPSBuZXcgVmVjdG9yMygpXG4gICAgICAgICAgLnN1YlZlY3RvcnMocG9zaXRpb24sIGF0dHJhY3RvclBvc2l0aW9uKTtcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSByLmxlbmd0aFNxKCk7XG4gICAgICAgIGFjY2VsZXJhdGlvbi5hZGQoci5ub3JtYWxpemUoKVxuICAgICAgICAgIC5uZWdhdGUoKVxuICAgICAgICAgIC5tdWx0aXBseVNjYWxhcihhdHRyYWN0b3IuY29uc3RhbnRzLnUgLyBkaXN0YW5jZSkpO1xuICAgICAgfSk7XG5cbiAgICAgIGR5ZHRbb2Zmc2V0ICsgM10gPSBhY2NlbGVyYXRpb24ueDtcbiAgICAgIGR5ZHRbb2Zmc2V0ICsgNF0gPSBhY2NlbGVyYXRpb24ueTtcbiAgICAgIGR5ZHRbb2Zmc2V0ICsgNV0gPSBhY2NlbGVyYXRpb24uejtcbiAgICB9KTtcbiAgfSwgdCwgZHQpO1xufTtcblxuUks0SW50ZWdyYXRvci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pbnRlZ3JhdG9yLnN0ZXAoKTtcbiAgdGhpcy5ib2RpZXMuZm9yRWFjaCgoYm9keSkgPT4ge1xuICAgIGlmIChib2R5LnR5cGUgIT09IEZJWEVEX1RZUEUpIHtcbiAgICAgIGNvbnN0IG9mZnNldCA9IHRoaXMuaWR4TWFwW2JvZHkubmFtZV07XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IG5ldyBWZWN0b3IzKFxuICAgICAgICB0aGlzLmludGVncmF0b3IueVtvZmZzZXQgKyAwXSxcbiAgICAgICAgdGhpcy5pbnRlZ3JhdG9yLnlbb2Zmc2V0ICsgMV0sXG4gICAgICAgIHRoaXMuaW50ZWdyYXRvci55W29mZnNldCArIDJdLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHZlbG9jaXR5ID0gbmV3IFZlY3RvcjMoXG4gICAgICAgIHRoaXMuaW50ZWdyYXRvci55W29mZnNldCArIDNdLFxuICAgICAgICB0aGlzLmludGVncmF0b3IueVtvZmZzZXQgKyA0XSxcbiAgICAgICAgdGhpcy5pbnRlZ3JhdG9yLnlbb2Zmc2V0ICsgNV0sXG4gICAgICApO1xuXG4gICAgICBib2R5LmRlcml2ZWQucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgIGJvZHkuZGVyaXZlZC52ZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBSSzRJbnRlZ3JhdG9yO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hcHAvaW50ZWdyYXRvcnMvUks0SW50ZWdyYXRvci5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/**\n * Limit the input to be between [-1, 1].\n */\nMath.safeAcos = function (rads) {\n\n  var enableLogging = false;\n\n  var input = rads;\n  if (input < -1) {\n    enableLogging && console.warn(\"Setting rads = \" + rads + \" to -1\");\n    input = -1;\n  } else if (input > 1) {\n    enableLogging && console.warn(\"Setting rads = \" + rads + \" to 1\");\n    input = 1;\n  }\n\n  return Math.acos(input);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvdXRpbC9NYXRoRXh0ZW5zaW9ucy5qcz80ZWY4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGltaXQgdGhlIGlucHV0IHRvIGJlIGJldHdlZW4gWy0xLCAxXS5cbiAqL1xuTWF0aC5zYWZlQWNvcyA9IGZ1bmN0aW9uIChyYWRzKSB7XG5cbiAgY29uc3QgZW5hYmxlTG9nZ2luZyA9IGZhbHNlO1xuXG4gIGxldCBpbnB1dCA9IHJhZHM7XG4gIGlmIChpbnB1dCA8IC0xKSB7XG4gICAgZW5hYmxlTG9nZ2luZyAmJiBjb25zb2xlLndhcm4oYFNldHRpbmcgcmFkcyA9ICR7cmFkc30gdG8gLTFgKTtcbiAgICBpbnB1dCA9IC0xO1xuICB9IGVsc2UgaWYgKGlucHV0ID4gMSkge1xuICAgIGVuYWJsZUxvZ2dpbmcgJiYgY29uc29sZS53YXJuKGBTZXR0aW5nIHJhZHMgPSAke3JhZHN9IHRvIDFgKTtcbiAgICBpbnB1dCA9IDE7XG4gIH1cblxuICByZXR1cm4gTWF0aC5hY29zKGlucHV0KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL3V0aWwvTWF0aEV4dGVuc2lvbnMuanMiXSwibWFwcGluZ3MiOiI7O0FBQUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nString.prototype.escapeHtml = function () {\n  return this.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n};\n\nString.prototype.paddingLeft = function (paddingValue) {\n  return String(paddingValue + this).slice(-paddingValue.length);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9hcHAvdXRpbC9TdHJpbmdFeHRlbnNpb25zLmpzP2EwYzMiXSwic291cmNlc0NvbnRlbnQiOlsiU3RyaW5nLnByb3RvdHlwZS5lc2NhcGVIdG1sID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAucmVwbGFjZSgvPC9nLCBcIiZsdDtcIilcbiAgICAucmVwbGFjZSgvPi9nLCBcIiZndDtcIilcbiAgICAucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIilcbiAgICAucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcbn07XG5cblN0cmluZy5wcm90b3R5cGUucGFkZGluZ0xlZnQgPSBmdW5jdGlvbiAocGFkZGluZ1ZhbHVlKSB7XG4gIHJldHVybiBTdHJpbmcocGFkZGluZ1ZhbHVlICsgdGhpcylcbiAgICAuc2xpY2UoLXBhZGRpbmdWYWx1ZS5sZW5ndGgpO1xufTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYXBwL3V0aWwvU3RyaW5nRXh0ZW5zaW9ucy5qcyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(125)();\n// imports\n\n\n// module\nexports.push([module.i, \"* {\\n    margin: 0;\\n    padding: 0;\\n}\\n\\nhtml, body {\\n    width: 100%;\\n    height: 100%;\\n}\\n\\n#camera-view canvas {\\n    display: block;\\n}\\n\\n#map-view canvas {\\n    display: block;\\n}\\n\\n#hud {\\n    position: absolute;\\n    top: 0px;\\n    left: 0px;\\n    height: 100%;\\n    opacity: 0.6;\\n    z-index: 100;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-around;\\n}\\n\\n.hud-overlay {\\n    flex: 0 1 auto;\\n    display: flex;\\n    flex-direction: column;\\n    border-radius: 10px;\\n    border-style: ridge;\\n    background-color: lightgray;\\n    padding-top: 5px;\\n    padding-bottom: 5px;\\n    padding-left: 10px;\\n    padding-right: 10px;\\n}\\n\\n.hud-overlay .title {\\n    flex: 1 1 auto;\\n    text-align: center;\\n}\\n\\n#warp {\\n    display: flex;\\n    flex-direction: row;\\n    margin-bottom: 3px;\\n}\\n\\n#warp-values {\\n    display: flex;\\n    flex-direction: row;\\n    flex: 0 1 auto;\\n}\\n\\n#warp-description {\\n    flex: 0 1 auto;\\n}\\n\\n#time {\\n    flex: 0 1 auto;\\n}\\n\\n.warp-enabled {\\n    width: 0;\\n    height: 0;\\n    border-top: 7px solid transparent;\\n    border-bottom: 7px solid transparent;\\n    border-left: 12.124px solid green;\\n    margin-right: 3px;\\n}\\n\\n.warp-disabled {\\n    width: 0;\\n    height: 0;\\n    border-top: 7px solid transparent;\\n    border-bottom: 7px solid transparent;\\n    border-left: 12.124px solid white;\\n    margin-right: 3px;\\n}\\n\\n.orbital-entry {\\n    flex: 0 1 auto;\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-between;\\n}\\n\\n.orbital-entry .label {\\n    flex: 0 1 auto;\\n    padding-right: 10px;\\n}\\n\\n.orbital-entry .value {\\n    flex: 0 1 auto;\\n}\\n\\n#orbital-name {\\n    text-transform: capitalize;\\n}\\n\\n#orbital-primary {\\n    text-transform: capitalize;\\n}\\n\\n.key-entry {\\n    flex: 0 1 auto;\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n}\\n\\n.key-entry .keys {\\n    flex: 0 1 auto;\\n    display: flex;\\n    flex-direction: row;\\n}\\n\\n.keys .key {\\n    flex: 0 1 auto;\\n    margin-top: 5px;\\n    margin-bottom: 5px;\\n    border: black;\\n    border-width: 3px;\\n    border-style: outset;\\n    border-color: lightgrey;\\n    background-color: white;\\n    padding-right: 3px;\\n    padding-left: 3px;\\n    font-size: x-large;\\n}\\n\\n.keys .key+.key {\\n    margin-left: 5px;\\n}\\n\\n.key-entry .description {\\n    flex: 1 1 auto;\\n    padding-left: 5px;\\n}\\n\\n#stats {\\n    text-align: center;\\n    opacity: 0.9;\\n}\\n\\n#stats-overlay {\\n    flex: 0 1 auto;\\n    border-radius: 0px;\\n    border-style: none;\\n    background-color: unset;\\n    opacity: 1.0;\\n}\\n\", \"\"]);\n\n// exports\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2Nzcy9zdHlsZXMuY3NzPzZiZmQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqIHtcXG4gICAgbWFyZ2luOiAwO1xcbiAgICBwYWRkaW5nOiAwO1xcbn1cXG5cXG5odG1sLCBib2R5IHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXFxuI2NhbWVyYS12aWV3IGNhbnZhcyB7XFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4jbWFwLXZpZXcgY2FudmFzIHtcXG4gICAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbiNodWQge1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogMHB4O1xcbiAgICBsZWZ0OiAwcHg7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgb3BhY2l0eTogMC42O1xcbiAgICB6LWluZGV4OiAxMDA7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbn1cXG5cXG4uaHVkLW92ZXJsYXkge1xcbiAgICBmbGV4OiAwIDEgYXV0bztcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcXG4gICAgYm9yZGVyLXN0eWxlOiByaWRnZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmF5O1xcbiAgICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcblxcbi5odWQtb3ZlcmxheSAudGl0bGUge1xcbiAgICBmbGV4OiAxIDEgYXV0bztcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4jd2FycCB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIG1hcmdpbi1ib3R0b206IDNweDtcXG59XFxuXFxuI3dhcnAtdmFsdWVzIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgZmxleDogMCAxIGF1dG87XFxufVxcblxcbiN3YXJwLWRlc2NyaXB0aW9uIHtcXG4gICAgZmxleDogMCAxIGF1dG87XFxufVxcblxcbiN0aW1lIHtcXG4gICAgZmxleDogMCAxIGF1dG87XFxufVxcblxcbi53YXJwLWVuYWJsZWQge1xcbiAgICB3aWR0aDogMDtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBib3JkZXItdG9wOiA3cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgIGJvcmRlci1ib3R0b206IDdweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gICAgYm9yZGVyLWxlZnQ6IDEyLjEyNHB4IHNvbGlkIGdyZWVuO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcXG59XFxuXFxuLndhcnAtZGlzYWJsZWQge1xcbiAgICB3aWR0aDogMDtcXG4gICAgaGVpZ2h0OiAwO1xcbiAgICBib3JkZXItdG9wOiA3cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAgIGJvcmRlci1ib3R0b206IDdweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gICAgYm9yZGVyLWxlZnQ6IDEyLjEyNHB4IHNvbGlkIHdoaXRlO1xcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcXG59XFxuXFxuLm9yYml0YWwtZW50cnkge1xcbiAgICBmbGV4OiAwIDEgYXV0bztcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbn1cXG5cXG4ub3JiaXRhbC1lbnRyeSAubGFiZWwge1xcbiAgICBmbGV4OiAwIDEgYXV0bztcXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcXG59XFxuXFxuLm9yYml0YWwtZW50cnkgLnZhbHVlIHtcXG4gICAgZmxleDogMCAxIGF1dG87XFxufVxcblxcbiNvcmJpdGFsLW5hbWUge1xcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcXG59XFxuXFxuI29yYml0YWwtcHJpbWFyeSB7XFxuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xcbn1cXG5cXG4ua2V5LWVudHJ5IHtcXG4gICAgZmxleDogMCAxIGF1dG87XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5rZXktZW50cnkgLmtleXMge1xcbiAgICBmbGV4OiAwIDEgYXV0bztcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG59XFxuXFxuLmtleXMgLmtleSB7XFxuICAgIGZsZXg6IDAgMSBhdXRvO1xcbiAgICBtYXJnaW4tdG9wOiA1cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcXG4gICAgYm9yZGVyOiBibGFjaztcXG4gICAgYm9yZGVyLXdpZHRoOiAzcHg7XFxuICAgIGJvcmRlci1zdHlsZTogb3V0c2V0O1xcbiAgICBib3JkZXItY29sb3I6IGxpZ2h0Z3JleTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICAgIHBhZGRpbmctcmlnaHQ6IDNweDtcXG4gICAgcGFkZGluZy1sZWZ0OiAzcHg7XFxuICAgIGZvbnQtc2l6ZTogeC1sYXJnZTtcXG59XFxuXFxuLmtleXMgLmtleSsua2V5IHtcXG4gICAgbWFyZ2luLWxlZnQ6IDVweDtcXG59XFxuXFxuLmtleS1lbnRyeSAuZGVzY3JpcHRpb24ge1xcbiAgICBmbGV4OiAxIDEgYXV0bztcXG4gICAgcGFkZGluZy1sZWZ0OiA1cHg7XFxufVxcblxcbiNzdGF0cyB7XFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgb3BhY2l0eTogMC45O1xcbn1cXG5cXG4jc3RhdHMtb3ZlcmxheSB7XFxuICAgIGZsZXg6IDAgMSBhdXRvO1xcbiAgICBib3JkZXItcmFkaXVzOiAwcHg7XFxuICAgIGJvcmRlci1zdHlsZTogbm9uZTtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7XFxuICAgIG9wYWNpdHk6IDEuMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9zcmMvY3NzL3N0eWxlcy5jc3Ncbi8vIG1vZHVsZSBpZCA9IDEyNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 125 */
/***/ (function(module, exports) {

eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcz9kYTA0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDEyNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 126 */
/***/ (function(module, exports) {

eval("module.exports = \"img/earthmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9lYXJ0aG1hcC5qcGc/ZTQ3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiaW1nL2VhcnRobWFwLmpwZ1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2ltZy9lYXJ0aG1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEyNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 127 */
/***/ (function(module, exports) {

eval("module.exports = \"img/jupitermap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9qdXBpdGVybWFwLmpwZz9jY2I1Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJpbWcvanVwaXRlcm1hcC5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWcvanVwaXRlcm1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEyN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 128 */
/***/ (function(module, exports) {

eval("module.exports = \"img/lensflare.png\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI4LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9sZW5zZmxhcmUucG5nPzQ4NzkiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImltZy9sZW5zZmxhcmUucG5nXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW1nL2xlbnNmbGFyZS5wbmdcbi8vIG1vZHVsZSBpZCA9IDEyOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 129 */
/***/ (function(module, exports) {

eval("module.exports = \"img/marsmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9tYXJzbWFwLmpwZz9kMWVhIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJpbWcvbWFyc21hcC5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWcvbWFyc21hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 130 */
/***/ (function(module, exports) {

eval("module.exports = \"img/mercurymap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9tZXJjdXJ5bWFwLmpwZz83NjYyIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJpbWcvbWVyY3VyeW1hcC5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWcvbWVyY3VyeW1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 131 */
/***/ (function(module, exports) {

eval("module.exports = \"img/moonmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9tb29ubWFwLmpwZz81NTA5Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJpbWcvbW9vbm1hcC5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWcvbW9vbm1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 132 */
/***/ (function(module, exports) {

eval("module.exports = \"img/neptunemap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9uZXB0dW5lbWFwLmpwZz9jY2FmIl0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gXCJpbWcvbmVwdHVuZW1hcC5qcGdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9pbWcvbmVwdHVuZW1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 133 */
/***/ (function(module, exports) {

eval("module.exports = \"img/plutomap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9wbHV0b21hcC5qcGc/ZjU3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiaW1nL3BsdXRvbWFwLmpwZ1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2ltZy9wbHV0b21hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 134 */
/***/ (function(module, exports) {

eval("module.exports = \"img/saturnmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9zYXR1cm5tYXAuanBnPzJjYWMiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImltZy9zYXR1cm5tYXAuanBnXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW1nL3NhdHVybm1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzNFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 135 */
/***/ (function(module, exports) {

eval("module.exports = \"img/sunmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM1LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy9zdW5tYXAuanBnP2IyMTciXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImltZy9zdW5tYXAuanBnXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW1nL3N1bm1hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 136 */
/***/ (function(module, exports) {

eval("module.exports = \"img/uranusmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy91cmFudXNtYXAuanBnPzY1YzUiXSwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBcImltZy91cmFudXNtYXAuanBnXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW1nL3VyYW51c21hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 137 */
/***/ (function(module, exports) {

eval("module.exports = \"img/venusmap.jpg\";//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM3LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2ltZy92ZW51c21hcC5qcGc/YWE2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFwiaW1nL3ZlbnVzbWFwLmpwZ1wiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2ltZy92ZW51c21hcC5qcGdcbi8vIG1vZHVsZSBpZCA9IDEzN1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 138 */,
/* 139 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nmodule.exports = IntegratorFactory\n\nfunction defaultErrorScaleFunction( i, dt, y, dydt ) {\n  return Math.abs(y) + Math.abs(dt * dydt) + 1e-32\n}\n\nfunction defaultErrorReduceFunction( i, accumulatedError, errorEstimate ) {\n  return Math.max( accumulatedError, Math.abs(errorEstimate))\n}\n\nfunction defaultErrorPostFunction( accumulatedError ) {\n  return accumulatedError\n}\n\nvar Integrator = function Integrator( y0, deriv, t0, dt0, options ) {\n\n  var opts = options || {}\n  this.tol = opts.tol===undefined ? 1e-8 : opts.tol\n  this.maxIncreaseFactor = opts.maxIncreaseFactor===undefined ? 10 : opts.maxIncreaseFactor\n  this.maxDecreaseFactor = opts.maxDecreaseFactor===undefined ? 10 : opts.maxDecreaseFactor\n  this.dtMinMag = opts.dtMinMag===undefined ? 0 : Math.abs(opts.dtMinMag)\n  this.dtMaxMag = opts.dtMaxMag===undefined ? undefined : Math.abs(opts.dtMaxMag)\n\n  this.errorScaleFunction = opts.errorScaleFunction === undefined ? defaultErrorScaleFunction : opts.errorScaleFunction\n  this.errorReduceFunction = opts.errorReduceFunction === undefined ? defaultErrorReduceFunction : opts.errorReduceFunction\n  this.errorPostFunction = opts.errorPostFunction === undefined ? defaultErrorPostFunction : opts.errorPostFunction\n\n  // This is technically a parameter, but I think the value of leaving this undocumented exceeds the\n  // value of documenting this and only adding confusion. I can't imagine this will even need to be\n  // modified.\n  this.safetyFactor = opts.safetyFactor===undefined ? 0.9 : opts.safetyFactor\n\n  // Bind variables to this:\n  this.deriv = deriv\n  this.y = y0\n  this.n = this.y.length\n  this.dt = dt0\n  this.t = t0\n\n  // Create a scratch array into which we compute the derivative:\n  this._ctor = this.y.constructor\n\n  this._errorScale = new this._ctor( this.n )\n  this._w = new this._ctor( this.n )\n  this._k1 = new this._ctor( this.n )\n  this._k2 = new this._ctor( this.n )\n  this._k3 = new this._ctor( this.n )\n  this._k4 = new this._ctor( this.n )\n  this._k5 = new this._ctor( this.n )\n  this._k6 = new this._ctor( this.n )\n}\n\nIntegrator.prototype._calculateK1 = function() {\n  this.deriv( this._k1, this.y, this.t )\n\n  return this\n}\n\nIntegrator.prototype._calculateKs = function() {\n  var i\n\n  //var a21 =  0.200000000000000000 // 1/5\n  //var a31 =  0.075000000000000000 // 3/40\n  //var a32 =  0.225000000000000000 // 9/40\n  //var a41 =  0.300000000000000000 // 3/10\n  //var a42 = -0.900000000000000000 // -9/10\n  //var a43 =  1.200000000000000000 // 6/5\n  //var a51 = -0.203703703703703703 // -11/54\n  //var a52 =  2.500000000000000000 // 5/2\n  //var a53 = -2.592592592592592592 // -70/27\n  //var a54 =  1.296296296296296296 // 35/27\n  //var a61 =  0.029495804398148148 // 1631/55296\n  //var a62 =  0.341796875000000000 // 175/512\n  //var a63 =  0.041594328703703703 // 575/13824\n  //var a64 =  0.400345413773148148 // 44275/110592\n  //var a65 =  0.061767578125000000 // 253/4096\n\n  //var b1  =  0.000000000000000000 // 0\n  //var b2  =  0.200000000000000000 // 1/5\n  //var b3  =  0.300000000000000000 // 3/10\n  //var b4  =  0.600000000000000000 // 3/5\n  //var b5  =  1.000000000000000000 // 1\n  //var b6  =  0.875000000000000000 // 7/8\n\n  // Same for every step, so don't repeat:\n  //this.deriv( this._k1, this.y, this.t )\n\n  for(i=0; i<this.n; i++) {\n    this._w[i] = this.y[i] + this.dt * (\n      0.2 * this._k1[i] )\n  }\n\n  this.deriv( this._k2, this._w, this.t + this.dt * 0.2 )\n\n  for(i=0; i<this.n; i++) {\n    this._w[i] = this.y[i] + this.dt * (\n      0.075 * this._k1[i] +\n      0.225 * this._k2[i] )\n  }\n\n  this.deriv( this._k3, this._w, this.t + this.dt * 0.3 )\n\n  for(i=0; i<this.n; i++) {\n    this._w[i] = this.y[i] + this.dt * (\n       0.3 * this._k1[i] +\n      -0.9 * this._k2[i] +\n       1.2 * this._k3[i] )\n  }\n\n  this.deriv( this._k4, this._w, this.t + this.dt * 0.6 )\n\n  for(i=0; i<this.n; i++) {\n    this._w[i] = this.y[i] + this.dt * (\n      -0.203703703703703703 * this._k1[i] +\n       2.5                  * this._k2[i] +\n      -2.592592592592592592 * this._k3[i] +\n       1.296296296296296296 * this._k4[i] )\n  }\n\n  this.deriv( this._k5, this._w, this.t + this.dt /* * b5 */ )\n\n  for(i=0; i<this.n; i++) {\n    this._w[i] = this.y[i] + this.dt * (\n      0.029495804398148148 * this._k1[i] +\n      0.341796875          * this._k2[i] +\n      0.041594328703703703 * this._k3[i] +\n      0.400345413773148148 * this._k4[i] +\n      0.061767578125       * this._k5[i] )\n  }\n\n  this.deriv( this._k6, this._w, this.t + this.dt * 0.875 )\n\n  return this\n}\n\nIntegrator.prototype._calculateError = function() {\n  //var cs1 =  0.102177372685185185 // 2825/27648\n  //var cs2 =  0.000000000000000000 // 0\n  //var cs3 =  0.383907903439153439 // 18575/48384\n  //var cs4 =  0.244592737268518518 // 13525/55296\n  //var cs5 =  0.019321986607142857 // 277/14336\n  //var cs6 =  0.250000000000000000 // 1/4\n\n  //var dc1 =  0.004293774801587301 // cs1 - c1\n  //var dc2 =  0.000000000000000000 // cs2 - c2\n  //var dc3 = -0.018668586093857832 // cs3 - c3\n  //var dc4 =  0.034155026830808080 // cs4 - c4\n  //var dc5 =  0.019321986607142857 // cs5 - c5\n  //var dc6 = -0.039102202145680406 // cs6 - c6\n\n  var error = 0\n  for(var i=0; i<this.n; i++) {\n    error =  this.errorReduceFunction( i, error,\n      this.dt * (\n         0.004293774801587301 * this._k1[i] +\n        -0.018668586093857832 * this._k3[i] +\n         0.034155026830808080 * this._k4[i] +\n         0.019321986607142857 * this._k5[i] +\n        -0.039102202145680406 * this._k6[i]\n      ) / this._errorScale[i]\n    )\n  }\n\n  return this.errorPostFunction(error)\n}\n\nIntegrator.prototype._update = function() {\n  //var c1  =  0.097883597883597883 // 37/378\n  //var c2  =  0.000000000000000000 // 0\n  //var c3  =  0.402576489533011272 // 250/621\n  //var c4  =  0.210437710437710437 // 125/594\n  //var c5  =  0.000000000000000000 // 0\n  //var c6  =  0.289102202145680406 // 512/1771\n\n  for(var i=0; i<this.n; i++) {\n    this.y[i] += this.dt * (\n      0.097883597883597883 * this._k1[i] +\n      0.402576489533011272 * this._k3[i] +\n      0.210437710437710437 * this._k4[i] +\n      0.289102202145680406 * this._k6[i]\n    )\n  }\n  this.t += this.dt\n  return this\n}\n\nIntegrator.prototype._calculateErrorScale = function() {\n  for(var i=0; i<this.n; i++) {\n    this._errorScale[i] = this.errorScaleFunction(i, this.dt, this.y[i], this._k1[i])\n  }\n  return this\n}\n\nIntegrator.prototype.step = function( tLimit ) {\n\n  var warned = false\n\n  // Don't integrate past a tLimit, if provided:\n  if( tLimit !== undefined ) {\n    this.dt = this.dt > 0 ? Math.min( tLimit - this.t, this.dt ) : Math.max( tLimit - this.t, this.dt )\n  }\n\n  // Limit the magnitude of dt to dtMaxMag\n  if( this.dtMaxMag !== undefined && Math.abs( this.dt ) > this.dtMaxMag ) {\n    console.log('ode45-cash-karp::step() step greater than maximum stepsize requested. dt magnitude has been limited.')\n    this.dt = this.dt > 0 ? this.dtMaxMag : -this.dtMaxMag\n  }\n\n  // Limit the magnitude of dt to dtMinMag\n  if( this.dtMinMag !== undefined && Math.abs( this.dt ) < this.dtMinMag ) {\n    console.log('ode45-cash-karp::step() step smaller than minimum stepsize requested. dt magnitude has been limited.')\n    this.dt = this.dt > 0 ? this.dtMinMag : -this.dtMinMag\n  }\n\n  // The first derivative doesn't change even if dt does, so only calculate this once:\n  this._calculateK1()\n\n  // The scale factor per-dimension probably doesn't need to change either across a single adaptive step:\n  this._calculateErrorScale()\n\n  var error = Infinity\n  var maxError = 0\n  var nextDt\n  var lowerDtLimitReached = false\n\n  while(true) {\n\n    // Calculate intermediate k's for the proposed step:\n    this._calculateKs()\n\n    // Calculate the max error of the proposed step:\n    error = this._calculateError()\n\n    if( error < this.tol || lowerDtLimitReached ) {\n      // Success! Exit:\n      break\n    }\n\n    if( ! Number.isFinite(error) ) {\n      throw new Error('ode45-cash-karp::step() NaN encountered while integrating.')\n    }\n\n    // Failure. Adapt the timestep:\n    nextDt = this.safetyFactor * this.dt * Math.pow( this.tol / error, 0.2 )\n\n    // Cut the timestep, but not by more than maxDecreaseFactor\n    this.dt = (this.dt > 0 ? Math.max : Math.min)( this.dt/this.maxDecreaseFactor, nextDt )\n\n    // If stepsize too small, finish off by taking the currently proposed step and logging a warning:\n    if( this.dtMinMag !== undefined && Math.abs(this.dt) < this.dtMinMag ) {\n      this.dt = this.dt > 0 ? this.dtMinMag : -this.dtMinMag\n      if( !warned ) {\n        console.log('ode45-cash-karp::step() minimum stepsize reached.')\n        warned = true\n      }\n      lowerDtLimitReached = true\n    }\n  }\n\n  // Apply this update:\n  this._update()\n\n  // Calculate the next timestep size:\n  nextDt = this.safetyFactor * this.dt * Math.pow( this.tol / error, 0.25 )\n\n  // Increase the timestep for the next time around, but not by more than the maxIncreaseFactor:\n  this.dt = (this.dt > 0 ? Math.min : Math.max)( this.dt * this.maxIncreaseFactor, nextDt )\n\n  if( tLimit !== undefined ) {\n    // If we hit the limit, return true\n    return this.t > this.t - Math.abs(this.dt)*1e-8\n  } else {\n    return true\n  }\n}\n\nIntegrator.prototype.steps = function( n, tLimit ) {\n  for(var step=0; step<n; step++) {\n    if( ! this.step(tLimit) ) return false\n  }\n}\n\nfunction IntegratorFactory( y0, deriv, t, dt, options ) {\n  return new Integrator( y0, deriv, t, dt, options )\n}\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9vZGU0NS1jYXNoLWthcnAvbGliL2luZGV4LmpzP2Q4MDciXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXG5cbm1vZHVsZS5leHBvcnRzID0gSW50ZWdyYXRvckZhY3RvcnlcblxuZnVuY3Rpb24gZGVmYXVsdEVycm9yU2NhbGVGdW5jdGlvbiggaSwgZHQsIHksIGR5ZHQgKSB7XG4gIHJldHVybiBNYXRoLmFicyh5KSArIE1hdGguYWJzKGR0ICogZHlkdCkgKyAxZS0zMlxufVxuXG5mdW5jdGlvbiBkZWZhdWx0RXJyb3JSZWR1Y2VGdW5jdGlvbiggaSwgYWNjdW11bGF0ZWRFcnJvciwgZXJyb3JFc3RpbWF0ZSApIHtcbiAgcmV0dXJuIE1hdGgubWF4KCBhY2N1bXVsYXRlZEVycm9yLCBNYXRoLmFicyhlcnJvckVzdGltYXRlKSlcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEVycm9yUG9zdEZ1bmN0aW9uKCBhY2N1bXVsYXRlZEVycm9yICkge1xuICByZXR1cm4gYWNjdW11bGF0ZWRFcnJvclxufVxuXG52YXIgSW50ZWdyYXRvciA9IGZ1bmN0aW9uIEludGVncmF0b3IoIHkwLCBkZXJpdiwgdDAsIGR0MCwgb3B0aW9ucyApIHtcblxuICB2YXIgb3B0cyA9IG9wdGlvbnMgfHwge31cbiAgdGhpcy50b2wgPSBvcHRzLnRvbD09PXVuZGVmaW5lZCA/IDFlLTggOiBvcHRzLnRvbFxuICB0aGlzLm1heEluY3JlYXNlRmFjdG9yID0gb3B0cy5tYXhJbmNyZWFzZUZhY3Rvcj09PXVuZGVmaW5lZCA/IDEwIDogb3B0cy5tYXhJbmNyZWFzZUZhY3RvclxuICB0aGlzLm1heERlY3JlYXNlRmFjdG9yID0gb3B0cy5tYXhEZWNyZWFzZUZhY3Rvcj09PXVuZGVmaW5lZCA/IDEwIDogb3B0cy5tYXhEZWNyZWFzZUZhY3RvclxuICB0aGlzLmR0TWluTWFnID0gb3B0cy5kdE1pbk1hZz09PXVuZGVmaW5lZCA/IDAgOiBNYXRoLmFicyhvcHRzLmR0TWluTWFnKVxuICB0aGlzLmR0TWF4TWFnID0gb3B0cy5kdE1heE1hZz09PXVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IE1hdGguYWJzKG9wdHMuZHRNYXhNYWcpXG5cbiAgdGhpcy5lcnJvclNjYWxlRnVuY3Rpb24gPSBvcHRzLmVycm9yU2NhbGVGdW5jdGlvbiA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEVycm9yU2NhbGVGdW5jdGlvbiA6IG9wdHMuZXJyb3JTY2FsZUZ1bmN0aW9uXG4gIHRoaXMuZXJyb3JSZWR1Y2VGdW5jdGlvbiA9IG9wdHMuZXJyb3JSZWR1Y2VGdW5jdGlvbiA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdEVycm9yUmVkdWNlRnVuY3Rpb24gOiBvcHRzLmVycm9yUmVkdWNlRnVuY3Rpb25cbiAgdGhpcy5lcnJvclBvc3RGdW5jdGlvbiA9IG9wdHMuZXJyb3JQb3N0RnVuY3Rpb24gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRFcnJvclBvc3RGdW5jdGlvbiA6IG9wdHMuZXJyb3JQb3N0RnVuY3Rpb25cblxuICAvLyBUaGlzIGlzIHRlY2huaWNhbGx5IGEgcGFyYW1ldGVyLCBidXQgSSB0aGluayB0aGUgdmFsdWUgb2YgbGVhdmluZyB0aGlzIHVuZG9jdW1lbnRlZCBleGNlZWRzIHRoZVxuICAvLyB2YWx1ZSBvZiBkb2N1bWVudGluZyB0aGlzIGFuZCBvbmx5IGFkZGluZyBjb25mdXNpb24uIEkgY2FuJ3QgaW1hZ2luZSB0aGlzIHdpbGwgZXZlbiBuZWVkIHRvIGJlXG4gIC8vIG1vZGlmaWVkLlxuICB0aGlzLnNhZmV0eUZhY3RvciA9IG9wdHMuc2FmZXR5RmFjdG9yPT09dW5kZWZpbmVkID8gMC45IDogb3B0cy5zYWZldHlGYWN0b3JcblxuICAvLyBCaW5kIHZhcmlhYmxlcyB0byB0aGlzOlxuICB0aGlzLmRlcml2ID0gZGVyaXZcbiAgdGhpcy55ID0geTBcbiAgdGhpcy5uID0gdGhpcy55Lmxlbmd0aFxuICB0aGlzLmR0ID0gZHQwXG4gIHRoaXMudCA9IHQwXG5cbiAgLy8gQ3JlYXRlIGEgc2NyYXRjaCBhcnJheSBpbnRvIHdoaWNoIHdlIGNvbXB1dGUgdGhlIGRlcml2YXRpdmU6XG4gIHRoaXMuX2N0b3IgPSB0aGlzLnkuY29uc3RydWN0b3JcblxuICB0aGlzLl9lcnJvclNjYWxlID0gbmV3IHRoaXMuX2N0b3IoIHRoaXMubiApXG4gIHRoaXMuX3cgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazEgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazIgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazMgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazQgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazUgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbiAgdGhpcy5fazYgPSBuZXcgdGhpcy5fY3RvciggdGhpcy5uIClcbn1cblxuSW50ZWdyYXRvci5wcm90b3R5cGUuX2NhbGN1bGF0ZUsxID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVyaXYoIHRoaXMuX2sxLCB0aGlzLnksIHRoaXMudCApXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuSW50ZWdyYXRvci5wcm90b3R5cGUuX2NhbGN1bGF0ZUtzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpXG5cbiAgLy92YXIgYTIxID0gIDAuMjAwMDAwMDAwMDAwMDAwMDAwIC8vIDEvNVxuICAvL3ZhciBhMzEgPSAgMC4wNzUwMDAwMDAwMDAwMDAwMDAgLy8gMy80MFxuICAvL3ZhciBhMzIgPSAgMC4yMjUwMDAwMDAwMDAwMDAwMDAgLy8gOS80MFxuICAvL3ZhciBhNDEgPSAgMC4zMDAwMDAwMDAwMDAwMDAwMDAgLy8gMy8xMFxuICAvL3ZhciBhNDIgPSAtMC45MDAwMDAwMDAwMDAwMDAwMDAgLy8gLTkvMTBcbiAgLy92YXIgYTQzID0gIDEuMjAwMDAwMDAwMDAwMDAwMDAwIC8vIDYvNVxuICAvL3ZhciBhNTEgPSAtMC4yMDM3MDM3MDM3MDM3MDM3MDMgLy8gLTExLzU0XG4gIC8vdmFyIGE1MiA9ICAyLjUwMDAwMDAwMDAwMDAwMDAwMCAvLyA1LzJcbiAgLy92YXIgYTUzID0gLTIuNTkyNTkyNTkyNTkyNTkyNTkyIC8vIC03MC8yN1xuICAvL3ZhciBhNTQgPSAgMS4yOTYyOTYyOTYyOTYyOTYyOTYgLy8gMzUvMjdcbiAgLy92YXIgYTYxID0gIDAuMDI5NDk1ODA0Mzk4MTQ4MTQ4IC8vIDE2MzEvNTUyOTZcbiAgLy92YXIgYTYyID0gIDAuMzQxNzk2ODc1MDAwMDAwMDAwIC8vIDE3NS81MTJcbiAgLy92YXIgYTYzID0gIDAuMDQxNTk0MzI4NzAzNzAzNzAzIC8vIDU3NS8xMzgyNFxuICAvL3ZhciBhNjQgPSAgMC40MDAzNDU0MTM3NzMxNDgxNDggLy8gNDQyNzUvMTEwNTkyXG4gIC8vdmFyIGE2NSA9ICAwLjA2MTc2NzU3ODEyNTAwMDAwMCAvLyAyNTMvNDA5NlxuXG4gIC8vdmFyIGIxICA9ICAwLjAwMDAwMDAwMDAwMDAwMDAwMCAvLyAwXG4gIC8vdmFyIGIyICA9ICAwLjIwMDAwMDAwMDAwMDAwMDAwMCAvLyAxLzVcbiAgLy92YXIgYjMgID0gIDAuMzAwMDAwMDAwMDAwMDAwMDAwIC8vIDMvMTBcbiAgLy92YXIgYjQgID0gIDAuNjAwMDAwMDAwMDAwMDAwMDAwIC8vIDMvNVxuICAvL3ZhciBiNSAgPSAgMS4wMDAwMDAwMDAwMDAwMDAwMDAgLy8gMVxuICAvL3ZhciBiNiAgPSAgMC44NzUwMDAwMDAwMDAwMDAwMDAgLy8gNy84XG5cbiAgLy8gU2FtZSBmb3IgZXZlcnkgc3RlcCwgc28gZG9uJ3QgcmVwZWF0OlxuICAvL3RoaXMuZGVyaXYoIHRoaXMuX2sxLCB0aGlzLnksIHRoaXMudCApXG5cbiAgZm9yKGk9MDsgaTx0aGlzLm47IGkrKykge1xuICAgIHRoaXMuX3dbaV0gPSB0aGlzLnlbaV0gKyB0aGlzLmR0ICogKFxuICAgICAgMC4yICogdGhpcy5fazFbaV0gKVxuICB9XG5cbiAgdGhpcy5kZXJpdiggdGhpcy5fazIsIHRoaXMuX3csIHRoaXMudCArIHRoaXMuZHQgKiAwLjIgKVxuXG4gIGZvcihpPTA7IGk8dGhpcy5uOyBpKyspIHtcbiAgICB0aGlzLl93W2ldID0gdGhpcy55W2ldICsgdGhpcy5kdCAqIChcbiAgICAgIDAuMDc1ICogdGhpcy5fazFbaV0gK1xuICAgICAgMC4yMjUgKiB0aGlzLl9rMltpXSApXG4gIH1cblxuICB0aGlzLmRlcml2KCB0aGlzLl9rMywgdGhpcy5fdywgdGhpcy50ICsgdGhpcy5kdCAqIDAuMyApXG5cbiAgZm9yKGk9MDsgaTx0aGlzLm47IGkrKykge1xuICAgIHRoaXMuX3dbaV0gPSB0aGlzLnlbaV0gKyB0aGlzLmR0ICogKFxuICAgICAgIDAuMyAqIHRoaXMuX2sxW2ldICtcbiAgICAgIC0wLjkgKiB0aGlzLl9rMltpXSArXG4gICAgICAgMS4yICogdGhpcy5fazNbaV0gKVxuICB9XG5cbiAgdGhpcy5kZXJpdiggdGhpcy5fazQsIHRoaXMuX3csIHRoaXMudCArIHRoaXMuZHQgKiAwLjYgKVxuXG4gIGZvcihpPTA7IGk8dGhpcy5uOyBpKyspIHtcbiAgICB0aGlzLl93W2ldID0gdGhpcy55W2ldICsgdGhpcy5kdCAqIChcbiAgICAgIC0wLjIwMzcwMzcwMzcwMzcwMzcwMyAqIHRoaXMuX2sxW2ldICtcbiAgICAgICAyLjUgICAgICAgICAgICAgICAgICAqIHRoaXMuX2syW2ldICtcbiAgICAgIC0yLjU5MjU5MjU5MjU5MjU5MjU5MiAqIHRoaXMuX2szW2ldICtcbiAgICAgICAxLjI5NjI5NjI5NjI5NjI5NjI5NiAqIHRoaXMuX2s0W2ldIClcbiAgfVxuXG4gIHRoaXMuZGVyaXYoIHRoaXMuX2s1LCB0aGlzLl93LCB0aGlzLnQgKyB0aGlzLmR0IC8qICogYjUgKi8gKVxuXG4gIGZvcihpPTA7IGk8dGhpcy5uOyBpKyspIHtcbiAgICB0aGlzLl93W2ldID0gdGhpcy55W2ldICsgdGhpcy5kdCAqIChcbiAgICAgIDAuMDI5NDk1ODA0Mzk4MTQ4MTQ4ICogdGhpcy5fazFbaV0gK1xuICAgICAgMC4zNDE3OTY4NzUgICAgICAgICAgKiB0aGlzLl9rMltpXSArXG4gICAgICAwLjA0MTU5NDMyODcwMzcwMzcwMyAqIHRoaXMuX2szW2ldICtcbiAgICAgIDAuNDAwMzQ1NDEzNzczMTQ4MTQ4ICogdGhpcy5fazRbaV0gK1xuICAgICAgMC4wNjE3Njc1NzgxMjUgICAgICAgKiB0aGlzLl9rNVtpXSApXG4gIH1cblxuICB0aGlzLmRlcml2KCB0aGlzLl9rNiwgdGhpcy5fdywgdGhpcy50ICsgdGhpcy5kdCAqIDAuODc1IClcblxuICByZXR1cm4gdGhpc1xufVxuXG5JbnRlZ3JhdG9yLnByb3RvdHlwZS5fY2FsY3VsYXRlRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgLy92YXIgY3MxID0gIDAuMTAyMTc3MzcyNjg1MTg1MTg1IC8vIDI4MjUvMjc2NDhcbiAgLy92YXIgY3MyID0gIDAuMDAwMDAwMDAwMDAwMDAwMDAwIC8vIDBcbiAgLy92YXIgY3MzID0gIDAuMzgzOTA3OTAzNDM5MTUzNDM5IC8vIDE4NTc1LzQ4Mzg0XG4gIC8vdmFyIGNzNCA9ICAwLjI0NDU5MjczNzI2ODUxODUxOCAvLyAxMzUyNS81NTI5NlxuICAvL3ZhciBjczUgPSAgMC4wMTkzMjE5ODY2MDcxNDI4NTcgLy8gMjc3LzE0MzM2XG4gIC8vdmFyIGNzNiA9ICAwLjI1MDAwMDAwMDAwMDAwMDAwMCAvLyAxLzRcblxuICAvL3ZhciBkYzEgPSAgMC4wMDQyOTM3NzQ4MDE1ODczMDEgLy8gY3MxIC0gYzFcbiAgLy92YXIgZGMyID0gIDAuMDAwMDAwMDAwMDAwMDAwMDAwIC8vIGNzMiAtIGMyXG4gIC8vdmFyIGRjMyA9IC0wLjAxODY2ODU4NjA5Mzg1NzgzMiAvLyBjczMgLSBjM1xuICAvL3ZhciBkYzQgPSAgMC4wMzQxNTUwMjY4MzA4MDgwODAgLy8gY3M0IC0gYzRcbiAgLy92YXIgZGM1ID0gIDAuMDE5MzIxOTg2NjA3MTQyODU3IC8vIGNzNSAtIGM1XG4gIC8vdmFyIGRjNiA9IC0wLjAzOTEwMjIwMjE0NTY4MDQwNiAvLyBjczYgLSBjNlxuXG4gIHZhciBlcnJvciA9IDBcbiAgZm9yKHZhciBpPTA7IGk8dGhpcy5uOyBpKyspIHtcbiAgICBlcnJvciA9ICB0aGlzLmVycm9yUmVkdWNlRnVuY3Rpb24oIGksIGVycm9yLFxuICAgICAgdGhpcy5kdCAqIChcbiAgICAgICAgIDAuMDA0MjkzNzc0ODAxNTg3MzAxICogdGhpcy5fazFbaV0gK1xuICAgICAgICAtMC4wMTg2Njg1ODYwOTM4NTc4MzIgKiB0aGlzLl9rM1tpXSArXG4gICAgICAgICAwLjAzNDE1NTAyNjgzMDgwODA4MCAqIHRoaXMuX2s0W2ldICtcbiAgICAgICAgIDAuMDE5MzIxOTg2NjA3MTQyODU3ICogdGhpcy5fazVbaV0gK1xuICAgICAgICAtMC4wMzkxMDIyMDIxNDU2ODA0MDYgKiB0aGlzLl9rNltpXVxuICAgICAgKSAvIHRoaXMuX2Vycm9yU2NhbGVbaV1cbiAgICApXG4gIH1cblxuICByZXR1cm4gdGhpcy5lcnJvclBvc3RGdW5jdGlvbihlcnJvcilcbn1cblxuSW50ZWdyYXRvci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvL3ZhciBjMSAgPSAgMC4wOTc4ODM1OTc4ODM1OTc4ODMgLy8gMzcvMzc4XG4gIC8vdmFyIGMyICA9ICAwLjAwMDAwMDAwMDAwMDAwMDAwMCAvLyAwXG4gIC8vdmFyIGMzICA9ICAwLjQwMjU3NjQ4OTUzMzAxMTI3MiAvLyAyNTAvNjIxXG4gIC8vdmFyIGM0ICA9ICAwLjIxMDQzNzcxMDQzNzcxMDQzNyAvLyAxMjUvNTk0XG4gIC8vdmFyIGM1ICA9ICAwLjAwMDAwMDAwMDAwMDAwMDAwMCAvLyAwXG4gIC8vdmFyIGM2ICA9ICAwLjI4OTEwMjIwMjE0NTY4MDQwNiAvLyA1MTIvMTc3MVxuXG4gIGZvcih2YXIgaT0wOyBpPHRoaXMubjsgaSsrKSB7XG4gICAgdGhpcy55W2ldICs9IHRoaXMuZHQgKiAoXG4gICAgICAwLjA5Nzg4MzU5Nzg4MzU5Nzg4MyAqIHRoaXMuX2sxW2ldICtcbiAgICAgIDAuNDAyNTc2NDg5NTMzMDExMjcyICogdGhpcy5fazNbaV0gK1xuICAgICAgMC4yMTA0Mzc3MTA0Mzc3MTA0MzcgKiB0aGlzLl9rNFtpXSArXG4gICAgICAwLjI4OTEwMjIwMjE0NTY4MDQwNiAqIHRoaXMuX2s2W2ldXG4gICAgKVxuICB9XG4gIHRoaXMudCArPSB0aGlzLmR0XG4gIHJldHVybiB0aGlzXG59XG5cbkludGVncmF0b3IucHJvdG90eXBlLl9jYWxjdWxhdGVFcnJvclNjYWxlID0gZnVuY3Rpb24oKSB7XG4gIGZvcih2YXIgaT0wOyBpPHRoaXMubjsgaSsrKSB7XG4gICAgdGhpcy5fZXJyb3JTY2FsZVtpXSA9IHRoaXMuZXJyb3JTY2FsZUZ1bmN0aW9uKGksIHRoaXMuZHQsIHRoaXMueVtpXSwgdGhpcy5fazFbaV0pXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuSW50ZWdyYXRvci5wcm90b3R5cGUuc3RlcCA9IGZ1bmN0aW9uKCB0TGltaXQgKSB7XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlXG5cbiAgLy8gRG9uJ3QgaW50ZWdyYXRlIHBhc3QgYSB0TGltaXQsIGlmIHByb3ZpZGVkOlxuICBpZiggdExpbWl0ICE9PSB1bmRlZmluZWQgKSB7XG4gICAgdGhpcy5kdCA9IHRoaXMuZHQgPiAwID8gTWF0aC5taW4oIHRMaW1pdCAtIHRoaXMudCwgdGhpcy5kdCApIDogTWF0aC5tYXgoIHRMaW1pdCAtIHRoaXMudCwgdGhpcy5kdCApXG4gIH1cblxuICAvLyBMaW1pdCB0aGUgbWFnbml0dWRlIG9mIGR0IHRvIGR0TWF4TWFnXG4gIGlmKCB0aGlzLmR0TWF4TWFnICE9PSB1bmRlZmluZWQgJiYgTWF0aC5hYnMoIHRoaXMuZHQgKSA+IHRoaXMuZHRNYXhNYWcgKSB7XG4gICAgY29uc29sZS5sb2coJ29kZTQ1LWNhc2gta2FycDo6c3RlcCgpIHN0ZXAgZ3JlYXRlciB0aGFuIG1heGltdW0gc3RlcHNpemUgcmVxdWVzdGVkLiBkdCBtYWduaXR1ZGUgaGFzIGJlZW4gbGltaXRlZC4nKVxuICAgIHRoaXMuZHQgPSB0aGlzLmR0ID4gMCA/IHRoaXMuZHRNYXhNYWcgOiAtdGhpcy5kdE1heE1hZ1xuICB9XG5cbiAgLy8gTGltaXQgdGhlIG1hZ25pdHVkZSBvZiBkdCB0byBkdE1pbk1hZ1xuICBpZiggdGhpcy5kdE1pbk1hZyAhPT0gdW5kZWZpbmVkICYmIE1hdGguYWJzKCB0aGlzLmR0ICkgPCB0aGlzLmR0TWluTWFnICkge1xuICAgIGNvbnNvbGUubG9nKCdvZGU0NS1jYXNoLWthcnA6OnN0ZXAoKSBzdGVwIHNtYWxsZXIgdGhhbiBtaW5pbXVtIHN0ZXBzaXplIHJlcXVlc3RlZC4gZHQgbWFnbml0dWRlIGhhcyBiZWVuIGxpbWl0ZWQuJylcbiAgICB0aGlzLmR0ID0gdGhpcy5kdCA+IDAgPyB0aGlzLmR0TWluTWFnIDogLXRoaXMuZHRNaW5NYWdcbiAgfVxuXG4gIC8vIFRoZSBmaXJzdCBkZXJpdmF0aXZlIGRvZXNuJ3QgY2hhbmdlIGV2ZW4gaWYgZHQgZG9lcywgc28gb25seSBjYWxjdWxhdGUgdGhpcyBvbmNlOlxuICB0aGlzLl9jYWxjdWxhdGVLMSgpXG5cbiAgLy8gVGhlIHNjYWxlIGZhY3RvciBwZXItZGltZW5zaW9uIHByb2JhYmx5IGRvZXNuJ3QgbmVlZCB0byBjaGFuZ2UgZWl0aGVyIGFjcm9zcyBhIHNpbmdsZSBhZGFwdGl2ZSBzdGVwOlxuICB0aGlzLl9jYWxjdWxhdGVFcnJvclNjYWxlKClcblxuICB2YXIgZXJyb3IgPSBJbmZpbml0eVxuICB2YXIgbWF4RXJyb3IgPSAwXG4gIHZhciBuZXh0RHRcbiAgdmFyIGxvd2VyRHRMaW1pdFJlYWNoZWQgPSBmYWxzZVxuXG4gIHdoaWxlKHRydWUpIHtcblxuICAgIC8vIENhbGN1bGF0ZSBpbnRlcm1lZGlhdGUgaydzIGZvciB0aGUgcHJvcG9zZWQgc3RlcDpcbiAgICB0aGlzLl9jYWxjdWxhdGVLcygpXG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIG1heCBlcnJvciBvZiB0aGUgcHJvcG9zZWQgc3RlcDpcbiAgICBlcnJvciA9IHRoaXMuX2NhbGN1bGF0ZUVycm9yKClcblxuICAgIGlmKCBlcnJvciA8IHRoaXMudG9sIHx8IGxvd2VyRHRMaW1pdFJlYWNoZWQgKSB7XG4gICAgICAvLyBTdWNjZXNzISBFeGl0OlxuICAgICAgYnJlYWtcbiAgICB9XG5cbiAgICBpZiggISBOdW1iZXIuaXNGaW5pdGUoZXJyb3IpICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvZGU0NS1jYXNoLWthcnA6OnN0ZXAoKSBOYU4gZW5jb3VudGVyZWQgd2hpbGUgaW50ZWdyYXRpbmcuJylcbiAgICB9XG5cbiAgICAvLyBGYWlsdXJlLiBBZGFwdCB0aGUgdGltZXN0ZXA6XG4gICAgbmV4dER0ID0gdGhpcy5zYWZldHlGYWN0b3IgKiB0aGlzLmR0ICogTWF0aC5wb3coIHRoaXMudG9sIC8gZXJyb3IsIDAuMiApXG5cbiAgICAvLyBDdXQgdGhlIHRpbWVzdGVwLCBidXQgbm90IGJ5IG1vcmUgdGhhbiBtYXhEZWNyZWFzZUZhY3RvclxuICAgIHRoaXMuZHQgPSAodGhpcy5kdCA+IDAgPyBNYXRoLm1heCA6IE1hdGgubWluKSggdGhpcy5kdC90aGlzLm1heERlY3JlYXNlRmFjdG9yLCBuZXh0RHQgKVxuXG4gICAgLy8gSWYgc3RlcHNpemUgdG9vIHNtYWxsLCBmaW5pc2ggb2ZmIGJ5IHRha2luZyB0aGUgY3VycmVudGx5IHByb3Bvc2VkIHN0ZXAgYW5kIGxvZ2dpbmcgYSB3YXJuaW5nOlxuICAgIGlmKCB0aGlzLmR0TWluTWFnICE9PSB1bmRlZmluZWQgJiYgTWF0aC5hYnModGhpcy5kdCkgPCB0aGlzLmR0TWluTWFnICkge1xuICAgICAgdGhpcy5kdCA9IHRoaXMuZHQgPiAwID8gdGhpcy5kdE1pbk1hZyA6IC10aGlzLmR0TWluTWFnXG4gICAgICBpZiggIXdhcm5lZCApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ29kZTQ1LWNhc2gta2FycDo6c3RlcCgpIG1pbmltdW0gc3RlcHNpemUgcmVhY2hlZC4nKVxuICAgICAgICB3YXJuZWQgPSB0cnVlXG4gICAgICB9XG4gICAgICBsb3dlckR0TGltaXRSZWFjaGVkID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGx5IHRoaXMgdXBkYXRlOlxuICB0aGlzLl91cGRhdGUoKVxuXG4gIC8vIENhbGN1bGF0ZSB0aGUgbmV4dCB0aW1lc3RlcCBzaXplOlxuICBuZXh0RHQgPSB0aGlzLnNhZmV0eUZhY3RvciAqIHRoaXMuZHQgKiBNYXRoLnBvdyggdGhpcy50b2wgLyBlcnJvciwgMC4yNSApXG5cbiAgLy8gSW5jcmVhc2UgdGhlIHRpbWVzdGVwIGZvciB0aGUgbmV4dCB0aW1lIGFyb3VuZCwgYnV0IG5vdCBieSBtb3JlIHRoYW4gdGhlIG1heEluY3JlYXNlRmFjdG9yOlxuICB0aGlzLmR0ID0gKHRoaXMuZHQgPiAwID8gTWF0aC5taW4gOiBNYXRoLm1heCkoIHRoaXMuZHQgKiB0aGlzLm1heEluY3JlYXNlRmFjdG9yLCBuZXh0RHQgKVxuXG4gIGlmKCB0TGltaXQgIT09IHVuZGVmaW5lZCApIHtcbiAgICAvLyBJZiB3ZSBoaXQgdGhlIGxpbWl0LCByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiB0aGlzLnQgPiB0aGlzLnQgLSBNYXRoLmFicyh0aGlzLmR0KSoxZS04XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5JbnRlZ3JhdG9yLnByb3RvdHlwZS5zdGVwcyA9IGZ1bmN0aW9uKCBuLCB0TGltaXQgKSB7XG4gIGZvcih2YXIgc3RlcD0wOyBzdGVwPG47IHN0ZXArKykge1xuICAgIGlmKCAhIHRoaXMuc3RlcCh0TGltaXQpICkgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24gSW50ZWdyYXRvckZhY3RvcnkoIHkwLCBkZXJpdiwgdCwgZHQsIG9wdGlvbnMgKSB7XG4gIHJldHVybiBuZXcgSW50ZWdyYXRvciggeTAsIGRlcml2LCB0LCBkdCwgb3B0aW9ucyApXG59XG5cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9vZGU0NS1jYXNoLWthcnAvbGliL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxMzlcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9");

/***/ }),
/* 140 */
/***/ (function(module, exports) {

eval("/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQwLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzP2I5ODAiXSwic291cmNlc0NvbnRlbnQiOlsiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMTQwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),
/* 141 */,
/* 142 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(120);\n\nvar _CommonState = __webpack_require__(115);\n\nvar _CommonState2 = _interopRequireDefault(_CommonState);\n\nvar _SolarSystem = __webpack_require__(118);\n\nvar _SolarSystem2 = _interopRequireDefault(_SolarSystem);\n\nvar _Simulation = __webpack_require__(117);\n\nvar _Simulation2 = _interopRequireDefault(_Simulation);\n\nvar _CameraViewRenderer = __webpack_require__(114);\n\nvar _CameraViewRenderer2 = _interopRequireDefault(_CameraViewRenderer);\n\nvar _OrbitalMapRenderer = __webpack_require__(116);\n\nvar _OrbitalMapRenderer2 = _interopRequireDefault(_OrbitalMapRenderer);\n\nvar _TestingRenderer = __webpack_require__(119);\n\nvar _TestingRenderer2 = _interopRequireDefault(_TestingRenderer);\n\nvar _stats = __webpack_require__(3);\n\nvar _stats2 = _interopRequireDefault(_stats);\n\nvar _three = __webpack_require__(1);\n\nvar THREE = _interopRequireWildcard(_three);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar solarSystem = new _SolarSystem2.default();\n\nvar mapViewContainer = document.getElementById('map-view');\nvar cameraViewContainer = document.getElementById('camera-view');\nvar testingViewContainer = document.getElementById('testing-view');\n\nvar stats = new _stats2.default();\nstats.dom.id = 'stats';\nstats.dom.style = '';\n\ndocument.body.appendChild(mapViewContainer);\ndocument.body.appendChild(cameraViewContainer);\ndocument.getElementById('stats-overlay').appendChild(stats.dom);\n\nvar textureLoader = new THREE.TextureLoader();\n\nvar state = new _CommonState2.default();\nvar renderers = [new _OrbitalMapRenderer2.default(mapViewContainer, textureLoader, state), new _CameraViewRenderer2.default(cameraViewContainer, textureLoader, state)];\n\nvar simulation = new _Simulation2.default(solarSystem, renderers, state, stats);\nsimulation.initialize().then(function () {\n  simulation.run();\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3NyYy9pbmRleC5qcz8xZmRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi9jc3Mvc3R5bGVzLmNzcyc7XG5pbXBvcnQgQ29tbW9uU3RhdGUgZnJvbSAnLi9hcHAvQ29tbW9uU3RhdGUnO1xuaW1wb3J0IFNvbGFyU3lzdGVtIGZyb20gJy4vYXBwL1NvbGFyU3lzdGVtJztcbmltcG9ydCBTaW11bGF0aW9uIGZyb20gJy4vYXBwL1NpbXVsYXRpb24nO1xuaW1wb3J0IENhbWVyYVZpZXdSZW5kZXJlciBmcm9tICcuL2FwcC9DYW1lcmFWaWV3UmVuZGVyZXInO1xuaW1wb3J0IE9yYml0YWxNYXBSZW5kZXJlciBmcm9tICcuL2FwcC9PcmJpdGFsTWFwUmVuZGVyZXInO1xuaW1wb3J0IFRlc3RpbmdSZW5kZXJlciBmcm9tICcuL2FwcC9UZXN0aW5nUmVuZGVyZXInO1xuaW1wb3J0IFN0YXRzIGZyb20gJ3N0YXRzLmpzJztcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJztcblxuY29uc3Qgc29sYXJTeXN0ZW0gPSBuZXcgU29sYXJTeXN0ZW0oKTtcblxubGV0IG1hcFZpZXdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwLXZpZXcnKTtcbmxldCBjYW1lcmFWaWV3Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbWVyYS12aWV3Jyk7XG5sZXQgdGVzdGluZ1ZpZXdDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdGluZy12aWV3Jyk7XG5cbmxldCBzdGF0cyA9IG5ldyBTdGF0cygpO1xuc3RhdHMuZG9tLmlkID0gJ3N0YXRzJztcbnN0YXRzLmRvbS5zdHlsZSA9ICcnO1xuXG5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1hcFZpZXdDb250YWluZXIpO1xuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW1lcmFWaWV3Q29udGFpbmVyKTtcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0cy1vdmVybGF5JykuYXBwZW5kQ2hpbGQoc3RhdHMuZG9tKTtcblxuY29uc3QgdGV4dHVyZUxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XG5cbmNvbnN0IHN0YXRlID0gbmV3IENvbW1vblN0YXRlKCk7XG5jb25zdCByZW5kZXJlcnMgPSBbXG4gIG5ldyBPcmJpdGFsTWFwUmVuZGVyZXIobWFwVmlld0NvbnRhaW5lciwgdGV4dHVyZUxvYWRlciwgc3RhdGUpLFxuICBuZXcgQ2FtZXJhVmlld1JlbmRlcmVyKGNhbWVyYVZpZXdDb250YWluZXIsIHRleHR1cmVMb2FkZXIsIHN0YXRlKSxcbl07XG5cbmNvbnN0IHNpbXVsYXRpb24gPSBuZXcgU2ltdWxhdGlvbihzb2xhclN5c3RlbSwgcmVuZGVyZXJzLCBzdGF0ZSwgc3RhdHMpO1xuc2ltdWxhdGlvbi5pbml0aWFsaXplKClcbiAgLnRoZW4oKCkgPT4ge1xuICAgIHNpbXVsYXRpb24ucnVuKClcbiAgfSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2luZGV4LmpzIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBREE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })
],[142]);